{"version":3,"sources":["webpack:///./src/main/js/apps/security-hotspots/styles.css?978b","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronUpIcon.js","webpack:///./src/main/js/apps/security-hotspots/components/HotspotList.css?98a3","webpack:///./src/main/js/apps/security-hotspots/components/HotspotList.css","webpack:///./src/main/js/apps/security-hotspots/components/assignee/AssigneeSelection.css?fed6","webpack:///./src/main/js/apps/security-hotspots/components/assignee/AssigneeSelection.css","webpack:///./src/main/js/apps/security-hotspots/components/HotspotViewer.css?94be","webpack:///./src/main/js/apps/security-hotspots/components/HotspotViewer.css","webpack:///./src/main/js/apps/security-hotspots/components/status/Status.css?dec8","webpack:///./src/main/js/apps/security-hotspots/components/status/Status.css","webpack:///./src/main/js/apps/security-hotspots/styles.css","webpack:///./src/main/js/api/security-hotspots.ts","webpack:///./src/main/js/types/security-hotspots.ts","webpack:///./src/main/js/apps/security-hotspots/components/EmptyHotspotsPage.tsx","webpack:///./src/main/js/apps/security-hotspots/components/FilterBar.tsx","webpack:///./src/main/js/apps/security-hotspots/utils.ts","webpack:///./src/main/js/apps/security-hotspots/components/HotspotListItem.tsx","webpack:///./src/main/js/apps/security-hotspots/components/HotspotCategory.tsx","webpack:///./src/main/js/apps/security-hotspots/components/HotspotList.tsx","webpack:///./src/main/js/apps/security-hotspots/components/HotspotSimpleList.tsx","webpack:///./src/main/js/apps/security-hotspots/components/assignee/AssigneeSelectionRenderer.tsx","webpack:///./src/main/js/apps/security-hotspots/components/assignee/AssigneeSelection.tsx","webpack:///./src/main/js/apps/security-hotspots/components/assignee/AssigneeRenderer.tsx","webpack:///./src/main/js/apps/security-hotspots/components/assignee/Assignee.tsx","webpack:///./src/main/js/helpers/sonarlint.ts","webpack:///./src/main/js/apps/security-hotspots/components/HotspotOpenInIdeOverlay.tsx","webpack:///./src/main/js/apps/security-hotspots/components/HotspotOpenInIdeButton.tsx","webpack:///./src/main/js/app/utils/addGlobalErrorMessage.ts","webpack:///./src/main/js/apps/security-hotspots/components/HotspotCommentPopup.tsx","webpack:///./src/main/js/apps/security-hotspots/components/HotspotReviewHistory.tsx","webpack:///./src/main/js/apps/security-hotspots/components/HotspotReviewHistoryAndComments.tsx","webpack:///./src/main/js/apps/security-hotspots/components/HotspotSnippetContainerRenderer.tsx","webpack:///./src/main/js/apps/security-hotspots/components/HotspotSnippetContainer.tsx","webpack:///./src/main/js/apps/security-hotspots/components/HotspotViewerTabs.tsx","webpack:///./src/main/js/apps/security-hotspots/components/status/StatusDescription.tsx","webpack:///./src/main/js/apps/security-hotspots/components/status/StatusSelectionRenderer.tsx","webpack:///./src/main/js/apps/security-hotspots/components/status/StatusSelection.tsx","webpack:///./src/main/js/apps/security-hotspots/components/status/Status.tsx","webpack:///./src/main/js/apps/security-hotspots/components/HotspotViewerRenderer.tsx","webpack:///./src/main/js/apps/security-hotspots/components/HotspotViewer.tsx","webpack:///./src/main/js/apps/security-hotspots/SecurityHotspotsAppRenderer.tsx","webpack:///./src/main/js/apps/security-hotspots/SecurityHotspotsApp.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.js","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.js","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.css?2512","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.css","webpack:///./node_modules/sonar-ui-common/components/icons/QualifierIcon.js","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./node_modules/lodash/without.js","webpack:///./node_modules/sonar-ui-common/components/controls/ListFooter.js","webpack:///./node_modules/lodash/_baseDifference.js","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.css?7974","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.css","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/lodash/map.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateFormatter.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateFromNow.js","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/IssueTypeIcon.js","webpack:///./node_modules/sonar-ui-common/components/controls/ActionsDropdown.js","webpack:///./node_modules/sonar-ui-common/components/icons/SettingsIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/DetachIcon.js","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/sonar-ui-common/components/ui/Level.js","webpack:///./node_modules/lodash/difference.js","webpack:///./src/main/js/components/shared/SeverityHelper.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/RadioToggle.js","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.js","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css?01af","webpack:///./node_modules/sonar-ui-common/components/controls/RadioToggle.css?35f6","webpack:///./node_modules/sonar-ui-common/components/controls/RadioToggle.css","webpack:///./node_modules/sonar-ui-common/components/ui/Rating.js","webpack:///./src/main/js/helpers/sanitize.ts","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css","webpack:///./node_modules/sonar-ui-common/components/icons/TagsIcon.js","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./node_modules/sonar-ui-common/components/ui/Level.css?4f58","webpack:///./node_modules/sonar-ui-common/components/ui/Level.css","webpack:///./node_modules/valid-url/index.js","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./node_modules/sonar-ui-common/helpers/pages.js","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronDownIcon.js","webpack:///./src/main/js/components/tags/TagsList.css?d861","webpack:///./src/main/js/app/utils/addGlobalSuccessMessage.ts","webpack:///./node_modules/sonar-ui-common/components/icons/IssueIcon.js","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/SeverityIcon.js","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./src/main/js/components/common/DocumentationTooltip.tsx","webpack:///./src/main/js/components/tags/TagsList.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/LinkIcon.js","webpack:///./src/main/js/components/common/FormattingTips.tsx","webpack:///./src/main/js/components/tags/TagsList.css","webpack:///./node_modules/lodash/range.js","webpack:///./node_modules/lodash/_createRange.js","webpack:///./node_modules/lodash/_baseRange.js","webpack:///./node_modules/sonar-ui-common/components/ui/Rating.css?a2dd","webpack:///./node_modules/sonar-ui-common/components/ui/Rating.css","webpack:///./src/main/js/components/tags/TagsSelector.tsx","webpack:///./node_modules/lodash/flatMap.js","webpack:///./src/main/js/components/ui/CoverageRating.tsx","webpack:///./src/main/js/components/common/LocationIndex.tsx","webpack:///./src/main/js/components/shared/StatusHelper.tsx","webpack:///./src/main/js/helpers/security-standard.ts","webpack:///./src/main/js/components/SourceViewer/helpers/indexing.ts","webpack:///./src/main/js/components/SourceViewer/helpers/highlight.ts","webpack:///./src/main/js/components/SourceViewer/helpers/issueLocations.ts","webpack:///./src/main/js/components/SourceViewer/SourceViewerContext.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/FilterIcon.js","webpack:///./node_modules/lodash/intersection.js","webpack:///./node_modules/sonar-ui-common/components/icons/ExpandSnippetIcon.js","webpack:///./node_modules/lodash/_baseIntersection.js","webpack:///./node_modules/lodash/_castArrayLikeObject.js","webpack:///./node_modules/sonar-ui-common/components/controls/BoxedTabs.js","webpack:///./src/main/js/components/issue/actions.ts","webpack:///./src/main/js/components/common/SelectListItem.tsx","webpack:///./src/main/js/components/common/SelectList.tsx","webpack:///./src/main/js/components/issue/popups/SetAssigneePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueAssign.tsx","webpack:///./src/main/js/components/issue/popups/CommentPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentAction.tsx","webpack:///./src/main/js/components/issue/popups/SetSeverityPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueSeverity.tsx","webpack:///./src/main/js/components/issue/popups/SetIssueTagsPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTags.tsx","webpack:///./src/main/js/components/issue/popups/SetTransitionPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTransition.tsx","webpack:///./src/main/js/components/issue/popups/SetTypePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueType.tsx","webpack:///./src/main/js/components/issue/components/IssueActionsBar.tsx","webpack:///./src/main/js/components/issue/popups/CommentDeletePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentLine.tsx","webpack:///./src/main/js/types/rules.ts","webpack:///./src/main/js/components/issue/popups/ChangelogPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelog.tsx","webpack:///./src/main/js/components/issue/components/IssueMessage.tsx","webpack:///./src/main/js/components/issue/popups/SimilarIssuesPopup.tsx","webpack:///./src/main/js/components/issue/components/SimilarIssuesFilter.tsx","webpack:///./src/main/js/components/issue/components/IssueTitleBar.tsx","webpack:///./src/main/js/components/issue/IssueView.tsx","webpack:///./src/main/js/components/issue/Issue.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelogDiff.tsx","webpack:///./src/main/js/components/common/LocationMessage.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewerHeaderSlim.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewerHeaderSlim.css?94e1","webpack:///./src/main/js/components/SourceViewer/SourceViewerHeaderSlim.css","webpack:///./node_modules/lodash/times.js","webpack:///./src/main/js/components/SourceViewer/components/Line.css?69c4","webpack:///./src/main/js/components/SourceViewer/components/Line.css","webpack:///./src/main/js/components/common/LocationIndex.css?e012","webpack:///./src/main/js/components/common/LocationIndex.css","webpack:///./src/main/js/components/common/LocationMessage.css?8760","webpack:///./src/main/js/components/common/LocationMessage.css","webpack:///./src/main/js/components/issue/Issue.css?a142","webpack:///./src/main/js/components/issue/Issue.css","webpack:///./node_modules/sonar-ui-common/components/icons/StatusIcon.js","webpack:///./src/main/js/components/SourceViewer/helpers/lines.ts","webpack:///./src/main/js/apps/issues/crossComponentSourceViewer/utils.ts","webpack:///./src/main/js/components/SourceViewer/components/LineIssuesList.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineCode.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineCoverage.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineDuplicationBlock.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineIssuesIndicator.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineOptionsPopup.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineNumber.tsx","webpack:///./src/main/js/components/SourceViewer/components/SCMPopup.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineSCM.tsx","webpack:///./src/main/js/components/SourceViewer/components/Line.tsx","webpack:///./src/main/js/apps/issues/crossComponentSourceViewer/SnippetViewer.tsx","webpack:///./src/main/js/apps/issues/crossComponentSourceViewer/SnippetViewer.css?ff37","webpack:///./src/main/js/apps/issues/crossComponentSourceViewer/SnippetViewer.css"],"names":["api","content","__esModule","default","module","i","options","exported","locals","exports","__assign","this","Object","assign","t","s","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defineProperty","value","React","Icon_1","_a","_b","fill","iconProps","createElement","d","style","___CSS_LOADER_API_IMPORT___","push","getSecurityHotspots","data","catch","throwGlobalError","RiskExposure","HotspotStatus","HotspotResolution","HotspotStatusFilter","HotspotStatusOption","ReviewHistoryType","EmptyHotspotsPage","props","filtered","isStaticListOfHotspots","translationRoot","className","alt","height","src","target","to","pathname","statusOptions","TO_REVIEW","label","FIXED","SAFE","periodOptions","AssigneeFilterOption","assigneeFilterOptions","ME","ALL","withCurrentUser","currentUser","component","filters","hotspotsReviewedMeasure","loadingMeasure","onBranch","isProject","qualifier","Project","id","onClick","onShowAllHotspots","role","tabIndex","name","onCheck","onChangeFilters","assignedToMe","clearable","onChange","option","status","searchable","sinceLeakPeriod","overlay","loading","CoverageRating","Measure","metricKey","metricType","RISK_EXPOSURE_LEVELS","HIGH","MEDIUM","LOW","SECURITY_STANDARDS","SONARSOURCE","OWASP_TOP10","SANS_TOP25","CWE","SECURITY_STANDARD_RENDERER","groupByCategory","hotspots","securityCategories","groups","h","securityCategory","keys","map","key","title","getCategoryTitle","STATUS_AND_RESOLUTION_TO_STATUS_OPTION","REVIEWED","getStatusOptionFromStatusAndResolution","resolution","STATUS_OPTION_TO_STATUS_AND_RESOLUTION_MAP","undefined","HotspotListItem","hotspot","selected","highlight","href","message","HotspotCategory","categoryKey","expanded","selectedHotspot","isLastAndIncomplete","risk","vulnerabilityProbability","onToggleExpand","onHotspotClick","super","groupHotspots","risks","categories","filter","handleToggleCategory","setState","expandedCategories","state","groupedHotspots","prevProps","hotspotsTotal","loadingMore","statusFilter","riskGroup","riskGroupIndex","isLastRiskGroup","cat","categoryIndex","isLastCategory","count","loadMore","onLoadMore","total","filterByCategory","filterByCWE","standards","categoryLabel","standard","category","cweLabel","AssigneeSelectionRenderer","highlighted","query","suggestedUsers","autoFocus","onSearch","onKeyDown","placeholder","Dropdown","noPadding","placement","BottomLeft","suggestion","active","login","onSelect","Avatar","hash","avatar","size","UNASSIGNED","mounted","handleSearch","handleNoSearch","handleActualSearch","allowCurrentUserSelection","loggedInUser","q","then","result","users","concat","handleKeyDown","event","keyCode","Enter","preventDefault","selectHighlighted","UpArrow","highlightPrevious","DownArrow","highlightNext","getCurrentIndex","findIndex","highlightIndex","index","AssigneeRenderer","assignee","canEdit","editing","onEnterEditionMode","onKeydown","onExitEditionMode","onClickOutside","onAssign","handleEnterEditionMode","handleExitEditionMode","handleAssign","newAssignee","hotspotKey","onAssigneeChange","addGlobalSuccessMessage","assigneeUser","async","probeSonarLintServers","probeRequests","start","Array","from","buildPortRange","fetch","buildSonarLintEndpoint","r","json","ideName","description","port","Promise","all","path","HotspotOpenInIdeOverlay","ides","onIdeSelected","ide","handleOnClick","showError","openHotspot","projectKey","calledPort","showUrl","URL","searchParams","set","toString","showSuccess","finally","cleanState","addGlobalErrorMessage","getStore","dispatch","globalMessages","open","onRequestClose","HotspotCommentPopup","comment","setComment","markdownComment","rows","FormattingTips","onCommentEditSubmit","onCancelEdit","HotspotReviewHistory","reviewHistory","history","creationDate","type","Creation","date","user","authorUser","changelog","log","Diff","isUserActive","userName","diffs","Comment","createdAt","updatable","html","htmlText","markdown","elt","getHotspotReviewHistory","editedCommentKey","setEditedCommentKey","historyElt","historyIndex","diff","diffIndex","IssueChangelogDiff","dangerouslySetInnerHTML","__html","sanitize","BottomRight","onEditComment","onOpen","onDeleteComment","overlayPlacement","handleCommentChange","handleCloseComment","onCloseComment","handleSubmitComment","onCommentUpdate","handleDeleteComment","commentKey","handleEditComment","text","editSecurityHotspotComment","commentTextRef","commentVisible","invisible","onOpenComment","ref","noop","HotspotSnippetContainerRenderer","branchLike","displayProjectName","highlightedSymbols","locations","sourceLines","sourceViewerFile","SourceViewerHeaderSlim","expandable","linkToProject","onExpand","SourceViewerContext","Provider","file","SnippetViewer","displaySCM","expandBlock","_i","direction","onExpandBlock","handleCloseIssues","handleOpenIssues","handleSymbolClick","onSymbolClick","highlightedLocationMessage","issue","issuesByLine","lastSnippetOfLastGroup","locationsByLine","onIssueChange","onIssuePopupToggle","onLocationSelect","openIssuesByLine","renderDuplicationPopup","snippet","handleExpansion","range","Math","max","line","additionalLines","lastLine","previousLastLine","checkLastLine","concatSourceLines","slice","fetchSources","lines","lastLineReceived","textRange","startLine","endLine","project","measures","projectName","uuid","constructSourceViewerFile","Application","TabKeys","handleSelectTabs","tabKey","tabs","currentTab","find","tab","computeTabs","RiskDescription","rule","riskDescription","VulnerabilityDescription","vulnerabilityDescription","FixRecommendation","fixRecommendations","Boolean","StatusDescription","statusOption","showTitle","StatusSelectionRenderer","selectedStatus","submitDisabled","renderOption","checked","onStatusChange","htmlFor","onCommentChange","currentTarget","disabled","onSubmit","handleStatusChange","handleSubmit","initialStatus","onStatusOptionChange","isOpen","setIsOpen","readonly","canChangeStatus","trigger","actionableTrigger","closeOnClickOutside","closeOnEscape","Bottom","permalink","copyValue","onUpdateHotspot","fetchHotspot","securityHotspotKey","response","u","author","forEach","c","handleHotspotUpdate","statusUpdate","handleOpenComment","current","focus","preventScroll","bottomOffset","prevState","SecurityHotspotsAppRenderer","scrollableRef","parent","element","document","querySelector","smooth","topOffset","Suggestions","suggestions","A11ySkipTarget","anchor","ScreenPositionHelper","top","selectNeighboringHotspot","shift","min","handleCallFailure","fetchSecurityHotspotsReviewed","reviewedHotspotsMetricKey","metricKeys","measure","reloadSecurityHotspotList","fetchSecurityHotspots","paging","hotspotsPageIndex","handleChangeFilters","changes","handleHotspotClick","fetchBranchStatus","hotspotPages","allHotspots","nextHotspot","pageIndex","handleShowAllHotspots","router","location","handleLoadMore","additionalHotspots","constructFiltersFromProps","fetchInitialData","registerKeyboardEvents","previous","some","unregisterKeyboardEvents","page","hotspotKeys","split","stnd","cwe","join","getSecurityHotspotList","hotspotFilters","ps","onlyMine","mapDispatchToProps","classNames","HelpIcon_1","theme_1","Tooltip_1","HelpTooltip","mouseLeaveDelay","onShow","children","ThemeConsumer","theme","colors","gray71","DarkHelpTooltip","transparentBlack","fillInner","white","extendStatics","__extends","b","setPrototypeOf","__proto__","__","constructor","create","DeferredSpinner_1","Checkbox","_super","_this","handleClick","blur","render","right","thirdState","note","defaultProps","PureComponent","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","qualifierIcons","app","ThemedIcon","blue","brc","dev","dir","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","orange","toLowerCase","FoundIcon","isArrayLike","isObjectLike","baseDifference","baseRest","isArrayLikeObject","without","array","values","l10n_1","measures_1","buttons_1","button","needReload","ready","hasMore","reload","Button","translate","translateWithParameters","formatMeasure","SetCache","arrayIncludes","arrayIncludesWith","arrayMap","baseUnary","cacheHas","iteratee","comparator","includes","isCommon","valuesLength","outer","computed","valuesIndex","baseIteratee","baseMap","isArray","collection","react_intl_1","dates_1","formatterOption","year","month","day","longFormatterOption","long","FormattedDate","parseDate","date_fns_1","DateTimeFormatter_1","originalChildren","f","hourPrecision","Fragment","differenceInHours","Date","now","parsedDate","formattedDate","FormattedRelative","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","weight","IssueIcon_1","react_router_1","DropdownIcon_1","SettingsIcon_1","clipboard_1","Dropdown_1","small","toggleClassName","ActionsDropdownItem","destructive","download","Link","ClipboardBase","setCopyButton","copySuccess","visible","ActionsDropdownDivider","_c","viewBox","transform","baseAssignValue","createAggregator","groupBy","formatted","level","muted","baseFlatten","difference","SeverityHelper","severity","RadioToggle","htmlId","tooltip","Radio","ariaAttrs","sanitizeStringRestricted","ALLOWED_TAGS","ALLOWED_ATTR","sanitizeString","USE_PROFILES","KNOWN_RATINGS","enhanceMeasure","metrics","metric","leak","getLeakValue","period","getRatingTooltip","finalMetricKey","substr","is_uri","is_iri","is_http_uri","is_http_iri","is_https_uri","is_https_iri","is_web_uri","is_web_iri","isUri","isHttpUri","isHttpsUri","isWebUri","splitUri","uri","match","test","splitted","authority","fragment","scheme","out","allowHttps","replace","decimals","formattedValue","omitExtraDecimalZeros","Number","rating","toggleBodyClass","force","body","classList","toggle","documentElement","addSideBarClass","addWhitePageClass","addNoFooterPageClass","console","warn","removeSideBarClass","removeWhitePageClass","removeNoFooterPageClass","BugIcon_1","CodeSmellIcon_1","SecurityHotspotIcon_1","VulnerabilityIcon_1","getPosition","containerPos","container","getBoundingClientRect","window","pageYOffset","left","pageXOffset","debouncedOnResize","forceUpdate","addEventListener","removeEventListener","severityIcons","blocker","red","fillRule","critical","major","minor","lightGreen","info","Icon","MultiSelectOption","custom","onHover","renderLabel","onFocus","onMouseOver","onSelectChange","handleSelectChange","item","onSelectItem","onUnselectItem","handleSearchChange","onSearchQuery","validateSearchInput","handleElementHover","activeIdx","getAllElements","handleKeyboard","evt","stopPropagation","selectNextElement","selectPreviousElement","toggleSelect","stopLoading","isNewElement","onUnselect","elem","selectedElements","elements","updateSelectedElements","filterSelected","updateUnselectedElements","listSize","unselectedElements","setElementActive","idx","allElements","nextProps","totalElements","searchInput","allowSelection","allowNewElements","footerNode","activeElement","showNewElement","infiniteList","listClasses","div","DocumentationTooltip","links","inPlace","rel","TagsList","allowUpdate","tags","createRange","baseRange","isIterateeCall","toFinite","fromRight","end","step","nativeCeil","ceil","nativeMax","TagsSelector","selectedTags","validateTag","DonutChart","SIZE_TO_WIDTH_MAPPING","normal","big","huge","SIZE_TO_THICKNESS_MAPPING","padAngle","numberValue","green","barBackgroundColor","lineCoverageRed","width","thickness","LocationIndex","leading","other","clickAttributes","StatusHelper","getStandards","x","renderCWECategory","record","renderOwaspTop10Category","withPrefix","owaspTop10","addPrefix","toUpperCase","renderSansTop25Category","sansTop25","renderSonarSourceSecurityCategory","sonarsourceSecurity","prefix","issues","issuesByComponentAndLine","reduce","mapping","duplicationsByLine","duplications","blocks","duplicationIndex","block","_ref","symbolsByLine","sources","tokens","code","symbols","token","splitByTokens","rootClassName","innerHTML","childNodes","node","nodeType","fullClassName","innerTokens","nodeValue","markers","highlightSymbol","symbol","symbolRegExp","RegExp","part","str","acc","highlightIssueLocations","issueLocations","nextTokens","markerAdded","s1","e1","s2","e2","p1","p2","p3","newClassName","getLinearLocations","startOffset","endOffset","getSecondaryIssueLocationsForLine","highlightedLocations","l","msg","baseIntersection","castArrayLikeObject","intersection","arrays","mapped","stroke","strokeWidth","nativeMin","othLength","othIndex","caches","maxLength","Infinity","seen","cache","__makeTemplateObject","cooked","raw","templateObject_1","templateObject_2","templateObject_3","TabContainer","styled","baseBorder","barBorderColor","highlightHoverMixin","barBackgroundColorHighlight","StyledTab","themeSize","ActiveBorder","themeColor","updateIssue","resultPromise","oldIssue","newIssue","optimisticUpdate","components","rules","param","handleSelect","handleHover","renderLink","attachShortcuts","previousKeyScope","previousFilter","currentKeyScope","tagName","srcElement","isInput","detachShortcuts","items","renderChild","child","currentItem","hasChildren","searchUsers","handleSearchResult","activeUsers","defaultUsersArray","minLength","marginLeft","toggleAssign","togglePopup","handleClose","assigneeName","assigneeAvatar","assigneeActive","canAssign","renderAssignee","textComment","handleCommentClick","trim","onComment","handleCancelClick","toggleComment","metaKey","ctrlKey","autoTriggered","addComment","issueKey","currentPopup","commentAutoTriggered","commentPlaceholder","SEVERITY","SetSeverityPopup","toggleSetSeverity","setSeverity","setIssueProperty","canSetSeverity","searchResult","tag","setTags","availableTags","toggleSetTags","canSetTags","SetTransitionPopup","fromHotspot","transitions","isManualVulnerability","transition","defaultMessage","community_plug_link","translateTransition","setTransition","toggleSetTransition","hasTransitions","TYPES","SetTypePopup","toggleSetType","setType","canSetType","baseFontColor","property","popup","apiCall","handleTransition","actions","canComment","isSecurityHotspot","effort","CommentDeletePopup","onDelete","openPopup","handleEdit","onEdit","toggleEditPopup","handleDelete","toggleDeletePopup","popupName","closePopups","authorName","displayName","authorActive","authorAvatar","RuleStatus","loadChangelog","toggleChangelog","IssueMessage","engine","engineName","manualVulnerability","ruleKey","ruleStatus","ruleEngine","onOpenRule","Deprecated","Removed","onFilter","subProject","ruleName","subProjectName","componentQualifier","componentLongName","handleFilter","IssueTitleBar","hasSimilarIssuesFilter","locationsCount","secondaryLocations","flows","sum","locationsBadge","displayLocations","displayLocationsCount","issueUrl","types","externalRulesRepoNames","openRule","externalRuleEngine","displayLocationsLink","handleCheck","isClickable","parentElement","editComment","deleteComment","hasCheckbox","issueClass","comments","onPopupToggle","handleAssignement","bindShortcuts","unbindShortcuts","oldValue","newValue","LocationMessage","projectNameLabel","SubProject","files","resolved","statusIcons","OpenStatusIcon","confirmed","ConfirmedStatusIcon","reopened","ResolvedStatusIcon","closed","to_review","in_review","reviewed","optimizeHighlightedSymbols","symbolsForLine","optimizeLocationMessage","optimizedSecondaryIssueLocations","optimizeSelectedIssue","selectedIssue","issuesForLine","MERGE_DISTANCE","LINES_BELOW_ISSUE","EXPAND_BY_LINES","collision","startA","endA","startB","endB","getPrimaryLocation","createSnippets","params","hasSecondaryLocations","ranges","snippets","loc","startIndex","endIndex","locationEnd","issueEndLine","addLinesBellow","firstCollision","keep","sort","a","linesForSnippets","componentLines","groupLocationsByComponent","currentGroup","currentComponent","addGroup","componentKey","every","expandSnippet","snippetIndex","snippetToExpand","Error","toDelete","inSnippet","LineIssuesList","issuePopup","Issue","displayIssueLocationsCount","displayIssueLocationsLink","onIssueClick","attachEvents","activeMarkerNode","scroll","detachEvents","codeNode","querySelectorAll","onIssueSelect","padding","secondaryIssueLocations","showIssues","renderedTokens","leadingMarker","displayLocationMarkers","marker","renderMarker","paddingBottom","filteredSelectedIssues","scrollToUncoveredLine","coverageMarker","coverageStatus","conditions","coveredConditions","getStatusTooltip","blocksLoaded","duplicated","dropdownOpen","setDropdownOpen","RightTop","issuesOpen","hasIssues","mostImportantIssue","tooltipContent","firstLineNumber","codeLocation","codeUrl","isAtTop","TopLeft","ActionsDropdown","setOpen","lineNumber","hasAuthor","scmAuthor","hasDate","scmDate","scmRevision","previousLine","hasPopup","cell","changed","isSCMChanged","ariaLabel","handleIssuesIndicatorClick","openIssues","onIssuesClose","onIssueUnselect","onIssuesOpen","displayAllIssues","displayCoverage","displayDuplications","displayIssues","duplicationsCount","last","verticalBuffer","isNew","bottomPadding","loadDuplications","doScroll","snippetNodeRef","offset","leftOffset","rightOffset","scrollToLastExpandedRow","snippetNode","lastRow","lineDuplications","isSinkLine","parseInt","bottomLine","issueLine","lowestVisibleIssue","k","renderLine"],"mappings":"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","file":"js/269.m.e4c8b6c3.chunk.js","sourcesContent":["var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronUpIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M8.28 4.404l4.602 4.604a.382.382 0 0 1 .118.279c0 .108-.04.2-.118.279l-1.03 1.03a.382.382 0 0 1-.278.117.382.382 0 0 1-.28-.117L8 7.3l-3.294 3.295a.382.382 0 0 1-.28.117.382.382 0 0 1-.279-.117l-1.03-1.03A.382.382 0 0 1 3 9.286c0-.107.04-.2.118-.278L7.72 4.404A.382.382 0 0 1 8 4.287c.108 0 .201.04.28.117z\", style: { fill: fill } })));\n}\nexports.default = ChevronUpIcon;\n//# sourceMappingURL=ChevronUpIcon.js.map","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./HotspotList.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".hotspot-list-header{padding:16px 8px}.hotspot-risk-header{padding:8px}.hotspot-category{background-color:#fff;border:1px solid #e6e6e6}.hotspot-category .hotspot-category-header{padding:16px 8px;color:#333;border-bottom:none;border-left:4px solid}.hotspot-category .hotspot-category-header.contains-selected-hotspot,.hotspot-category .hotspot-category-header:hover{color:#4b9fd5}.hotspot-category.HIGH .hotspot-category-header{border-left-color:#d4333f}.hotspot-category.MEDIUM .hotspot-category-header{border-left-color:#ed7d20}.hotspot-category.LOW .hotspot-category-header{border-left-color:#eabe06}.hotspot-item{color:#333;display:block;padding:8px 16px;border:1px solid transparent;border-top-color:#e6e6e6;transition:padding 0s,border 0s}.hotspot-item:hover{background-color:#f2faff;border:1px dashed #4b9fd5;color:#333}.hotspot-item.highlight{background-color:#f2faff;color:#333;border:1px solid #4b9fd5;cursor:unset}.hotspot-risk-badge{color:#fff;text-transform:uppercase;display:inline-block;text-align:center;min-width:48px;padding:0 8px;font-weight:700;border-radius:2px}.hotspot-risk-badge.HIGH{background-color:#d4333f}.hotspot-risk-badge.MEDIUM{background-color:#ed7d20}.hotspot-risk-badge.LOW{background-color:#eabe06}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./AssigneeSelection.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".hotspot-assignee-search-results{min-width:300px}.hotspot-assignee-search-results li{cursor:pointer}.hotspot-assignee-search-results li.active,.hotspot-assignee-search-results li:hover{background-color:#f3f3f3}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./HotspotViewer.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".hotspot-information{flex-basis:320px}.hotspot-information>div>span{flex-basis:100px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Status.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#status-trigger,#status-trigger+.popup{width:400px;box-sizing:border-box}#status-trigger{height:80px;border-radius:4px;outline:none}#status-trigger.readonly{cursor:not-allowed}#status-trigger:not(.readonly){cursor:pointer;background-color:#236a97}#status-trigger:not(.readonly) *{color:#fff}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#security_hotspots .filter-bar-outer{height:62px}#security_hotspots .filter-bar{position:fixed;background-color:#f3f3f3;z-index:55;left:0;right:0}#security_hotspots .filter-bar-inner{max-width:1280px;margin:0 auto;padding:16px 8px;box-sizing:border-box;border-bottom:1px solid #e6e6e6}#security_hotspots .layout-page-side,#security_hotspots .layout-page-side-outer{width:calc(50vw - 330px)}#security_hotspots .layout-page-side-inner{margin-left:calc(50vw - 645px)}#security_hotspots .layout-page-main{padding:0}@media (max-width:1320px){#security_hotspots .layout-page-side,#security_hotspots .layout-page-side-outer{width:316px}#security_hotspots .layout-page-side-inner{margin-left:0}}#security_hotspots .hotspot-content{max-width:962px;background:#fff;box-sizing:border-box}#security_hotspots .invisible{height:0;overflow:hidden}#security_hotspots .hotspots-list-single-category .hotspot-category .hotspot-category-header{color:#4b9fd5}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\nimport {\n  Hotspot,\n  HotspotAssignRequest,\n  HotspotComment,\n  HotspotResolution,\n  HotspotSearchResponse,\n  HotspotSetStatusRequest,\n  HotspotStatus\n} from '../types/security-hotspots';\n\nconst HOTSPOTS_SEARCH_URL = '/api/hotspots/search';\n\nexport function assignSecurityHotspot(\n  hotspotKey: string,\n  data: HotspotAssignRequest\n): Promise<void> {\n  return post('/api/hotspots/assign', { hotspot: hotspotKey, ...data }).catch(throwGlobalError);\n}\n\nexport function setSecurityHotspotStatus(\n  hotspotKey: string,\n  data: HotspotSetStatusRequest\n): Promise<void> {\n  return post('/api/hotspots/change_status', { hotspot: hotspotKey, ...data }).catch(\n    throwGlobalError\n  );\n}\n\nexport function commentSecurityHotspot(hotspotKey: string, comment: string): Promise<void> {\n  return post('/api/hotspots/add_comment', { hotspot: hotspotKey, comment }).catch(\n    throwGlobalError\n  );\n}\n\nexport function deleteSecurityHotspotComment(commentKey: string): Promise<void> {\n  return post('/api/hotspots/delete_comment', { comment: commentKey }).catch(throwGlobalError);\n}\n\nexport function editSecurityHotspotComment(\n  commentKey: string,\n  comment: string\n): Promise<HotspotComment> {\n  return post('/api/hotspots/edit_comment', { comment: commentKey, text: comment }).catch(\n    throwGlobalError\n  );\n}\n\nexport function getSecurityHotspots(\n  data: {\n    projectKey: string;\n    p: number;\n    ps: number;\n    status?: HotspotStatus;\n    resolution?: HotspotResolution;\n    onlyMine?: boolean;\n    sinceLeakPeriod?: boolean;\n  } & BranchParameters\n): Promise<HotspotSearchResponse> {\n  return getJSON(HOTSPOTS_SEARCH_URL, data).catch(throwGlobalError);\n}\n\nexport function getSecurityHotspotList(\n  hotspotKeys: string[],\n  data: {\n    projectKey: string;\n  } & BranchParameters\n): Promise<HotspotSearchResponse> {\n  return getJSON(HOTSPOTS_SEARCH_URL, { ...data, hotspots: hotspotKeys.join() }).catch(\n    throwGlobalError\n  );\n}\n\nexport function getSecurityHotspotDetails(securityHotspotKey: string): Promise<Hotspot> {\n  return getJSON('/api/hotspots/show', { hotspot: securityHotspotKey })\n    .then((response: Hotspot & { users: T.UserBase[] }) => {\n      const { users, ...hotspot } = response;\n\n      if (users) {\n        if (hotspot.assignee) {\n          hotspot.assigneeUser = users.find(u => u.login === hotspot.assignee) || {\n            active: true,\n            login: hotspot.assignee\n          };\n        }\n        hotspot.authorUser = users.find(u => u.login === hotspot.author) || {\n          active: true,\n          login: hotspot.author\n        };\n        hotspot.comment.forEach(c => {\n          c.user = users.find(u => u.login === c.login) || { active: true, login: c.login };\n        });\n      }\n\n      return hotspot;\n    })\n    .catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum RiskExposure {\n  LOW = 'LOW',\n  MEDIUM = 'MEDIUM',\n  HIGH = 'HIGH'\n}\n\nexport enum HotspotStatus {\n  TO_REVIEW = 'TO_REVIEW',\n  REVIEWED = 'REVIEWED'\n}\n\nexport enum HotspotResolution {\n  FIXED = 'FIXED',\n  SAFE = 'SAFE'\n}\n\nexport enum HotspotStatusFilter {\n  FIXED = 'FIXED',\n  SAFE = 'SAFE',\n  TO_REVIEW = 'TO_REVIEW'\n}\n\nexport enum HotspotStatusOption {\n  FIXED = 'FIXED',\n  SAFE = 'SAFE',\n  TO_REVIEW = 'TO_REVIEW'\n}\n\nexport interface HotspotFilters {\n  assignedToMe: boolean;\n  sinceLeakPeriod: boolean;\n  status: HotspotStatusFilter;\n}\n\nexport interface RawHotspot {\n  assignee?: string;\n  author?: string;\n  component: string;\n  creationDate: string;\n  key: string;\n  line?: number;\n  message: string;\n  project: string;\n  resolution?: HotspotResolution;\n  rule: string;\n  securityCategory: string;\n  status: HotspotStatus;\n  subProject?: string;\n  updateDate: string;\n  vulnerabilityProbability: RiskExposure;\n}\n\nexport interface Hotspot {\n  assignee?: string;\n  assigneeUser?: T.UserBase;\n  author: string;\n  authorUser: T.UserBase;\n  canChangeStatus: boolean;\n  changelog: T.IssueChangelog[];\n  comment: HotspotComment[];\n  component: T.Component;\n  creationDate: string;\n  key: string;\n  line?: number;\n  message: string;\n  project: T.Component;\n  resolution?: HotspotResolution;\n  rule: HotspotRule;\n  status: HotspotStatus;\n  textRange?: T.TextRange;\n  updateDate: string;\n  users: T.UserBase[];\n}\n\nexport interface HotspotUpdateFields {\n  status: HotspotStatus;\n  resolution?: HotspotResolution;\n}\n\nexport interface HotspotUpdate extends HotspotUpdateFields {\n  key: string;\n}\n\nexport interface HotspotRule {\n  fixRecommendations?: string;\n  key: string;\n  name: string;\n  riskDescription?: string;\n  securityCategory: string;\n  vulnerabilityDescription?: string;\n  vulnerabilityProbability: RiskExposure;\n}\n\nexport interface HotspotComment {\n  key: string;\n  htmlText: string;\n  markdown: string;\n  updatable: boolean;\n  createdAt: string;\n  login: string;\n  user: T.UserBase;\n}\n\nexport interface ReviewHistoryElement {\n  type: ReviewHistoryType;\n  date: string;\n  user: Pick<T.UserBase, 'active' | 'avatar' | 'name'>;\n  diffs?: T.IssueChangelogDiff[];\n  html?: string;\n  key?: string;\n  updatable?: boolean;\n  markdown?: string;\n}\n\nexport enum ReviewHistoryType {\n  Creation,\n  Diff,\n  Comment\n}\n\nexport interface HotspotSearchResponse {\n  components?: { key: string; qualifier: string; name: string }[];\n  hotspots: RawHotspot[];\n  paging: T.Paging;\n}\n\nexport interface HotspotSetStatusRequest {\n  status: HotspotStatus;\n  resolution?: HotspotResolution;\n  comment?: string;\n}\n\nexport interface HotspotAssignRequest {\n  assignee?: string;\n  comment?: string;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\n\nexport interface EmptyHotspotsPageProps {\n  filtered: boolean;\n  isStaticListOfHotspots: boolean;\n}\n\nexport default function EmptyHotspotsPage(props: EmptyHotspotsPageProps) {\n  const { filtered, isStaticListOfHotspots } = props;\n\n  let translationRoot;\n  if (isStaticListOfHotspots) {\n    translationRoot = 'no_hotspots_for_keys';\n  } else if (filtered) {\n    translationRoot = 'no_hotspots_for_filters';\n  } else {\n    translationRoot = 'no_hotspots';\n  }\n\n  return (\n    <div className=\"display-flex-column display-flex-center huge-spacer-top\">\n      <img\n        alt={translate('hotspots.page')}\n        className=\"huge-spacer-top\"\n        height={100}\n        src={`${getBaseUrl()}/images/${filtered ? 'filter-large' : 'hotspot-large'}.svg`}\n      />\n      <h1 className=\"huge-spacer-top\">{translate(`hotspots.${translationRoot}.title`)}</h1>\n      <div className=\"abs-width-400 text-center big-spacer-top\">\n        {translate(`hotspots.${translationRoot}.description`)}\n      </div>\n      {!(filtered || isStaticListOfHotspots) && (\n        <Link\n          className=\"big-spacer-top\"\n          target=\"_blank\"\n          to={{ pathname: '/documentation/user-guide/security-hotspots/' }}>\n          {translate('hotspots.learn_more')}\n        </Link>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport RadioToggle from 'sonar-ui-common/components/controls/RadioToggle';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { withCurrentUser } from '../../../components/hoc/withCurrentUser';\nimport Measure from '../../../components/measure/Measure';\nimport CoverageRating from '../../../components/ui/CoverageRating';\nimport { isLoggedIn } from '../../../helpers/users';\nimport { ComponentQualifier } from '../../../types/component';\nimport { HotspotFilters, HotspotStatusFilter } from '../../../types/security-hotspots';\n\nexport interface FilterBarProps {\n  currentUser: T.CurrentUser;\n  component: T.Component;\n  filters: HotspotFilters;\n  hotspotsReviewedMeasure?: string;\n  isStaticListOfHotspots: boolean;\n  loadingMeasure: boolean;\n  onBranch: boolean;\n  onChangeFilters: (filters: Partial<HotspotFilters>) => void;\n  onShowAllHotspots: () => void;\n}\n\nconst statusOptions: Array<{ label: string; value: string }> = [\n  { value: HotspotStatusFilter.TO_REVIEW, label: translate('hotspot.filters.status.to_review') },\n  { value: HotspotStatusFilter.FIXED, label: translate('hotspot.filters.status.fixed') },\n  { value: HotspotStatusFilter.SAFE, label: translate('hotspot.filters.status.safe') }\n];\n\nconst periodOptions = [\n  { value: true, label: translate('hotspot.filters.period.since_leak_period') },\n  { value: false, label: translate('hotspot.filters.period.overall') }\n];\n\nexport enum AssigneeFilterOption {\n  ALL = 'all',\n  ME = 'me'\n}\n\nconst assigneeFilterOptions = [\n  { value: AssigneeFilterOption.ME, label: translate('hotspot.filters.assignee.assigned_to_me') },\n  { value: AssigneeFilterOption.ALL, label: translate('hotspot.filters.assignee.all') }\n];\n\nexport function FilterBar(props: FilterBarProps) {\n  const {\n    currentUser,\n    component,\n    filters,\n    hotspotsReviewedMeasure,\n    isStaticListOfHotspots,\n    loadingMeasure,\n    onBranch\n  } = props;\n  const isProject = component.qualifier === ComponentQualifier.Project;\n\n  return (\n    <div className=\"filter-bar-outer\">\n      <div className=\"filter-bar\">\n        <div className=\"filter-bar-inner display-flex-center\">\n          {isStaticListOfHotspots ? (\n            <a\n              id=\"show_all_hotspot\"\n              onClick={() => props.onShowAllHotspots()}\n              role=\"link\"\n              tabIndex={0}>\n              {translate('hotspot.filters.show_all')}\n            </a>\n          ) : (\n            <div className=\"display-flex-space-between width-100\">\n              <div className=\"display-flex-center\">\n                <h3 className=\"huge-spacer-right\">{translate('hotspot.filters.title')}</h3>\n\n                {isLoggedIn(currentUser) && (\n                  <RadioToggle\n                    className=\"huge-spacer-right\"\n                    name=\"assignee-filter\"\n                    onCheck={(value: AssigneeFilterOption) =>\n                      props.onChangeFilters({ assignedToMe: value === AssigneeFilterOption.ME })\n                    }\n                    options={assigneeFilterOptions}\n                    value={\n                      filters.assignedToMe ? AssigneeFilterOption.ME : AssigneeFilterOption.ALL\n                    }\n                  />\n                )}\n\n                <span className=\"spacer-right\">{translate('status')}</span>\n                <Select\n                  className=\"input-medium big-spacer-right\"\n                  clearable={false}\n                  onChange={(option: { value: HotspotStatusFilter }) =>\n                    props.onChangeFilters({ status: option.value })\n                  }\n                  options={statusOptions}\n                  searchable={false}\n                  value={filters.status}\n                />\n\n                {onBranch && (\n                  <Select\n                    className=\"input-medium big-spacer-right\"\n                    clearable={false}\n                    onChange={(option: { value: boolean }) =>\n                      props.onChangeFilters({ sinceLeakPeriod: option.value })\n                    }\n                    options={periodOptions}\n                    searchable={false}\n                    value={filters.sinceLeakPeriod}\n                  />\n                )}\n              </div>\n\n              {isProject && (\n                <div className=\"display-flex-center\">\n                  <span className=\"little-spacer-right\">\n                    {translate('metric.security_hotspots_reviewed.name')}\n                  </span>\n                  <HelpTooltip\n                    className=\"big-spacer-right\"\n                    overlay={translate('hotspots.reviewed.tooltip')}\n                  />\n                  <DeferredSpinner loading={loadingMeasure}>\n                    {hotspotsReviewedMeasure && <CoverageRating value={hotspotsReviewedMeasure} />}\n                    <Measure\n                      className=\"spacer-left huge it__hs-review-percentage\"\n                      metricKey={\n                        onBranch && !filters.sinceLeakPeriod\n                          ? 'security_hotspots_reviewed'\n                          : 'new_security_hotspots_reviewed'\n                      }\n                      metricType=\"PERCENT\"\n                      value={hotspotsReviewedMeasure}\n                    />\n                  </DeferredSpinner>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withCurrentUser(FilterBar);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { groupBy, sortBy } from 'lodash';\nimport {\n  renderCWECategory,\n  renderOwaspTop10Category,\n  renderSansTop25Category,\n  renderSonarSourceSecurityCategory\n} from '../../helpers/security-standard';\nimport { SecurityStandard } from '../../types/security';\nimport {\n  Hotspot,\n  HotspotResolution,\n  HotspotStatus,\n  HotspotStatusOption,\n  RawHotspot,\n  ReviewHistoryElement,\n  ReviewHistoryType,\n  RiskExposure\n} from '../../types/security-hotspots';\n\nexport const RISK_EXPOSURE_LEVELS = [RiskExposure.HIGH, RiskExposure.MEDIUM, RiskExposure.LOW];\nexport const SECURITY_STANDARDS = [\n  SecurityStandard.SONARSOURCE,\n  SecurityStandard.OWASP_TOP10,\n  SecurityStandard.SANS_TOP25,\n  SecurityStandard.CWE\n];\n\nexport const SECURITY_STANDARD_RENDERER = {\n  [SecurityStandard.OWASP_TOP10]: renderOwaspTop10Category,\n  [SecurityStandard.SANS_TOP25]: renderSansTop25Category,\n  [SecurityStandard.SONARSOURCE]: renderSonarSourceSecurityCategory,\n  [SecurityStandard.CWE]: renderCWECategory\n};\n\nexport function mapRules(rules: Array<{ key: string; name: string }>): T.Dict<string> {\n  return rules.reduce((ruleMap: T.Dict<string>, r) => {\n    ruleMap[r.key] = r.name;\n    return ruleMap;\n  }, {});\n}\n\nexport function groupByCategory(\n  hotspots: RawHotspot[] = [],\n  securityCategories: T.StandardSecurityCategories\n) {\n  const groups = groupBy(hotspots, h => h.securityCategory);\n\n  return Object.keys(groups).map(key => ({\n    key,\n    title: getCategoryTitle(key, securityCategories),\n    hotspots: groups[key]\n  }));\n}\n\nexport function sortHotspots(\n  hotspots: RawHotspot[],\n  securityCategories: T.Dict<{ title: string }>\n) {\n  return sortBy(hotspots, [\n    h => RISK_EXPOSURE_LEVELS.indexOf(h.vulnerabilityProbability),\n    h => getCategoryTitle(h.securityCategory, securityCategories),\n    h => h.message\n  ]);\n}\n\nfunction getCategoryTitle(key: string, securityCategories: T.StandardSecurityCategories) {\n  return securityCategories[key] ? securityCategories[key].title : key;\n}\n\nexport function constructSourceViewerFile(\n  { component, project }: Hotspot,\n  lines?: number\n): T.SourceViewerFile {\n  return {\n    key: component.key,\n    measures: { lines: lines ? lines.toString() : undefined },\n    path: component.path || '',\n    project: project.key,\n    projectName: project.name,\n    q: component.qualifier,\n    uuid: ''\n  };\n}\n\nexport function getHotspotReviewHistory(hotspot: Hotspot): ReviewHistoryElement[] {\n  const history: ReviewHistoryElement[] = [];\n\n  if (hotspot.creationDate) {\n    history.push({\n      type: ReviewHistoryType.Creation,\n      date: hotspot.creationDate,\n      user: {\n        ...hotspot.authorUser,\n        name: hotspot.authorUser.name || hotspot.authorUser.login\n      }\n    });\n  }\n\n  if (hotspot.changelog && hotspot.changelog.length > 0) {\n    history.push(\n      ...hotspot.changelog.map(log => ({\n        type: ReviewHistoryType.Diff,\n        date: log.creationDate,\n        user: {\n          active: log.isUserActive,\n          avatar: log.avatar,\n          name: log.userName || log.user\n        },\n        diffs: log.diffs\n      }))\n    );\n  }\n\n  if (hotspot.comment && hotspot.comment.length > 0) {\n    history.push(\n      ...hotspot.comment.map(comment => ({\n        type: ReviewHistoryType.Comment,\n        date: comment.createdAt,\n        updatable: comment.updatable,\n        user: {\n          ...comment.user,\n          name: comment.user.name || comment.user.login\n        },\n        html: comment.htmlText,\n        key: comment.key,\n        markdown: comment.markdown\n      }))\n    );\n  }\n\n  return sortBy(history, elt => elt.date);\n}\n\nconst STATUS_AND_RESOLUTION_TO_STATUS_OPTION = {\n  [HotspotStatus.TO_REVIEW]: HotspotStatusOption.TO_REVIEW,\n  [HotspotStatus.REVIEWED]: HotspotStatusOption.FIXED,\n  [HotspotResolution.FIXED]: HotspotStatusOption.FIXED,\n  [HotspotResolution.SAFE]: HotspotStatusOption.SAFE\n};\n\nexport function getStatusOptionFromStatusAndResolution(\n  status: HotspotStatus,\n  resolution?: HotspotResolution\n) {\n  // Resolution is the most determinist info here, so we use it first to get the matching status option\n  // If not provided, we use the status (which will be TO_REVIEW)\n  return STATUS_AND_RESOLUTION_TO_STATUS_OPTION[resolution ?? status];\n}\n\nconst STATUS_OPTION_TO_STATUS_AND_RESOLUTION_MAP = {\n  [HotspotStatusOption.TO_REVIEW]: { status: HotspotStatus.TO_REVIEW, resolution: undefined },\n  [HotspotStatusOption.FIXED]: {\n    status: HotspotStatus.REVIEWED,\n    resolution: HotspotResolution.FIXED\n  },\n  [HotspotStatusOption.SAFE]: {\n    status: HotspotStatus.REVIEWED,\n    resolution: HotspotResolution.SAFE\n  }\n};\n\nexport function getStatusAndResolutionFromStatusOption(statusOption: HotspotStatusOption) {\n  return STATUS_OPTION_TO_STATUS_AND_RESOLUTION_MAP[statusOption];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { RawHotspot } from '../../../types/security-hotspots';\nimport { getStatusOptionFromStatusAndResolution } from '../utils';\n\nexport interface HotspotListItemProps {\n  hotspot: RawHotspot;\n  onClick: (hotspot: RawHotspot) => void;\n  selected: boolean;\n}\n\nexport default function HotspotListItem(props: HotspotListItemProps) {\n  const { hotspot, selected } = props;\n  return (\n    <a\n      className={classNames('hotspot-item', { highlight: selected })}\n      href=\"#\"\n      onClick={() => !selected && props.onClick(hotspot)}>\n      <div className=\"little-spacer-left\">{hotspot.message}</div>\n      <div className=\"badge spacer-top\">\n        {translate(\n          'hotspots.status_option',\n          getStatusOptionFromStatusAndResolution(hotspot.status, hotspot.resolution)\n        )}\n      </div>\n    </a>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport ChevronDownIcon from 'sonar-ui-common/components/icons/ChevronDownIcon';\nimport ChevronUpIcon from 'sonar-ui-common/components/icons/ChevronUpIcon';\nimport { RawHotspot } from '../../../types/security-hotspots';\nimport HotspotListItem from './HotspotListItem';\n\nexport interface HotspotCategoryProps {\n  categoryKey: string;\n  expanded: boolean;\n  hotspots: RawHotspot[];\n  onHotspotClick: (hotspot: RawHotspot) => void;\n  onToggleExpand?: (categoryKey: string, value: boolean) => void;\n  selectedHotspot: RawHotspot;\n  title: string;\n  isLastAndIncomplete: boolean;\n}\n\nexport default function HotspotCategory(props: HotspotCategoryProps) {\n  const { categoryKey, expanded, hotspots, selectedHotspot, title, isLastAndIncomplete } = props;\n\n  if (hotspots.length < 1) {\n    return null;\n  }\n\n  const risk = hotspots[0].vulnerabilityProbability;\n\n  return (\n    <div className={classNames('hotspot-category', risk)}>\n      {props.onToggleExpand ? (\n        <a\n          className={classNames(\n            'hotspot-category-header display-flex-space-between display-flex-center',\n            { 'contains-selected-hotspot': selectedHotspot.securityCategory === categoryKey }\n          )}\n          href=\"#\"\n          onClick={() => props.onToggleExpand && props.onToggleExpand(categoryKey, !expanded)}>\n          <strong className=\"flex-1 spacer-right break-word\">{title}</strong>\n          <span>\n            <span className=\"counter-badge\">\n              {hotspots.length}\n              {isLastAndIncomplete && '+'}\n            </span>\n            {expanded ? (\n              <ChevronUpIcon className=\"big-spacer-left\" />\n            ) : (\n              <ChevronDownIcon className=\"big-spacer-left\" />\n            )}\n          </span>\n        </a>\n      ) : (\n        <div className=\"hotspot-category-header\">\n          <strong className=\"flex-1 spacer-right break-word\">{title}</strong>\n        </div>\n      )}\n      {expanded && (\n        <ul>\n          {hotspots.map(h => (\n            <li data-hotspot-key={h.key} key={h.key}>\n              <HotspotListItem\n                hotspot={h}\n                onClick={props.onHotspotClick}\n                selected={h.key === selectedHotspot.key}\n              />\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { groupBy } from 'lodash';\nimport * as React from 'react';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport SecurityHotspotIcon from 'sonar-ui-common/components/icons/SecurityHotspotIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { addSideBarClass, removeSideBarClass } from 'sonar-ui-common/helpers/pages';\nimport { HotspotStatusFilter, RawHotspot, RiskExposure } from '../../../types/security-hotspots';\nimport { groupByCategory, RISK_EXPOSURE_LEVELS } from '../utils';\nimport HotspotCategory from './HotspotCategory';\nimport './HotspotList.css';\n\ninterface Props {\n  hotspots: RawHotspot[];\n  hotspotsTotal: number;\n  isStaticListOfHotspots: boolean;\n  loadingMore: boolean;\n  onHotspotClick: (hotspot: RawHotspot) => void;\n  onLoadMore: () => void;\n  securityCategories: T.StandardSecurityCategories;\n  selectedHotspot: RawHotspot;\n  statusFilter: HotspotStatusFilter;\n}\n\ninterface State {\n  expandedCategories: T.Dict<boolean>;\n  groupedHotspots: Array<{\n    risk: RiskExposure;\n    categories: Array<{ key: string; hotspots: RawHotspot[]; title: string }>;\n  }>;\n}\n\nexport default class HotspotList extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      expandedCategories: { [props.selectedHotspot.securityCategory]: true },\n      groupedHotspots: this.groupHotspots(props.hotspots, props.securityCategories)\n    };\n  }\n\n  componentDidMount() {\n    addSideBarClass();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    // Force open the category of selected hotspot\n    if (\n      this.props.selectedHotspot.securityCategory !== prevProps.selectedHotspot.securityCategory\n    ) {\n      this.handleToggleCategory(this.props.selectedHotspot.securityCategory, true);\n    }\n\n    // Compute the hotspot tree from the list\n    if (\n      this.props.hotspots !== prevProps.hotspots ||\n      this.props.securityCategories !== prevProps.securityCategories\n    ) {\n      const groupedHotspots = this.groupHotspots(\n        this.props.hotspots,\n        this.props.securityCategories\n      );\n      this.setState({ groupedHotspots });\n    }\n  }\n\n  componentWillUnmount() {\n    removeSideBarClass();\n  }\n\n  groupHotspots = (hotspots: RawHotspot[], securityCategories: T.StandardSecurityCategories) => {\n    const risks = groupBy(hotspots, h => h.vulnerabilityProbability);\n\n    return RISK_EXPOSURE_LEVELS.map(risk => ({\n      risk,\n      categories: groupByCategory(risks[risk], securityCategories)\n    })).filter(risk => risk.categories.length > 0);\n  };\n\n  handleToggleCategory = (categoryKey: string, value: boolean) => {\n    this.setState(({ expandedCategories }) => ({\n      expandedCategories: { ...expandedCategories, [categoryKey]: value }\n    }));\n  };\n\n  render() {\n    const {\n      hotspots,\n      hotspotsTotal,\n      isStaticListOfHotspots,\n      loadingMore,\n      selectedHotspot,\n      statusFilter\n    } = this.props;\n\n    const { expandedCategories, groupedHotspots } = this.state;\n\n    return (\n      <div className=\"huge-spacer-bottom\">\n        <h1 className=\"hotspot-list-header bordered-bottom\">\n          <SecurityHotspotIcon className=\"spacer-right\" />\n          {translateWithParameters(\n            isStaticListOfHotspots ? 'hotspots.list_title' : `hotspots.list_title.${statusFilter}`,\n            hotspotsTotal\n          )}\n        </h1>\n        <ul className=\"big-spacer-bottom\">\n          {groupedHotspots.map((riskGroup, riskGroupIndex) => {\n            const isLastRiskGroup = riskGroupIndex === groupedHotspots.length - 1;\n\n            return (\n              <li className=\"big-spacer-bottom\" key={riskGroup.risk}>\n                <div className=\"hotspot-risk-header little-spacer-left\">\n                  <span>{translate('hotspots.risk_exposure')}:</span>\n                  <div className={classNames('hotspot-risk-badge', 'spacer-left', riskGroup.risk)}>\n                    {translate('risk_exposure', riskGroup.risk)}\n                  </div>\n                </div>\n                <ul>\n                  {riskGroup.categories.map((cat, categoryIndex) => {\n                    const isLastCategory = categoryIndex === riskGroup.categories.length - 1;\n\n                    return (\n                      <li className=\"spacer-bottom\" key={cat.key}>\n                        <HotspotCategory\n                          categoryKey={cat.key}\n                          expanded={expandedCategories[cat.key]}\n                          hotspots={cat.hotspots}\n                          onHotspotClick={this.props.onHotspotClick}\n                          onToggleExpand={this.handleToggleCategory}\n                          selectedHotspot={selectedHotspot}\n                          title={cat.title}\n                          isLastAndIncomplete={\n                            isLastRiskGroup && isLastCategory && hotspots.length < hotspotsTotal\n                          }\n                        />\n                      </li>\n                    );\n                  })}\n                </ul>\n              </li>\n            );\n          })}\n        </ul>\n        <ListFooter\n          count={hotspots.length}\n          loadMore={!loadingMore ? this.props.onLoadMore : undefined}\n          loading={loadingMore}\n          total={hotspotsTotal}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport SecurityHotspotIcon from 'sonar-ui-common/components/icons/SecurityHotspotIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { addSideBarClass, removeSideBarClass } from 'sonar-ui-common/helpers/pages';\nimport { SecurityStandard, Standards } from '../../../types/security';\nimport { RawHotspot } from '../../../types/security-hotspots';\nimport { SECURITY_STANDARD_RENDERER } from '../utils';\nimport HotspotListItem from './HotspotListItem';\n\nexport interface HotspotSimpleListProps {\n  filterByCategory?: {\n    standard: SecurityStandard;\n    category: string;\n  };\n  filterByCWE?: string;\n  hotspots: RawHotspot[];\n  hotspotsTotal: number;\n  loadingMore: boolean;\n  onHotspotClick: (hotspot: RawHotspot) => void;\n  onLoadMore: () => void;\n  selectedHotspot: RawHotspot;\n  standards: Standards;\n}\n\nexport default class HotspotSimpleList extends React.Component<HotspotSimpleListProps> {\n  componentDidMount() {\n    addSideBarClass();\n  }\n\n  componentWillUnmount() {\n    removeSideBarClass();\n  }\n\n  render() {\n    const {\n      filterByCategory,\n      filterByCWE,\n      hotspots,\n      hotspotsTotal,\n      loadingMore,\n      selectedHotspot,\n      standards\n    } = this.props;\n\n    const categoryLabel =\n      filterByCategory &&\n      SECURITY_STANDARD_RENDERER[filterByCategory.standard](standards, filterByCategory.category);\n\n    const cweLabel =\n      filterByCWE && SECURITY_STANDARD_RENDERER[SecurityStandard.CWE](standards, filterByCWE);\n\n    return (\n      <div className=\"hotspots-list-single-category huge-spacer-bottom\">\n        <h1 className=\"hotspot-list-header bordered-bottom\">\n          <SecurityHotspotIcon className=\"spacer-right\" />\n          {translateWithParameters('hotspots.list_title', hotspotsTotal)}\n        </h1>\n        <div className=\"big-spacer-bottom\">\n          <div className=\"hotspot-category\">\n            <div className=\"hotspot-category-header\">\n              <strong className=\"flex-1 spacer-right break-word\">\n                {categoryLabel}\n                {categoryLabel && cweLabel && <hr />}\n                {cweLabel}\n              </strong>\n            </div>\n            <ul>\n              {hotspots.map(h => (\n                <li data-hotspot-key={h.key} key={h.key}>\n                  <HotspotListItem\n                    hotspot={h}\n                    onClick={this.props.onHotspotClick}\n                    selected={h.key === selectedHotspot.key}\n                  />\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <ListFooter\n          count={hotspots.length}\n          loadMore={!loadingMore ? this.props.onLoadMore : undefined}\n          loading={loadingMore}\n          total={hotspotsTotal}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport Avatar from '../../../../components/ui/Avatar';\nimport './AssigneeSelection.css';\n\nexport interface HotspotAssigneeSelectRendererProps {\n  highlighted?: T.UserActive;\n  loading: boolean;\n  onKeyDown: (event: React.KeyboardEvent) => void;\n  onSearch: (query: string) => void;\n  onSelect: (user?: T.UserActive) => void;\n  query?: string;\n  suggestedUsers?: T.UserActive[];\n}\n\nexport default function AssigneeSelectionRenderer(props: HotspotAssigneeSelectRendererProps) {\n  const { highlighted, loading, query, suggestedUsers } = props;\n\n  return (\n    <>\n      <div className=\"display-flex-center\">\n        <SearchBox\n          autoFocus={true}\n          onChange={props.onSearch}\n          onKeyDown={props.onKeyDown}\n          placeholder={translate('hotspots.assignee.select_user')}\n          value={query}\n        />\n        {loading && <DeferredSpinner className=\"spacer-left\" />}\n      </div>\n\n      {!loading && (\n        <div className=\"position-relative\">\n          <DropdownOverlay noPadding={true} placement={PopupPlacement.BottomLeft}>\n            <ul className=\"hotspot-assignee-search-results\">\n              {suggestedUsers &&\n                suggestedUsers.map(suggestion => (\n                  <li\n                    className={classNames('padded', {\n                      active: highlighted && highlighted.login === suggestion.login\n                    })}\n                    key={suggestion.login}\n                    onClick={() => props.onSelect(suggestion)}>\n                    {suggestion.login && (\n                      <Avatar\n                        className=\"spacer-right\"\n                        hash={suggestion.avatar}\n                        name={suggestion.name}\n                        size={16}\n                      />\n                    )}\n                    {suggestion.name}\n                  </li>\n                ))}\n            </ul>\n          </DropdownOverlay>\n        </div>\n      )}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\nimport { KeyCodes } from 'sonar-ui-common/helpers/keycodes';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { searchUsers } from '../../../../api/users';\nimport { isUserActive } from '../../../../helpers/users';\nimport AssigneeSelectionRenderer from './AssigneeSelectionRenderer';\n\ninterface Props {\n  allowCurrentUserSelection: boolean;\n  loggedInUser: T.LoggedInUser;\n  onSelect: (user: T.UserActive) => void;\n}\n\ninterface State {\n  highlighted?: T.UserActive;\n  loading: boolean;\n  query?: string;\n  suggestedUsers: T.UserActive[];\n}\n\nconst UNASSIGNED: T.UserActive = { login: '', name: translate('unassigned') };\n\nexport default class AssigneeSelection extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      suggestedUsers: props.allowCurrentUserSelection\n        ? [props.loggedInUser, UNASSIGNED]\n        : [UNASSIGNED]\n    };\n\n    this.handleSearch = debounce(this.handleSearch, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleSearch = (query: string) => {\n    if (this.mounted) {\n      if (query.length < 2) {\n        this.handleNoSearch(query);\n      } else {\n        this.handleActualSearch(query);\n      }\n    }\n  };\n\n  handleNoSearch = (query: string) => {\n    const { allowCurrentUserSelection, loggedInUser } = this.props;\n\n    this.setState({\n      loading: false,\n      query,\n      suggestedUsers: allowCurrentUserSelection ? [loggedInUser, UNASSIGNED] : [UNASSIGNED]\n    });\n  };\n\n  handleActualSearch = (query: string) => {\n    this.setState({ loading: true, query });\n    searchUsers({ q: query })\n      .then(result => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            query,\n            suggestedUsers: (result.users.filter(isUserActive) as T.UserActive[]).concat(UNASSIGNED)\n          });\n        }\n      })\n      .catch(() => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      });\n  };\n\n  handleKeyDown = (event: React.KeyboardEvent) => {\n    switch (event.keyCode) {\n      case KeyCodes.Enter:\n        event.preventDefault();\n        this.selectHighlighted();\n        break;\n      case KeyCodes.UpArrow:\n        event.preventDefault();\n        this.highlightPrevious();\n        break;\n      case KeyCodes.DownArrow:\n        event.preventDefault();\n        this.highlightNext();\n        break;\n    }\n  };\n\n  getCurrentIndex = () => {\n    const { highlighted, suggestedUsers } = this.state;\n\n    return highlighted\n      ? suggestedUsers.findIndex(suggestion => suggestion.login === highlighted.login)\n      : -1;\n  };\n\n  highlightIndex = (index: number) => {\n    const { suggestedUsers } = this.state;\n\n    if (suggestedUsers.length > 0) {\n      if (index < 0) {\n        index = suggestedUsers.length - 1;\n      } else if (index >= suggestedUsers.length) {\n        index = 0;\n      }\n\n      this.setState({ highlighted: suggestedUsers[index] });\n    }\n  };\n\n  highlightPrevious = () => {\n    this.highlightIndex(this.getCurrentIndex() - 1);\n  };\n\n  highlightNext = () => {\n    this.highlightIndex(this.getCurrentIndex() + 1);\n  };\n\n  selectHighlighted = () => {\n    const { highlighted } = this.state;\n\n    if (highlighted !== undefined) {\n      this.props.onSelect(highlighted);\n    }\n  };\n\n  render() {\n    const { highlighted, loading, query, suggestedUsers } = this.state;\n\n    return (\n      <AssigneeSelectionRenderer\n        highlighted={highlighted}\n        loading={loading}\n        onKeyDown={this.handleKeyDown}\n        onSearch={this.handleSearch}\n        onSelect={this.props.onSelect}\n        query={query}\n        suggestedUsers={suggestedUsers}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { EditButton } from 'sonar-ui-common/components/controls/buttons';\nimport EscKeydownHandler from 'sonar-ui-common/components/controls/EscKeydownHandler';\nimport OutsideClickHandler from 'sonar-ui-common/components/controls/OutsideClickHandler';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport AssigneeSelection from './AssigneeSelection';\n\nexport interface AssigneeRendererProps {\n  canEdit: boolean;\n  editing: boolean;\n  loading: boolean;\n\n  assignee?: T.UserBase;\n  loggedInUser?: T.LoggedInUser;\n\n  onAssign: (user: T.UserActive) => void;\n  onEnterEditionMode: () => void;\n  onExitEditionMode: () => void;\n}\n\nexport default function AssigneeRenderer(props: AssigneeRendererProps) {\n  const { assignee, canEdit, loggedInUser, editing, loading } = props;\n\n  return (\n    <DeferredSpinner loading={loading}>\n      {!editing && (\n        <div className=\"display-flex-center\">\n          <strong className=\"nowrap\">\n            {assignee &&\n              (assignee.active\n                ? assignee.name ?? assignee.login\n                : translateWithParameters('user.x_deleted', assignee.name ?? assignee.login))}\n            {!assignee && translate('unassigned')}\n          </strong>\n          {loggedInUser && canEdit && (\n            <EditButton className=\"spacer-left\" onClick={props.onEnterEditionMode} />\n          )}\n        </div>\n      )}\n\n      {loggedInUser && editing && (\n        <EscKeydownHandler onKeydown={props.onExitEditionMode}>\n          <OutsideClickHandler onClickOutside={props.onExitEditionMode}>\n            <AssigneeSelection\n              allowCurrentUserSelection={loggedInUser.login !== assignee?.login}\n              loggedInUser={loggedInUser}\n              onSelect={props.onAssign}\n            />\n          </OutsideClickHandler>\n        </EscKeydownHandler>\n      )}\n    </DeferredSpinner>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { assignSecurityHotspot } from '../../../../api/security-hotspots';\nimport addGlobalSuccessMessage from '../../../../app/utils/addGlobalSuccessMessage';\nimport { withCurrentUser } from '../../../../components/hoc/withCurrentUser';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { Hotspot, HotspotStatus } from '../../../../types/security-hotspots';\nimport AssigneeRenderer from './AssigneeRenderer';\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  hotspot: Hotspot;\n\n  onAssigneeChange: () => void;\n}\n\ninterface State {\n  editing: boolean;\n  loading: boolean;\n}\n\nexport class Assignee extends React.PureComponent<Props, State> {\n  mounted = false;\n  state = {\n    editing: false,\n    loading: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleEnterEditionMode = () => {\n    this.setState({ editing: true });\n  };\n\n  handleExitEditionMode = () => {\n    this.setState({ editing: false });\n  };\n\n  handleAssign = (newAssignee: T.UserActive) => {\n    this.setState({ loading: true });\n    assignSecurityHotspot(this.props.hotspot.key, {\n      assignee: newAssignee?.login\n    })\n      .then(() => {\n        if (this.mounted) {\n          this.setState({ editing: false, loading: false });\n          this.props.onAssigneeChange();\n        }\n      })\n      .then(() =>\n        addGlobalSuccessMessage(\n          newAssignee.login\n            ? translateWithParameters('hotspots.assign.success', newAssignee.name)\n            : translate('hotspots.assign.unassign.success')\n        )\n      )\n      .catch(() => this.setState({ loading: false }));\n  };\n\n  render() {\n    const {\n      currentUser,\n      hotspot: { assigneeUser, status }\n    } = this.props;\n    const { editing, loading } = this.state;\n\n    const canEdit = status === HotspotStatus.TO_REVIEW;\n\n    return (\n      <AssigneeRenderer\n        assignee={assigneeUser}\n        canEdit={canEdit}\n        editing={editing}\n        loading={loading}\n        loggedInUser={isLoggedIn(currentUser) ? currentUser : undefined}\n        onAssign={this.handleAssign}\n        onEnterEditionMode={this.handleEnterEditionMode}\n        onExitEditionMode={this.handleExitEditionMode}\n      />\n    );\n  }\n}\n\nexport default withCurrentUser(Assignee);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getHostUrl } from 'sonar-ui-common/helpers/urls';\nimport { Ide } from '../types/sonarlint';\n\nconst SONARLINT_PORT_START = 64120;\nconst SONARLINT_PORT_RANGE = 11;\n\nexport async function probeSonarLintServers(): Promise<Array<Ide>> {\n  const probedPorts = buildPortRange();\n  const probeRequests = probedPorts.map(p =>\n    fetch(buildSonarLintEndpoint(p, '/status'))\n      .then(r => r.json())\n      .then(json => {\n        const { ideName, description } = json;\n        return { port: p, ideName, description } as Ide;\n      })\n      .catch(() => undefined)\n  );\n  const results = await Promise.all(probeRequests);\n  return results.filter(r => r !== undefined) as Ide[];\n}\n\nexport function openHotspot(calledPort: number, projectKey: string, hotspotKey: string) {\n  const showUrl = new URL(buildSonarLintEndpoint(calledPort, '/hotspots/show'));\n  showUrl.searchParams.set('server', getHostUrl());\n  showUrl.searchParams.set('project', projectKey);\n  showUrl.searchParams.set('hotspot', hotspotKey);\n  return fetch(showUrl.toString());\n}\n\n/**\n * @returns [ start , ... , start + size - 1 ]\n */\nexport function buildPortRange(start = SONARLINT_PORT_START, size = SONARLINT_PORT_RANGE) {\n  return Array.from(Array(size).keys()).map(p => start + p);\n}\n\nfunction buildSonarLintEndpoint(port: number, path: string) {\n  return `http://localhost:${port}/sonarlint/api${path}`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Ide } from '../../../types/sonarlint';\n\nexport const HotspotOpenInIdeOverlay = ({\n  ides,\n  onIdeSelected\n}: {\n  ides: Array<Ide>;\n  onIdeSelected: (ide: Ide) => Promise<void>;\n}) =>\n  ides.length > 1 ? (\n    <ul className=\"menu\">\n      {ides.map(ide => {\n        const { ideName, description } = ide;\n        const label = ideName + (description ? ` - ${description}` : '');\n        return (\n          <li key={ide.port}>\n            <a href=\"#\" onClick={() => onIdeSelected(ide)}>\n              {label}\n            </a>\n          </li>\n        );\n      })}\n    </ul>\n  ) : null;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport addGlobalErrorMessage from '../../../app/utils/addGlobalErrorMessage';\nimport addGlobalSuccessMessage from '../../../app/utils/addGlobalSuccessMessage';\nimport { openHotspot, probeSonarLintServers } from '../../../helpers/sonarlint';\nimport { Ide } from '../../../types/sonarlint';\nimport { HotspotOpenInIdeOverlay } from './HotspotOpenInIdeOverlay';\n\ninterface Props {\n  projectKey: string;\n  hotspotKey: string;\n}\n\ninterface State {\n  loading: boolean;\n  ides: Array<Ide>;\n}\n\nexport default class HotspotOpenInIdeButton extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  state = {\n    loading: false,\n    ides: []\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleOnClick = async () => {\n    this.setState({ loading: true, ides: [] });\n    const ides = await probeSonarLintServers();\n    if (ides.length === 0) {\n      if (this.mounted) {\n        this.setState({ loading: false });\n      }\n      this.showError();\n    } else if (ides.length === 1) {\n      this.openHotspot(ides[0]);\n    } else if (this.mounted) {\n      this.setState({ loading: false, ides });\n    }\n  };\n\n  openHotspot = (ide: Ide) => {\n    this.setState({ loading: true, ides: [] });\n    const { projectKey, hotspotKey } = this.props;\n    return openHotspot(ide.port, projectKey, hotspotKey)\n      .then(this.showSuccess)\n      .catch(this.showError)\n      .finally(this.cleanState);\n  };\n\n  showError = () => addGlobalErrorMessage(translate('hotspots.open_in_ide.failure'));\n\n  showSuccess = () => addGlobalSuccessMessage(translate('hotspots.open_in_ide.success'));\n\n  cleanState = () => {\n    if (this.mounted) {\n      this.setState({ loading: false, ides: [] });\n    }\n  };\n\n  render() {\n    return (\n      <Toggler\n        open={this.state.ides.length > 1}\n        onRequestClose={this.cleanState}\n        overlay={\n          <DropdownOverlay>\n            <HotspotOpenInIdeOverlay ides={this.state.ides} onIdeSelected={this.openHotspot} />\n          </DropdownOverlay>\n        }>\n        <Button onClick={this.handleOnClick}>\n          {translate('hotspots.open_in_ide.open')}\n          <DeferredSpinner loading={this.state.loading} className=\"spacer-left\" />\n        </Button>\n      </Toggler>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as globalMessages from '../../store/globalMessages';\nimport getStore from './getStore';\n\nexport default function addGlobalErrorMessage(message: string): void {\n  const store = getStore();\n  store.dispatch(globalMessages.addGlobalErrorMessage(message));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FormattingTips from '../../../components/common/FormattingTips';\n\nexport interface HotspotCommentPopupProps {\n  markdownComment: string;\n  onCommentEditSubmit: (comment: string) => void;\n  onCancelEdit: () => void;\n}\n\nexport default function HotspotCommentPopup(props: HotspotCommentPopupProps) {\n  const [comment, setComment] = React.useState(props.markdownComment);\n\n  return (\n    <div className=\"issue-comment-bubble-popup\">\n      <div className=\"issue-comment-form-text\">\n        <textarea\n          autoFocus={true}\n          onChange={event => setComment(event.target.value)}\n          rows={2}\n          value={comment}\n        />\n      </div>\n      <div className=\"spacer-top display-flex-space-between\">\n        <div className=\"issue-comment-form-tips\">\n          <FormattingTips />\n        </div>\n        <div className=\"\">\n          <Button\n            className=\"little-spacer-right\"\n            onClick={() => props.onCommentEditSubmit(comment)}>\n            {translate('save')}\n          </Button>\n          <ResetButtonLink\n            onClick={() => {\n              setComment('');\n              props.onCancelEdit();\n            }}>\n            {translate('cancel')}\n          </ResetButtonLink>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Button, DeleteButton, EditButton } from 'sonar-ui-common/components/controls/buttons';\nimport Dropdown, { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport IssueChangelogDiff from '../../../components/issue/components/IssueChangelogDiff';\nimport Avatar from '../../../components/ui/Avatar';\nimport { sanitizeString } from '../../../helpers/sanitize';\nimport { Hotspot, ReviewHistoryType } from '../../../types/security-hotspots';\nimport { getHotspotReviewHistory } from '../utils';\nimport HotspotCommentPopup from './HotspotCommentPopup';\n\nexport interface HotspotReviewHistoryProps {\n  hotspot: Hotspot;\n  onDeleteComment: (key: string) => void;\n  onEditComment: (key: string, comment: string) => void;\n}\n\nexport default function HotspotReviewHistory(props: HotspotReviewHistoryProps) {\n  const { hotspot } = props;\n  const reviewHistory = getHotspotReviewHistory(hotspot);\n  const [editedCommentKey, setEditedCommentKey] = React.useState('');\n\n  return (\n    <>\n      {reviewHistory.map((historyElt, historyIndex) => {\n        const { user, type, diffs, date, html, key, updatable, markdown } = historyElt;\n        return (\n          <div\n            className={classNames('padded', { 'bordered-top': historyIndex > 0 })}\n            key={historyIndex}>\n            <div className=\"display-flex-center\">\n              {user.name && (\n                <>\n                  <Avatar\n                    className=\"little-spacer-right\"\n                    hash={user.avatar}\n                    name={user.name}\n                    size={20}\n                  />\n                  <strong>\n                    {user.active ? user.name : translateWithParameters('user.x_deleted', user.name)}\n                  </strong>\n                  {type === ReviewHistoryType.Creation && (\n                    <span className=\"little-spacer-left\">\n                      {translate('hotspots.review_history.created')}\n                    </span>\n                  )}\n                  {type === ReviewHistoryType.Comment && (\n                    <span className=\"little-spacer-left\">\n                      {translate('hotspots.review_history.comment_added')}\n                    </span>\n                  )}\n                  <span className=\"little-spacer-left little-spacer-right\">-</span>\n                </>\n              )}\n              <DateTimeFormatter date={date} />\n            </div>\n\n            {type === ReviewHistoryType.Diff && diffs && (\n              <div className=\"spacer-top\">\n                {diffs.map((diff, diffIndex) => (\n                  <IssueChangelogDiff diff={diff} key={diffIndex} />\n                ))}\n              </div>\n            )}\n\n            {type === ReviewHistoryType.Comment && key && html && markdown && (\n              <div className=\"spacer-top display-flex-space-between\">\n                <div\n                  className=\"markdown\"\n                  // eslint-disable-next-line react/no-danger\n                  dangerouslySetInnerHTML={{ __html: sanitizeString(html) }}\n                />\n                {updatable && (\n                  <div>\n                    <div className=\"dropdown\">\n                      <Toggler\n                        onRequestClose={() => {\n                          setEditedCommentKey('');\n                        }}\n                        open={key === editedCommentKey}\n                        overlay={\n                          <DropdownOverlay placement={PopupPlacement.BottomRight}>\n                            <HotspotCommentPopup\n                              markdownComment={markdown}\n                              onCancelEdit={() => setEditedCommentKey('')}\n                              onCommentEditSubmit={comment => {\n                                setEditedCommentKey('');\n                                props.onEditComment(key, comment);\n                              }}\n                            />\n                          </DropdownOverlay>\n                        }>\n                        <EditButton\n                          className=\"button-small\"\n                          onClick={() => setEditedCommentKey(key)}\n                        />\n                      </Toggler>\n                    </div>\n                    <Dropdown\n                      onOpen={() => setEditedCommentKey('')}\n                      overlay={\n                        <div className=\"padded abs-width-150\">\n                          <p>{translate('issue.comment.delete_confirm_message')}</p>\n                          <Button\n                            className=\"button-red big-spacer-top pull-right\"\n                            onClick={() => props.onDeleteComment(key)}>\n                            {translate('delete')}\n                          </Button>\n                        </div>\n                      }\n                      overlayPlacement={PopupPlacement.BottomRight}>\n                      <DeleteButton className=\"button-small\" />\n                    </Dropdown>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        );\n      })}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  commentSecurityHotspot,\n  deleteSecurityHotspotComment,\n  editSecurityHotspotComment\n} from '../../../api/security-hotspots';\nimport FormattingTips from '../../../components/common/FormattingTips';\nimport { isLoggedIn } from '../../../helpers/users';\nimport { Hotspot } from '../../../types/security-hotspots';\nimport HotspotReviewHistory from './HotspotReviewHistory';\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  hotspot: Hotspot;\n  commentTextRef: React.RefObject<HTMLTextAreaElement>;\n  commentVisible: boolean;\n  onCommentUpdate: () => void;\n  onOpenComment: () => void;\n  onCloseComment: () => void;\n}\n\ninterface State {\n  comment: string;\n}\n\nexport default class HotspotReviewHistoryAndComments extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      comment: ''\n    };\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.hotspot !== this.props.hotspot) {\n      this.setState({\n        comment: ''\n      });\n    }\n  }\n\n  handleCommentChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({ comment: event.target.value });\n  };\n\n  handleCloseComment = () => {\n    this.setState({ comment: '' });\n    this.props.onCloseComment();\n  };\n\n  handleSubmitComment = () => {\n    return commentSecurityHotspot(this.props.hotspot.key, this.state.comment).then(() => {\n      this.setState({ comment: '' });\n      this.props.onCloseComment();\n      this.props.onCommentUpdate();\n    });\n  };\n\n  handleDeleteComment = (key: string) => {\n    return deleteSecurityHotspotComment(key).then(() => {\n      this.props.onCommentUpdate();\n    });\n  };\n\n  handleEditComment = (key: string, comment: string) => {\n    return editSecurityHotspotComment(key, comment).then(() => {\n      this.props.onCommentUpdate();\n    });\n  };\n\n  render() {\n    const { currentUser, hotspot, commentTextRef, commentVisible } = this.props;\n    const { comment } = this.state;\n    return (\n      <>\n        <h1>{translate('hotspot.section.activity')}</h1>\n        <div className=\"padded it__hs-review-history\">\n          <HotspotReviewHistory\n            hotspot={hotspot}\n            onDeleteComment={this.handleDeleteComment}\n            onEditComment={this.handleEditComment}\n          />\n\n          {isLoggedIn(currentUser) && (\n            <>\n              <hr />\n              <div className=\"big-spacer-top\">\n                <Button\n                  className={classNames('it__hs-add-comment', { invisible: commentVisible })}\n                  id=\"hotspot-comment-box-display\"\n                  onClick={this.props.onOpenComment}>\n                  {translate('hotspots.comment.open')}\n                </Button>\n\n                <div className={classNames({ invisible: !commentVisible })}>\n                  <div className=\"little-spacer-bottom\">{translate('hotspots.comment.field')}</div>\n                  <textarea\n                    className=\"form-field fixed-width width-100 spacer-bottom\"\n                    onChange={this.handleCommentChange}\n                    ref={commentTextRef}\n                    rows={2}\n                    value={comment}\n                  />\n                  <div className=\"display-flex-space-between display-flex-center \">\n                    <FormattingTips className=\"huge-spacer-bottom\" />\n                    <div>\n                      <Button\n                        className=\"huge-spacer-bottom\"\n                        id=\"hotspot-comment-box-submit\"\n                        onClick={this.handleSubmitComment}>\n                        {translate('hotspots.comment.submit')}\n                      </Button>\n                      <ResetButtonLink\n                        className=\"spacer-left huge-spacer-bottom\"\n                        id=\"hotspot-comment-box-cancel\"\n                        onClick={this.handleCloseComment}>\n                        {translate('cancel')}\n                      </ResetButtonLink>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { SourceViewerContext } from '../../../components/SourceViewer/SourceViewerContext';\nimport SourceViewerHeaderSlim from '../../../components/SourceViewer/SourceViewerHeaderSlim';\nimport { BranchLike } from '../../../types/branch-like';\nimport { Hotspot } from '../../../types/security-hotspots';\nimport SnippetViewer from '../../issues/crossComponentSourceViewer/SnippetViewer';\n\nexport interface HotspotSnippetContainerRendererProps {\n  branchLike?: BranchLike;\n  displayProjectName?: boolean;\n  highlightedSymbols: string[];\n  hotspot: Hotspot;\n  loading: boolean;\n  locations: { [line: number]: T.LinearIssueLocation[] };\n  onExpandBlock: (direction: T.ExpandDirection) => Promise<void>;\n  onSymbolClick: (symbols: string[]) => void;\n  sourceLines: T.SourceLine[];\n  sourceViewerFile: T.SourceViewerFile;\n}\n\nconst noop = () => undefined;\n\nexport default function HotspotSnippetContainerRenderer(\n  props: HotspotSnippetContainerRendererProps\n) {\n  const {\n    branchLike,\n    displayProjectName,\n    highlightedSymbols,\n    hotspot,\n    loading,\n    locations,\n    sourceLines,\n    sourceViewerFile\n  } = props;\n\n  return (\n    <>\n      {!loading && sourceLines.length === 0 && (\n        <p className=\"spacer-bottom\">{translate('hotspots.no_associated_lines')}</p>\n      )}\n      <div className=\"bordered big-spacer-bottom\">\n        <SourceViewerHeaderSlim\n          branchLike={branchLike}\n          expandable={false}\n          displayProjectName={displayProjectName}\n          linkToProject={false}\n          loading={loading}\n          onExpand={noop}\n          sourceViewerFile={sourceViewerFile}\n        />\n        <DeferredSpinner className=\"big-spacer\" loading={loading}>\n          {sourceLines.length > 0 && (\n            <SourceViewerContext.Provider /* Used by LineOptionsPopup */\n              value={{ branchLike, file: sourceViewerFile }}>\n              <SnippetViewer\n                branchLike={branchLike}\n                component={sourceViewerFile}\n                displaySCM={false}\n                expandBlock={(_i, direction) => props.onExpandBlock(direction)}\n                handleCloseIssues={noop}\n                handleOpenIssues={noop}\n                handleSymbolClick={props.onSymbolClick}\n                highlightedLocationMessage={undefined}\n                highlightedSymbols={highlightedSymbols}\n                index={0}\n                issue={hotspot}\n                issuesByLine={{}}\n                lastSnippetOfLastGroup={false}\n                locations={[]}\n                locationsByLine={locations}\n                onIssueChange={noop}\n                onIssuePopupToggle={noop}\n                onLocationSelect={noop}\n                openIssuesByLine={{}}\n                renderDuplicationPopup={noop}\n                snippet={sourceLines}\n              />\n            </SourceViewerContext.Provider>\n          )}\n        </DeferredSpinner>\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getSources } from '../../../api/components';\nimport { locationsByLine } from '../../../components/SourceViewer/helpers/indexing';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport { Hotspot } from '../../../types/security-hotspots';\nimport { constructSourceViewerFile } from '../utils';\nimport HotspotSnippetContainerRenderer from './HotspotSnippetContainerRenderer';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.Component;\n  hotspot: Hotspot;\n}\n\ninterface State {\n  highlightedSymbols: string[];\n  lastLine?: number;\n  loading: boolean;\n  sourceLines: T.SourceLine[];\n}\n\nconst BUFFER_LINES = 5;\nconst EXPAND_BY_LINES = 50;\n\nexport default class HotspotSnippetContainer extends React.Component<Props, State> {\n  mounted = false;\n  state: State = {\n    highlightedSymbols: [],\n    loading: true,\n    sourceLines: []\n  };\n\n  componentWillMount() {\n    this.mounted = true;\n    this.fetchSources();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.hotspot.key !== this.props.hotspot.key) {\n      this.fetchSources();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  checkLastLine(lines: T.SourceLine[], target: number): number | undefined {\n    if (lines.length < 1) {\n      return undefined;\n    }\n    const lastLineReceived = lines[lines.length - 1].line;\n    if (lastLineReceived < target) {\n      return lastLineReceived;\n    }\n    return undefined;\n  }\n\n  async fetchSources() {\n    const {\n      branchLike,\n      hotspot: { component, textRange }\n    } = this.props;\n\n    if (!textRange) {\n      // Hotspot not associated to any loc\n      this.setState({ loading: false, lastLine: undefined, sourceLines: [] });\n      return;\n    }\n\n    const from = Math.max(1, textRange.startLine - BUFFER_LINES);\n    // Add 1 to check for end-of-file:\n    const to = textRange.endLine + BUFFER_LINES + 1;\n\n    this.setState({ loading: true });\n\n    let sourceLines = await getSources({\n      key: component.key,\n      from,\n      to,\n      ...getBranchLikeQuery(branchLike)\n    }).catch(() => [] as T.SourceLine[]);\n\n    if (this.mounted) {\n      const lastLine = this.checkLastLine(sourceLines, to);\n\n      // remove extra sourceline if we didn't reach the end:\n      sourceLines = lastLine ? sourceLines : sourceLines.slice(0, -1);\n      this.setState({ lastLine, loading: false, sourceLines });\n    }\n  }\n\n  handleExpansion = (direction: T.ExpandDirection) => {\n    const { branchLike, hotspot } = this.props;\n    const { sourceLines } = this.state;\n\n    const range =\n      direction === 'up'\n        ? {\n            from: Math.max(1, sourceLines[0].line - EXPAND_BY_LINES),\n            to: sourceLines[0].line - 1\n          }\n        : {\n            from: sourceLines[sourceLines.length - 1].line + 1,\n            // Add 1 to check for end-of-file:\n            to: sourceLines[sourceLines.length - 1].line + EXPAND_BY_LINES + 1\n          };\n\n    return getSources({\n      key: hotspot.component.key,\n      ...range,\n      ...getBranchLikeQuery(branchLike)\n    }).then(additionalLines => {\n      const { lastLine: previousLastLine } = this.state;\n\n      const lastLine =\n        direction === 'down' ? this.checkLastLine(additionalLines, range.to) : previousLastLine;\n\n      let concatSourceLines;\n      if (direction === 'up') {\n        concatSourceLines = additionalLines.concat(sourceLines);\n      } else {\n        // remove extra sourceline if we didn't reach the end:\n        concatSourceLines = sourceLines.concat(\n          lastLine ? additionalLines : additionalLines.slice(0, -1)\n        );\n      }\n\n      this.setState({\n        lastLine,\n        sourceLines: concatSourceLines\n      });\n    });\n  };\n\n  handleSymbolClick = (highlightedSymbols: string[]) => {\n    this.setState({ highlightedSymbols });\n  };\n\n  render() {\n    const { branchLike, component, hotspot } = this.props;\n    const { highlightedSymbols, lastLine, loading, sourceLines } = this.state;\n\n    const locations = locationsByLine([hotspot]);\n\n    const sourceViewerFile = constructSourceViewerFile(hotspot, lastLine);\n\n    return (\n      <HotspotSnippetContainerRenderer\n        branchLike={branchLike}\n        displayProjectName={component.qualifier === ComponentQualifier.Application}\n        highlightedSymbols={highlightedSymbols}\n        hotspot={hotspot}\n        loading={loading}\n        locations={locations}\n        onExpandBlock={this.handleExpansion}\n        onSymbolClick={this.handleSymbolClick}\n        sourceLines={sourceLines}\n        sourceViewerFile={sourceViewerFile}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BoxedTabs from 'sonar-ui-common/components/controls/BoxedTabs';\nimport Tab from 'sonar-ui-common/components/controls/Tabs';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { sanitizeString } from '../../../helpers/sanitize';\nimport { Hotspot } from '../../../types/security-hotspots';\n\ninterface Props {\n  hotspot: Hotspot;\n}\n\ninterface State {\n  currentTab: Tab;\n  tabs: Tab[];\n}\n\ninterface Tab {\n  key: TabKeys;\n  label: React.ReactNode;\n  content: string;\n}\n\nexport enum TabKeys {\n  RiskDescription = 'risk',\n  VulnerabilityDescription = 'vulnerability',\n  FixRecommendation = 'fix'\n}\n\nexport default class HotspotViewerTabs extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    const tabs = this.computeTabs();\n    this.state = {\n      currentTab: tabs[0],\n      tabs\n    };\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.hotspot.key !== prevProps.hotspot.key) {\n      const tabs = this.computeTabs();\n      this.setState({\n        currentTab: tabs[0],\n        tabs\n      });\n    }\n  }\n\n  handleSelectTabs = (tabKey: TabKeys) => {\n    const { tabs } = this.state;\n    const currentTab = tabs.find(tab => tab.key === tabKey)!;\n    this.setState({ currentTab });\n  };\n\n  computeTabs() {\n    const { hotspot } = this.props;\n    return [\n      {\n        key: TabKeys.RiskDescription,\n        label: translate('hotspots.tabs.risk_description'),\n        content: hotspot.rule.riskDescription || ''\n      },\n      {\n        key: TabKeys.VulnerabilityDescription,\n        label: translate('hotspots.tabs.vulnerability_description'),\n        content: hotspot.rule.vulnerabilityDescription || ''\n      },\n      {\n        key: TabKeys.FixRecommendation,\n        label: translate('hotspots.tabs.fix_recommendations'),\n        content: hotspot.rule.fixRecommendations || ''\n      }\n    ].filter(tab => Boolean(tab.content));\n  }\n\n  render() {\n    const { tabs, currentTab } = this.state;\n    if (tabs.length === 0) {\n      return null;\n    }\n\n    return (\n      <>\n        <BoxedTabs onSelect={this.handleSelectTabs} selected={currentTab.key} tabs={tabs} />\n        <div className=\"bordered huge-spacer-bottom\">\n          <div\n            className=\"markdown big-padded\"\n            // eslint-disable-next-line react/no-danger\n            dangerouslySetInnerHTML={{ __html: sanitizeString(currentTab.content) }}\n          />\n        </div>\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { HotspotStatusOption } from '../../../../types/security-hotspots';\n\nexport interface StatusDescriptionProps {\n  statusOption: HotspotStatusOption;\n  showTitle?: boolean;\n}\n\nexport default function StatusDescription(props: StatusDescriptionProps) {\n  const { statusOption, showTitle } = props;\n\n  return (\n    <div>\n      <h3>\n        {showTitle && `${translate('status')}: `}\n        {translate('hotspots.status_option', statusOption)}\n      </h3>\n      <span>{translate('hotspots.status_option', statusOption, 'description')}</span>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FormattingTips from '../../../../components/common/FormattingTips';\nimport { HotspotStatusOption } from '../../../../types/security-hotspots';\nimport StatusDescription from './StatusDescription';\n\nexport interface StatusSelectionRendererProps {\n  selectedStatus: HotspotStatusOption;\n  onStatusChange: (statusOption: HotspotStatusOption) => void;\n\n  comment?: string;\n  onCommentChange: (comment: string) => void;\n\n  onSubmit: () => void;\n\n  loading: boolean;\n  submitDisabled: boolean;\n}\n\nexport default function StatusSelectionRenderer(props: StatusSelectionRendererProps) {\n  const { comment, loading, selectedStatus, submitDisabled } = props;\n\n  const renderOption = (status: HotspotStatusOption) => {\n    return (\n      <Radio\n        checked={selectedStatus === status}\n        className=\"big-spacer-bottom\"\n        onCheck={props.onStatusChange}\n        value={status}>\n        <StatusDescription statusOption={status} />\n      </Radio>\n    );\n  };\n\n  return (\n    <>\n      <div className=\"big-padded\">\n        {renderOption(HotspotStatusOption.TO_REVIEW)}\n        {renderOption(HotspotStatusOption.FIXED)}\n        {renderOption(HotspotStatusOption.SAFE)}\n      </div>\n\n      <hr />\n      <div className=\"big-padded display-flex-column\">\n        <label className=\"text-bold\" htmlFor=\"comment-textarea\">\n          {translate('hotspots.status.add_comment')}\n        </label>\n        <textarea\n          className=\"spacer-top form-field fixed-width spacer-bottom\"\n          id=\"comment-textarea\"\n          onChange={(event: React.ChangeEvent<HTMLTextAreaElement>) =>\n            props.onCommentChange(event.currentTarget.value)\n          }\n          rows={4}\n          value={comment}\n        />\n        <FormattingTips />\n\n        <div className=\"big-spacer-top display-flex-justify-end display-flex-center\">\n          <SubmitButton disabled={submitDisabled || loading} onClick={props.onSubmit}>\n            {translate('hotspots.status.change_status')}\n          </SubmitButton>\n\n          {loading && <i className=\"spacer-left spinner\" />}\n        </div>\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { setSecurityHotspotStatus } from '../../../../api/security-hotspots';\nimport addGlobalSuccessMessage from '../../../../app/utils/addGlobalSuccessMessage';\nimport { Hotspot, HotspotStatusOption } from '../../../../types/security-hotspots';\nimport {\n  getStatusAndResolutionFromStatusOption,\n  getStatusOptionFromStatusAndResolution\n} from '../../utils';\nimport StatusSelectionRenderer from './StatusSelectionRenderer';\n\ninterface Props {\n  hotspot: Hotspot;\n  onStatusOptionChange: (statusOption: HotspotStatusOption) => Promise<void>;\n}\n\ninterface State {\n  comment?: string;\n  loading: boolean;\n  initialStatus: HotspotStatusOption;\n  selectedStatus: HotspotStatusOption;\n}\n\nexport default class StatusSelection extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    const initialStatus = getStatusOptionFromStatusAndResolution(\n      props.hotspot.status,\n      props.hotspot.resolution\n    );\n\n    this.state = {\n      loading: false,\n      initialStatus,\n      selectedStatus: initialStatus\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleStatusChange = (selectedStatus: HotspotStatusOption) => {\n    this.setState({ selectedStatus });\n  };\n\n  handleCommentChange = (comment: string) => {\n    this.setState({ comment });\n  };\n\n  handleSubmit = () => {\n    const { hotspot } = this.props;\n    const { comment, initialStatus, selectedStatus } = this.state;\n\n    if (selectedStatus && selectedStatus !== initialStatus) {\n      this.setState({ loading: true });\n      setSecurityHotspotStatus(hotspot.key, {\n        ...getStatusAndResolutionFromStatusOption(selectedStatus),\n        comment: comment || undefined\n      })\n        .then(async () => {\n          await this.props.onStatusOptionChange(selectedStatus);\n          this.setState({ loading: false });\n        })\n        .then(() =>\n          addGlobalSuccessMessage(\n            translateWithParameters(\n              'hotspots.update.success',\n              translate('hotspots.status_option', selectedStatus)\n            )\n          )\n        )\n        .catch(() => this.setState({ loading: false }));\n    }\n  };\n\n  render() {\n    const { comment, initialStatus, loading, selectedStatus } = this.state;\n    const submitDisabled = selectedStatus === initialStatus;\n\n    return (\n      <StatusSelectionRenderer\n        comment={comment}\n        loading={loading}\n        onCommentChange={this.handleCommentChange}\n        onStatusChange={this.handleStatusChange}\n        onSubmit={this.handleSubmit}\n        selectedStatus={selectedStatus}\n        submitDisabled={submitDisabled}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport ChevronDownIcon from 'sonar-ui-common/components/icons/ChevronDownIcon';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { withCurrentUser } from '../../../../components/hoc/withCurrentUser';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { Hotspot } from '../../../../types/security-hotspots';\nimport { getStatusOptionFromStatusAndResolution } from '../../utils';\nimport './Status.css';\nimport StatusDescription from './StatusDescription';\nimport StatusSelection from './StatusSelection';\n\nexport interface StatusProps {\n  currentUser: T.CurrentUser;\n  hotspot: Hotspot;\n\n  onStatusChange: () => Promise<void>;\n}\n\nexport function Status(props: StatusProps) {\n  const { currentUser, hotspot } = props;\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  const statusOption = getStatusOptionFromStatusAndResolution(hotspot.status, hotspot.resolution);\n  const readonly = !hotspot.canChangeStatus || !isLoggedIn(currentUser);\n\n  const trigger = (\n    <div\n      aria-expanded={isOpen}\n      aria-haspopup={true}\n      className={classNames('padded bordered display-flex-column display-flex-justify-center', {\n        readonly\n      })}\n      id=\"status-trigger\"\n      onClick={() => !readonly && setIsOpen(true)}\n      role=\"button\"\n      tabIndex={0}>\n      <div className=\"display-flex-center display-flex-space-between\">\n        {isOpen ? (\n          <span className=\"h3\">{translate('hotspots.status.select_status')}</span>\n        ) : (\n          <StatusDescription showTitle={true} statusOption={statusOption} />\n        )}\n        {!readonly && <ChevronDownIcon className=\"big-spacer-left\" />}\n      </div>\n    </div>\n  );\n\n  const actionableTrigger = (\n    <Toggler\n      closeOnClickOutside={true}\n      closeOnEscape={true}\n      onRequestClose={() => setIsOpen(false)}\n      open={isOpen}\n      overlay={\n        <DropdownOverlay noPadding={true} placement={PopupPlacement.Bottom}>\n          <StatusSelection\n            hotspot={hotspot}\n            onStatusOptionChange={async () => {\n              await props.onStatusChange();\n              setIsOpen(false);\n            }}\n          />\n        </DropdownOverlay>\n      }>\n      {trigger}\n    </Toggler>\n  );\n\n  return (\n    <div className=\"dropdown\">\n      {readonly ? (\n        <Tooltip overlay={translate('hotspots.status.cannot_change_status')} placement=\"bottom\">\n          {trigger}\n        </Tooltip>\n      ) : (\n        actionableTrigger\n      )}\n    </div>\n  );\n}\n\nexport default withCurrentUser(Status);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { ClipboardButton } from 'sonar-ui-common/components/controls/clipboard';\nimport LinkIcon from 'sonar-ui-common/components/icons/LinkIcon';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getPathUrlAsString } from 'sonar-ui-common/helpers/urls';\nimport { withCurrentUser } from '../../../components/hoc/withCurrentUser';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { getComponentSecurityHotspotsUrl } from '../../../helpers/urls';\nimport { isLoggedIn } from '../../../helpers/users';\nimport { BranchLike } from '../../../types/branch-like';\nimport { Hotspot } from '../../../types/security-hotspots';\nimport Assignee from './assignee/Assignee';\nimport HotspotOpenInIdeButton from './HotspotOpenInIdeButton';\nimport HotspotReviewHistoryAndComments from './HotspotReviewHistoryAndComments';\nimport HotspotSnippetContainer from './HotspotSnippetContainer';\nimport './HotspotViewer.css';\nimport HotspotViewerTabs from './HotspotViewerTabs';\nimport Status from './status/Status';\n\nexport interface HotspotViewerRendererProps {\n  branchLike?: BranchLike;\n  component: T.Component;\n  currentUser: T.CurrentUser;\n  hotspot?: Hotspot;\n  loading: boolean;\n  commentVisible: boolean;\n  commentTextRef: React.RefObject<HTMLTextAreaElement>;\n  onOpenComment: () => void;\n  onCloseComment: () => void;\n  onUpdateHotspot: (statusUpdate?: boolean) => Promise<void>;\n  securityCategories: T.StandardSecurityCategories;\n}\n\nexport function HotspotViewerRenderer(props: HotspotViewerRendererProps) {\n  const {\n    branchLike,\n    component,\n    currentUser,\n    hotspot,\n    loading,\n    securityCategories,\n    commentTextRef,\n    commentVisible\n  } = props;\n\n  const permalink = getPathUrlAsString(\n    getComponentSecurityHotspotsUrl(component.key, {\n      ...getBranchLikeQuery(branchLike),\n      hotspots: hotspot?.key\n    }),\n    false\n  );\n\n  return (\n    <DeferredSpinner className=\"big-spacer-left big-spacer-top\" loading={loading}>\n      {hotspot && (\n        <div className=\"big-padded hotspot-content\">\n          <div className=\"huge-spacer-bottom display-flex-space-between\">\n            <strong className=\"big big-spacer-right\">{hotspot.message}</strong>\n            <div className=\"display-flex-row flex-0\">\n              {isLoggedIn(currentUser) && (\n                <>\n                  <div className=\"dropdown spacer-right flex-1-0-auto\">\n                    <Button className=\"it__hs-add-comment\" onClick={props.onOpenComment}>\n                      {translate('hotspots.comment.open')}\n                    </Button>\n                  </div>\n                  <div className=\"dropdown spacer-right flex-1-0-auto\">\n                    <HotspotOpenInIdeButton\n                      hotspotKey={hotspot.key}\n                      projectKey={hotspot.project.key}\n                    />\n                  </div>\n                </>\n              )}\n              <ClipboardButton className=\"flex-1-0-auto\" copyValue={permalink}>\n                <LinkIcon className=\"spacer-right\" />\n                <span>{translate('hotspots.get_permalink')}</span>\n              </ClipboardButton>\n            </div>\n          </div>\n\n          <div className=\"huge-spacer-bottom display-flex-row\">\n            <div className=\"hotspot-information display-flex-column display-flex-space-between\">\n              <div className=\"display-flex-center\">\n                <span className=\"big-spacer-right\">{translate('category')}</span>\n                <strong className=\"nowrap\">\n                  {securityCategories[hotspot.rule.securityCategory].title}\n                </strong>\n              </div>\n              <div className=\"display-flex-center\">\n                <span className=\"big-spacer-right\">{translate('hotspots.risk_exposure')}</span>\n                <div\n                  className={classNames(\n                    'hotspot-risk-badge',\n                    hotspot.rule.vulnerabilityProbability\n                  )}>\n                  {translate('risk_exposure', hotspot.rule.vulnerabilityProbability)}\n                </div>\n              </div>\n              <div className=\"display-flex-center it__hs-assignee\">\n                <span className=\"big-spacer-right\">{translate('assignee')}</span>\n                <div>\n                  <Assignee hotspot={hotspot} onAssigneeChange={props.onUpdateHotspot} />\n                </div>\n              </div>\n            </div>\n            <div className=\"huge-spacer-left\">\n              <Status hotspot={hotspot} onStatusChange={() => props.onUpdateHotspot(true)} />\n            </div>\n          </div>\n\n          <HotspotSnippetContainer\n            branchLike={branchLike}\n            component={component}\n            hotspot={hotspot}\n          />\n          <HotspotViewerTabs hotspot={hotspot} />\n          <HotspotReviewHistoryAndComments\n            commentTextRef={commentTextRef}\n            commentVisible={commentVisible}\n            currentUser={currentUser}\n            hotspot={hotspot}\n            onCloseComment={props.onCloseComment}\n            onCommentUpdate={props.onUpdateHotspot}\n            onOpenComment={props.onOpenComment}\n          />\n        </div>\n      )}\n    </DeferredSpinner>\n  );\n}\n\nexport default withCurrentUser(HotspotViewerRenderer);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport { getSecurityHotspotDetails } from '../../../api/security-hotspots';\nimport { BranchLike } from '../../../types/branch-like';\nimport { Hotspot } from '../../../types/security-hotspots';\nimport HotspotViewerRenderer from './HotspotViewerRenderer';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.Component;\n  hotspotKey: string;\n  onUpdateHotspot: (hotspotKey: string) => Promise<void>;\n  securityCategories: T.StandardSecurityCategories;\n}\n\ninterface State {\n  hotspot?: Hotspot;\n  loading: boolean;\n  commentVisible: boolean;\n}\n\nexport default class HotspotViewer extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State;\n  commentTextRef: React.RefObject<HTMLTextAreaElement>;\n\n  constructor(props: Props) {\n    super(props);\n    this.commentTextRef = React.createRef<HTMLTextAreaElement>();\n    this.state = { loading: false, commentVisible: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchHotspot();\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    if (prevProps.hotspotKey !== this.props.hotspotKey) {\n      this.fetchHotspot();\n    }\n    if (this.commentTextRef.current && !prevState.commentVisible && this.state.commentVisible) {\n      this.commentTextRef.current.focus({ preventScroll: true });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchHotspot = () => {\n    this.setState({ loading: true });\n    return getSecurityHotspotDetails(this.props.hotspotKey)\n      .then(hotspot => {\n        if (this.mounted) {\n          this.setState({ hotspot, loading: false });\n        }\n        return hotspot;\n      })\n      .catch(() => this.mounted && this.setState({ loading: false }));\n  };\n\n  handleHotspotUpdate = async (statusUpdate = false) => {\n    const { hotspotKey } = this.props;\n\n    if (statusUpdate) {\n      await this.props.onUpdateHotspot(hotspotKey);\n    } else {\n      await this.fetchHotspot();\n    }\n  };\n\n  handleOpenComment = () => {\n    this.setState({ commentVisible: true });\n    if (this.commentTextRef.current) {\n      // Edge case when the comment is already open and unfocus.\n      this.commentTextRef.current.focus({ preventScroll: true });\n    }\n    if (this.commentTextRef.current) {\n      scrollToElement(this.commentTextRef.current, {\n        bottomOffset: 100\n      });\n    }\n  };\n\n  handleCloseComment = () => {\n    this.setState({ commentVisible: false });\n  };\n\n  render() {\n    const { branchLike, component, securityCategories } = this.props;\n    const { hotspot, loading, commentVisible } = this.state;\n\n    return (\n      <HotspotViewerRenderer\n        branchLike={branchLike}\n        component={component}\n        commentTextRef={this.commentTextRef}\n        commentVisible={commentVisible}\n        hotspot={hotspot}\n        loading={loading}\n        onCloseComment={this.handleCloseComment}\n        onOpenComment={this.handleOpenComment}\n        onUpdateHotspot={this.handleHotspotUpdate}\n        securityCategories={securityCategories}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport A11ySkipTarget from '../../app/components/a11y/A11ySkipTarget';\nimport Suggestions from '../../app/components/embed-docs-modal/Suggestions';\nimport ScreenPositionHelper from '../../components/common/ScreenPositionHelper';\nimport { isBranch } from '../../helpers/branch-like';\nimport { BranchLike } from '../../types/branch-like';\nimport { SecurityStandard, Standards } from '../../types/security';\nimport { HotspotFilters, HotspotStatusFilter, RawHotspot } from '../../types/security-hotspots';\nimport EmptyHotspotsPage from './components/EmptyHotspotsPage';\nimport FilterBar from './components/FilterBar';\nimport HotspotList from './components/HotspotList';\nimport HotspotSimpleList from './components/HotspotSimpleList';\nimport HotspotViewer from './components/HotspotViewer';\nimport './styles.css';\n\nexport interface SecurityHotspotsAppRendererProps {\n  branchLike?: BranchLike;\n  component: T.Component;\n  filterByCategory?: {\n    standard: SecurityStandard;\n    category: string;\n  };\n  filterByCWE?: string;\n  filters: HotspotFilters;\n  hotspots: RawHotspot[];\n  hotspotsReviewedMeasure?: string;\n  hotspotsTotal: number;\n  isStaticListOfHotspots: boolean;\n  loading: boolean;\n  loadingMeasure: boolean;\n  loadingMore: boolean;\n  onChangeFilters: (filters: Partial<HotspotFilters>) => void;\n  onHotspotClick: (hotspot: RawHotspot) => void;\n  onLoadMore: () => void;\n  onShowAllHotspots: () => void;\n  onUpdateHotspot: (hotspotKey: string) => Promise<void>;\n  selectedHotspot: RawHotspot | undefined;\n  securityCategories: T.StandardSecurityCategories;\n  standards: Standards;\n}\n\nexport default function SecurityHotspotsAppRenderer(props: SecurityHotspotsAppRendererProps) {\n  const {\n    branchLike,\n    component,\n    filterByCategory,\n    filterByCWE,\n    filters,\n    hotspots,\n    hotspotsReviewedMeasure,\n    hotspotsTotal,\n    isStaticListOfHotspots,\n    loading,\n    loadingMeasure,\n    loadingMore,\n    securityCategories,\n    selectedHotspot,\n    standards\n  } = props;\n\n  const scrollableRef = React.useRef(null);\n\n  React.useEffect(() => {\n    const parent = scrollableRef.current;\n    const element =\n      selectedHotspot && document.querySelector(`[data-hotspot-key=\"${selectedHotspot.key}\"]`);\n    if (parent && element) {\n      scrollToElement(element, { parent, smooth: true, topOffset: 100, bottomOffset: 100 });\n    }\n  }, [selectedHotspot]);\n\n  return (\n    <div id=\"security_hotspots\">\n      <Suggestions suggestions=\"security_hotspots\" />\n      <Helmet title={translate('hotspots.page')} />\n      <A11ySkipTarget anchor=\"security_hotspots_main\" />\n\n      <FilterBar\n        component={component}\n        filters={filters}\n        hotspotsReviewedMeasure={hotspotsReviewedMeasure}\n        isStaticListOfHotspots={isStaticListOfHotspots}\n        loadingMeasure={loadingMeasure}\n        onBranch={isBranch(branchLike)}\n        onChangeFilters={props.onChangeFilters}\n        onShowAllHotspots={props.onShowAllHotspots}\n      />\n\n      {loading && (\n        <div className=\"layout-page\">\n          <div className=\"layout-page-side-inner\">\n            <DeferredSpinner className=\"big-spacer-top\" />\n          </div>\n        </div>\n      )}\n\n      {!loading &&\n        (hotspots.length === 0 || !selectedHotspot ? (\n          <EmptyHotspotsPage\n            filtered={\n              filters.assignedToMe ||\n              (isBranch(branchLike) && filters.sinceLeakPeriod) ||\n              filters.status !== HotspotStatusFilter.TO_REVIEW\n            }\n            isStaticListOfHotspots={isStaticListOfHotspots}\n          />\n        ) : (\n          <div className=\"layout-page\">\n            <ScreenPositionHelper className=\"layout-page-side-outer\">\n              {({ top }) => (\n                <div className=\"layout-page-side\" ref={scrollableRef} style={{ top }}>\n                  <div className=\"layout-page-side-inner\">\n                    {filterByCategory || filterByCWE ? (\n                      <HotspotSimpleList\n                        filterByCategory={filterByCategory}\n                        filterByCWE={filterByCWE}\n                        hotspots={hotspots}\n                        hotspotsTotal={hotspotsTotal}\n                        loadingMore={loadingMore}\n                        onHotspotClick={props.onHotspotClick}\n                        onLoadMore={props.onLoadMore}\n                        selectedHotspot={selectedHotspot}\n                        standards={standards}\n                      />\n                    ) : (\n                      <HotspotList\n                        hotspots={hotspots}\n                        hotspotsTotal={hotspotsTotal}\n                        isStaticListOfHotspots={isStaticListOfHotspots}\n                        loadingMore={loadingMore}\n                        onHotspotClick={props.onHotspotClick}\n                        onLoadMore={props.onLoadMore}\n                        securityCategories={securityCategories}\n                        selectedHotspot={selectedHotspot}\n                        statusFilter={filters.status}\n                      />\n                    )}\n                  </div>\n                </div>\n              )}\n            </ScreenPositionHelper>\n\n            <div className=\"layout-page-main\">\n              <HotspotViewer\n                branchLike={branchLike}\n                component={component}\n                hotspotKey={selectedHotspot.key}\n                onUpdateHotspot={props.onUpdateHotspot}\n                securityCategories={securityCategories}\n              />\n            </div>\n          </div>\n        ))}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Location } from 'history';\nimport * as key from 'keymaster';\nimport { flatMap, range } from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getMeasures } from '../../api/measures';\nimport { getSecurityHotspotList, getSecurityHotspots } from '../../api/security-hotspots';\nimport { withCurrentUser } from '../../components/hoc/withCurrentUser';\nimport { Router } from '../../components/hoc/withRouter';\nimport { getLeakValue } from '../../components/measure/utils';\nimport { getBranchLikeQuery, isPullRequest, isSameBranchLike } from '../../helpers/branch-like';\nimport { getStandards } from '../../helpers/security-standard';\nimport { isLoggedIn } from '../../helpers/users';\nimport { fetchBranchStatus } from '../../store/rootActions';\nimport { BranchLike } from '../../types/branch-like';\nimport { SecurityStandard, Standards } from '../../types/security';\nimport {\n  HotspotFilters,\n  HotspotResolution,\n  HotspotStatus,\n  HotspotStatusFilter,\n  RawHotspot\n} from '../../types/security-hotspots';\nimport SecurityHotspotsAppRenderer from './SecurityHotspotsAppRenderer';\nimport './styles.css';\nimport { SECURITY_STANDARDS } from './utils';\n\nconst HOTSPOT_KEYMASTER_SCOPE = 'hotspots-list';\nconst PAGE_SIZE = 500;\ninterface DispatchProps {\n  fetchBranchStatus: (branchLike: BranchLike, projectKey: string) => void;\n}\n\ninterface OwnProps {\n  branchLike?: BranchLike;\n  currentUser: T.CurrentUser;\n  component: T.Component;\n  location: Location;\n  router: Router;\n}\n\ntype Props = DispatchProps & OwnProps;\n\ninterface State {\n  filterByCategory?: { standard: SecurityStandard; category: string };\n  filterByCWE?: string;\n  filters: HotspotFilters;\n  hotspotKeys?: string[];\n  hotspots: RawHotspot[];\n  hotspotsPageIndex: number;\n  hotspotsReviewedMeasure?: string;\n  hotspotsTotal: number;\n  loading: boolean;\n  loadingMeasure: boolean;\n  loadingMore: boolean;\n  selectedHotspot: RawHotspot | undefined;\n  standards: Standards;\n}\n\nexport class SecurityHotspotsApp extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      loadingMeasure: false,\n      loadingMore: false,\n      hotspots: [],\n      hotspotsTotal: 0,\n      hotspotsPageIndex: 1,\n      selectedHotspot: undefined,\n      standards: {\n        [SecurityStandard.OWASP_TOP10]: {},\n        [SecurityStandard.SANS_TOP25]: {},\n        [SecurityStandard.SONARSOURCE]: {},\n        [SecurityStandard.CWE]: {}\n      },\n      filters: {\n        ...this.constructFiltersFromProps(props),\n        status: HotspotStatusFilter.TO_REVIEW\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchInitialData();\n    this.registerKeyboardEvents();\n  }\n\n  componentDidUpdate(previous: Props) {\n    if (\n      this.props.component.key !== previous.component.key ||\n      this.props.location.query.hotspots !== previous.location.query.hotspots ||\n      SECURITY_STANDARDS.some(s => this.props.location.query[s] !== previous.location.query[s])\n    ) {\n      this.fetchInitialData();\n    }\n\n    if (\n      !isSameBranchLike(this.props.branchLike, previous.branchLike) ||\n      isLoggedIn(this.props.currentUser) !== isLoggedIn(previous.currentUser) ||\n      this.props.location.query.assignedToMe !== previous.location.query.assignedToMe ||\n      this.props.location.query.sinceLeakPeriod !== previous.location.query.sinceLeakPeriod\n    ) {\n      this.setState(({ filters }) => ({\n        filters: { ...this.constructFiltersFromProps, ...filters }\n      }));\n    }\n  }\n\n  componentWillUnmount() {\n    this.unregisterKeyboardEvents();\n    this.mounted = false;\n  }\n\n  registerKeyboardEvents() {\n    key.setScope(HOTSPOT_KEYMASTER_SCOPE);\n    key('up', HOTSPOT_KEYMASTER_SCOPE, () => {\n      this.selectNeighboringHotspot(-1);\n      return false;\n    });\n    key('down', HOTSPOT_KEYMASTER_SCOPE, () => {\n      this.selectNeighboringHotspot(+1);\n      return false;\n    });\n  }\n\n  selectNeighboringHotspot = (shift: number) => {\n    this.setState(({ hotspots, selectedHotspot }) => {\n      const index = selectedHotspot && hotspots.findIndex(h => h.key === selectedHotspot.key);\n\n      if (index !== undefined && index > -1) {\n        const newIndex = Math.max(0, Math.min(hotspots.length - 1, index + shift));\n        return {\n          selectedHotspot: hotspots[newIndex]\n        };\n      }\n\n      return { selectedHotspot };\n    });\n  };\n\n  unregisterKeyboardEvents() {\n    key.deleteScope(HOTSPOT_KEYMASTER_SCOPE);\n  }\n\n  constructFiltersFromProps(\n    props: Props\n  ): Pick<HotspotFilters, 'assignedToMe' | 'sinceLeakPeriod'> {\n    return {\n      assignedToMe: props.location.query.assignedToMe === 'true' && isLoggedIn(props.currentUser),\n      sinceLeakPeriod:\n        isPullRequest(props.branchLike) || props.location.query.sinceLeakPeriod === 'true'\n    };\n  }\n\n  handleCallFailure = () => {\n    if (this.mounted) {\n      this.setState({ loading: false, loadingMore: false });\n    }\n  };\n\n  fetchInitialData() {\n    return Promise.all([\n      getStandards(),\n      this.fetchSecurityHotspots(),\n      this.fetchSecurityHotspotsReviewed()\n    ])\n      .then(([standards, { hotspots, paging }]) => {\n        if (!this.mounted) {\n          return;\n        }\n\n        const selectedHotspot = hotspots.length > 0 ? hotspots[0] : undefined;\n\n        this.setState({\n          hotspots,\n          hotspotsTotal: paging.total,\n          loading: false,\n          selectedHotspot,\n          standards\n        });\n      })\n      .catch(this.handleCallFailure);\n  }\n\n  fetchSecurityHotspotsReviewed = () => {\n    const { branchLike, component } = this.props;\n    const { filters } = this.state;\n\n    const reviewedHotspotsMetricKey = filters.sinceLeakPeriod\n      ? 'new_security_hotspots_reviewed'\n      : 'security_hotspots_reviewed';\n\n    this.setState({ loadingMeasure: true });\n    return getMeasures({\n      component: component.key,\n      metricKeys: reviewedHotspotsMetricKey,\n      ...getBranchLikeQuery(branchLike)\n    })\n      .then(measures => {\n        if (!this.mounted) {\n          return;\n        }\n        const measure = measures && measures.length > 0 ? measures[0] : undefined;\n        const hotspotsReviewedMeasure = filters.sinceLeakPeriod\n          ? getLeakValue(measure)\n          : measure?.value;\n\n        this.setState({ hotspotsReviewedMeasure, loadingMeasure: false });\n      })\n      .catch(() => {\n        if (this.mounted) {\n          this.setState({ loadingMeasure: false });\n        }\n      });\n  };\n\n  fetchSecurityHotspots(page = 1) {\n    const { branchLike, component, location } = this.props;\n    const { filters } = this.state;\n\n    const hotspotKeys = location.query.hotspots\n      ? (location.query.hotspots as string).split(',')\n      : undefined;\n\n    const standard = SECURITY_STANDARDS.find(\n      stnd => stnd !== SecurityStandard.CWE && location.query[stnd] !== undefined\n    );\n    const filterByCategory = standard\n      ? { standard, category: location.query[standard] }\n      : undefined;\n\n    const filterByCWE: string | undefined = location.query.cwe;\n\n    this.setState({ filterByCategory, filterByCWE, hotspotKeys });\n\n    if (hotspotKeys && hotspotKeys.length > 0) {\n      return getSecurityHotspotList(hotspotKeys, {\n        projectKey: component.key,\n        ...getBranchLikeQuery(branchLike)\n      });\n    }\n\n    if (filterByCategory || filterByCWE) {\n      const hotspotFilters: T.Dict<string> = {};\n\n      if (filterByCategory) {\n        hotspotFilters[filterByCategory.standard] = filterByCategory.category;\n      }\n      if (filterByCWE) {\n        hotspotFilters[SecurityStandard.CWE] = filterByCWE;\n      }\n\n      return getSecurityHotspots({\n        ...hotspotFilters,\n        projectKey: component.key,\n        p: page,\n        ps: PAGE_SIZE,\n        status: HotspotStatus.TO_REVIEW, // we're only interested in unresolved hotspots\n        ...getBranchLikeQuery(branchLike)\n      });\n    }\n\n    const status =\n      filters.status === HotspotStatusFilter.TO_REVIEW\n        ? HotspotStatus.TO_REVIEW\n        : HotspotStatus.REVIEWED;\n\n    const resolution =\n      filters.status === HotspotStatusFilter.TO_REVIEW\n        ? undefined\n        : HotspotResolution[filters.status];\n\n    return getSecurityHotspots({\n      projectKey: component.key,\n      p: page,\n      ps: PAGE_SIZE,\n      status,\n      resolution,\n      onlyMine: filters.assignedToMe,\n      sinceLeakPeriod: filters.sinceLeakPeriod,\n      ...getBranchLikeQuery(branchLike)\n    });\n  }\n\n  reloadSecurityHotspotList = () => {\n    this.setState({ loading: true });\n\n    return this.fetchSecurityHotspots()\n      .then(({ hotspots, paging }) => {\n        if (!this.mounted) {\n          return;\n        }\n\n        this.setState({\n          hotspots,\n          hotspotsPageIndex: 1,\n          hotspotsTotal: paging.total,\n          loading: false,\n          selectedHotspot: hotspots.length > 0 ? hotspots[0] : undefined\n        });\n      })\n      .catch(this.handleCallFailure);\n  };\n\n  handleChangeFilters = (changes: Partial<HotspotFilters>) => {\n    this.setState(\n      ({ filters }) => ({ filters: { ...filters, ...changes } }),\n      () => {\n        this.reloadSecurityHotspotList();\n        if (changes.sinceLeakPeriod !== undefined) {\n          this.fetchSecurityHotspotsReviewed();\n        }\n      }\n    );\n  };\n\n  handleHotspotClick = (selectedHotspot: RawHotspot) => this.setState({ selectedHotspot });\n\n  handleHotspotUpdate = (hotspotKey: string) => {\n    const { hotspots, hotspotsPageIndex } = this.state;\n    const { branchLike, component } = this.props;\n    const index = hotspots.findIndex(h => h.key === hotspotKey);\n\n    if (isPullRequest(branchLike)) {\n      this.props.fetchBranchStatus(branchLike, component.key);\n    }\n\n    return Promise.all(\n      range(hotspotsPageIndex).map(p => this.fetchSecurityHotspots(p + 1 /* pages are 1-indexed */))\n    )\n      .then(hotspotPages => {\n        const allHotspots = flatMap(hotspotPages, 'hotspots');\n\n        const { paging } = hotspotPages[hotspotPages.length - 1];\n\n        const nextHotspot = allHotspots[Math.min(index, allHotspots.length - 1)];\n\n        this.setState(({ selectedHotspot }) => ({\n          hotspots: allHotspots,\n          hotspotsPageIndex: paging.pageIndex,\n          hotspotsTotal: paging.total,\n          selectedHotspot: selectedHotspot?.key === hotspotKey ? nextHotspot : selectedHotspot\n        }));\n      })\n      .then(this.fetchSecurityHotspotsReviewed);\n  };\n\n  handleShowAllHotspots = () => {\n    this.props.router.push({\n      ...this.props.location,\n      query: {\n        ...this.props.location.query,\n        hotspots: undefined,\n        [SecurityStandard.CWE]: undefined,\n        [SecurityStandard.OWASP_TOP10]: undefined,\n        [SecurityStandard.SANS_TOP25]: undefined,\n        [SecurityStandard.SONARSOURCE]: undefined\n      }\n    });\n  };\n\n  handleLoadMore = () => {\n    const { hotspots, hotspotsPageIndex: hotspotPages } = this.state;\n\n    this.setState({ loadingMore: true });\n\n    return this.fetchSecurityHotspots(hotspotPages + 1)\n      .then(({ hotspots: additionalHotspots }) => {\n        if (!this.mounted) {\n          return;\n        }\n\n        this.setState({\n          hotspots: [...hotspots, ...additionalHotspots],\n          hotspotsPageIndex: hotspotPages + 1,\n          loadingMore: false\n        });\n      })\n      .catch(this.handleCallFailure);\n  };\n\n  render() {\n    const { branchLike, component } = this.props;\n    const {\n      filterByCategory,\n      filterByCWE,\n      filters,\n      hotspotKeys,\n      hotspots,\n      hotspotsReviewedMeasure,\n      hotspotsTotal,\n      loading,\n      loadingMeasure,\n      loadingMore,\n      selectedHotspot,\n      standards\n    } = this.state;\n\n    return (\n      <SecurityHotspotsAppRenderer\n        branchLike={branchLike}\n        component={component}\n        filters={filters}\n        filterByCategory={filterByCategory}\n        filterByCWE={filterByCWE}\n        hotspots={hotspots}\n        hotspotsReviewedMeasure={hotspotsReviewedMeasure}\n        hotspotsTotal={hotspotsTotal}\n        isStaticListOfHotspots={Boolean(\n          (hotspotKeys && hotspotKeys.length > 0) || filterByCategory || filterByCWE\n        )}\n        loading={loading}\n        loadingMeasure={loadingMeasure}\n        loadingMore={loadingMore}\n        onChangeFilters={this.handleChangeFilters}\n        onHotspotClick={this.handleHotspotClick}\n        onLoadMore={this.handleLoadMore}\n        onShowAllHotspots={this.handleShowAllHotspots}\n        onUpdateHotspot={this.handleHotspotUpdate}\n        securityCategories={standards[SecurityStandard.SONARSOURCE]}\n        selectedHotspot={selectedHotspot}\n        standards={standards}\n      />\n    );\n  }\n}\n\nconst mapDispatchToProps = { fetchBranchStatus };\n\nexport default withCurrentUser(connect(null, mapDispatchToProps)(SecurityHotspotsApp));\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar HelpIcon_1 = require(\"../icons/HelpIcon\");\nvar theme_1 = require(\"../theme\");\nrequire(\"./HelpTooltip.css\");\nvar Tooltip_1 = require(\"./Tooltip\");\nfunction HelpTooltip(_a) {\n    var _b = _a.size, size = _b === void 0 ? 12 : _b, props = __rest(_a, [\"size\"]);\n    return (React.createElement(\"div\", { className: classNames('help-tooltip', props.className) },\n        React.createElement(Tooltip_1.default, { mouseLeaveDelay: 0.25, onShow: props.onShow, overlay: props.overlay, placement: props.placement },\n            React.createElement(\"span\", { className: \"display-inline-flex-center\" }, props.children || (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return React.createElement(HelpIcon_1.default, { fill: theme.colors.gray71, size: size }); }))))));\n}\nexports.default = HelpTooltip;\nfunction DarkHelpTooltip(_a) {\n    var _b = _a.size, size = _b === void 0 ? 12 : _b, props = __rest(_a, [\"size\"]);\n    return (React.createElement(HelpTooltip, __assign({}, props),\n        React.createElement(theme_1.ThemeConsumer, null, function (_a) {\n            var colors = _a.colors;\n            return (React.createElement(HelpIcon_1.default, { fill: colors.transparentBlack, fillInner: colors.white, size: size }));\n        })));\n}\nexports.DarkHelpTooltip = DarkHelpTooltip;\n//# sourceMappingURL=HelpTooltip.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nrequire(\"./Checkbox.css\");\nvar Checkbox = (function (_super) {\n    __extends(Checkbox, _super);\n    function Checkbox() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(!_this.props.checked, _this.props.id);\n            }\n        };\n        return _this;\n    }\n    Checkbox.prototype.render = function () {\n        var _a = this.props, checked = _a.checked, children = _a.children, disabled = _a.disabled, id = _a.id, loading = _a.loading, right = _a.right, thirdState = _a.thirdState, title = _a.title;\n        var className = classNames('icon-checkbox', {\n            'icon-checkbox-checked': checked,\n            'icon-checkbox-single': thirdState,\n            'icon-checkbox-disabled': disabled,\n        });\n        if (children) {\n            return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('link-checkbox', this.props.className, {\n                    note: disabled,\n                    disabled: disabled,\n                }), href: \"#\", id: id, onClick: this.handleClick, role: \"checkbox\", title: title },\n                right && children,\n                React.createElement(DeferredSpinner_1.default, { loading: Boolean(loading) },\n                    React.createElement(\"i\", { className: className })),\n                !right && children));\n        }\n        if (loading) {\n            return React.createElement(DeferredSpinner_1.default, null);\n        }\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames(className, this.props.className), href: \"#\", id: id, onClick: this.handleClick, role: \"checkbox\", title: title }));\n    };\n    Checkbox.defaultProps = {\n        thirdState: false,\n    };\n    return Checkbox;\n}(React.PureComponent));\nexports.default = Checkbox;\n//# sourceMappingURL=Checkbox.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./HelpTooltip.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nvar qualifierIcons = {\n    app: ApplicationIcon,\n    brc: SubProjectIcon,\n    dev: DeveloperIcon,\n    dir: DirectoryIcon,\n    fil: FileIcon,\n    svw: SubPortfolioIcon,\n    trk: ProjectIcon,\n    uts: UnitTestIcon,\n    vw: PortfolioIcon,\n    cla: UnitTestIcon,\n    dev_prj: ProjectIcon,\n    lib: LibraryIcon,\n    pac: DirectoryIcon,\n};\nfunction QualifierIcon(props) {\n    if (!props.qualifier) {\n        return null;\n    }\n    var qualifier = props.qualifier.toLowerCase();\n    var FoundIcon = qualifierIcons[qualifier];\n    return FoundIcon ? React.createElement(FoundIcon, { className: props.className, fill: props.fill }) : null;\n}\nexports.default = QualifierIcon;\nfunction ApplicationIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction DeveloperIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction DirectoryIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\", style: { fill: fill || theme.colors.orange } }));\n    }));\n}\nfunction FileIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction LibraryIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction PortfolioIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction ProjectIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction SubPortfolioIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction SubProjectIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction UnitTestIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\n//# sourceMappingURL=QualifierIcon.js.map","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var baseDifference = require('./_baseDifference'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array excluding all given values using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.pull`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...*} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.xor\n * @example\n *\n * _.without([2, 1, 2, 3], 1, 2);\n * // => [3]\n */\nvar without = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, values)\n    : [];\n});\n\nmodule.exports = without;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar measures_1 = require(\"../../helpers/measures\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nvar buttons_1 = require(\"./buttons\");\nfunction ListFooter(props) {\n    var className = props.className, count = props.count, loading = props.loading, needReload = props.needReload, total = props.total, _a = props.ready, ready = _a === void 0 ? true : _a;\n    var hasMore = total && total > count;\n    var button;\n    if (needReload && props.reload) {\n        button = (React.createElement(buttons_1.Button, { className: \"spacer-left\", \"data-test\": \"reload\", disabled: loading, onClick: props.reload }, l10n_1.translate('reload')));\n    }\n    else if (hasMore && props.loadMore) {\n        button = (React.createElement(buttons_1.Button, { className: \"spacer-left\", disabled: loading, \"data-test\": \"show-more\", onClick: props.loadMore }, l10n_1.translate('show_more')));\n    }\n    return (React.createElement(\"footer\", { className: classNames('spacer-top note text-center', { 'new-loading': !ready }, className) },\n        l10n_1.translateWithParameters('x_of_y_shown', measures_1.formatMeasure(count, 'INT', null), measures_1.formatMeasure(total, 'INT', null)),\n        button,\n        loading && React.createElement(DeferredSpinner_1.default, { className: \"text-bottom spacer-left position-absolute\" })));\n}\nexports.default = ListFooter;\n//# sourceMappingURL=ListFooter.js.map","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Checkbox.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-checkbox{display:inline-block;line-height:1;vertical-align:top;padding:1px 2px;box-sizing:border-box}a.icon-checkbox{border-bottom:none}.icon-checkbox:focus{outline:none}.icon-checkbox:before{content:\\\" \\\";display:inline-block;width:10px;height:10px;border:1px solid #236a97;border-radius:2px;transition:border-color .2s ease,background-color .2s ease,background-image .2s ease,box-shadow .4s ease}.icon-checkbox:not(.icon-checkbox-disabled):focus:before,.link-checkbox:not(.disabled):focus:focus .icon-checkbox:before{box-shadow:0 0 0 3px rgba(35,106,151,.25)}.icon-checkbox-checked:before{background-color:#4b9fd5;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M12 4.665c0 .172-.06.318-.18.438l-5.55 5.55c-.12.12-.266.18-.438.18s-.318-.06-.438-.18L2.18 7.438C2.06 7.317 2 7.17 2 7s.06-.318.18-.44l.878-.876c.12-.12.267-.18.44-.18.17 0 .317.06.437.18l1.897 1.903 4.233-4.24c.12-.12.266-.18.438-.18s.32.06.44.18l.876.88c.12.12.18.265.18.438z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E\\\");border-color:#4b9fd5}.icon-checkbox-checked.icon-checkbox-single:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M10 4.698A.697.697 0 0 0 9.302 4H4.698A.697.697 0 0 0 4 4.698v4.604c0 .386.312.698.698.698h4.604A.697.697 0 0 0 10 9.302V4.698z' fill='%23fff'/%3E%3C/svg%3E\\\")}.icon-checkbox-disabled:before{border:1px solid #bbb;cursor:not-allowed}.icon-checkbox-disabled.icon-checkbox-checked:before{background-color:#bbb}.icon-checkbox-invisible{visibility:hidden}.link-checkbox{color:inherit;border-bottom:none}.link-checkbox.disabled,.link-checkbox.disabled:hover,.link-checkbox.disabled label{color:#666;cursor:not-allowed}.link-checkbox:active,.link-checkbox:focus,.link-checkbox:hover{color:inherit}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nexports.formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\nexports.longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\nfunction DateFormatter(_a) {\n    var children = _a.children, date = _a.date, long = _a.long;\n    return (React.createElement(react_intl_1.FormattedDate, __assign({ value: dates_1.parseDate(date) }, (long ? exports.longFormatterOption : exports.formatterOption)), children));\n}\nexports.default = DateFormatter;\n//# sourceMappingURL=DateFormatter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar date_fns_1 = require(\"date-fns\");\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar DateTimeFormatter_1 = require(\"./DateTimeFormatter\");\nfunction DateFromNow(props) {\n    var _a = props.children, originalChildren = _a === void 0 ? function (f) { return f; } : _a, date = props.date, hourPrecision = props.hourPrecision;\n    var children = originalChildren;\n    if (!date) {\n        return React.createElement(React.Fragment, null, originalChildren(l10n_1.translate('never')));\n    }\n    if (date && hourPrecision && date_fns_1.differenceInHours(Date.now(), date) < 1) {\n        children = function () { return originalChildren(l10n_1.translate('less_than_1_hour_ago')); };\n    }\n    var parsedDate = dates_1.parseDate(date);\n    return (React.createElement(DateTimeFormatter_1.default, { date: parsedDate }, function (formattedDate) { return (React.createElement(\"span\", { title: formattedDate },\n        React.createElement(react_intl_1.FormattedRelative, { value: parsedDate }, children))); }));\n}\nexports.default = DateFromNow;\n//# sourceMappingURL=DateFromNow.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar IssueIcon_1 = require(\"./IssueIcon\");\nfunction IssueTypeIcon(_a) {\n    var query = _a.query, iconProps = __rest(_a, [\"query\"]);\n    var type;\n    switch (query.toLowerCase()) {\n        case 'bug':\n        case 'bugs':\n        case 'new_bugs':\n            type = 'BUG';\n            break;\n        case 'vulnerability':\n        case 'vulnerabilities':\n        case 'new_vulnerabilities':\n            type = 'VULNERABILITY';\n            break;\n        case 'code_smell':\n        case 'code_smells':\n        case 'new_code_smells':\n            type = 'CODE_SMELL';\n            break;\n        case 'security_hotspot':\n        case 'security_hotspots':\n        case 'new_security_hotspots':\n            type = 'SECURITY_HOTSPOT';\n            break;\n        default:\n            return null;\n    }\n    return React.createElement(IssueIcon_1.default, __assign({ type: type }, iconProps));\n}\nexports.default = IssueTypeIcon;\n//# sourceMappingURL=IssueTypeIcon.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar react_router_1 = require(\"react-router\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar DropdownIcon_1 = require(\"../icons/DropdownIcon\");\nvar SettingsIcon_1 = require(\"../icons/SettingsIcon\");\nvar buttons_1 = require(\"./buttons\");\nvar clipboard_1 = require(\"./clipboard\");\nvar Dropdown_1 = require(\"./Dropdown\");\nvar Tooltip_1 = require(\"./Tooltip\");\nfunction ActionsDropdown(props) {\n    var children = props.children, className = props.className, overlayPlacement = props.overlayPlacement, small = props.small, toggleClassName = props.toggleClassName;\n    return (React.createElement(Dropdown_1.default, { className: className, onOpen: props.onOpen, overlay: React.createElement(\"ul\", { className: \"menu\" }, children), overlayPlacement: overlayPlacement },\n        React.createElement(buttons_1.Button, { className: classNames('dropdown-toggle', toggleClassName, {\n                'button-small': small,\n            }) },\n            React.createElement(SettingsIcon_1.default, { size: small ? 12 : 14 }),\n            React.createElement(DropdownIcon_1.default, { className: \"little-spacer-left\" }))));\n}\nexports.default = ActionsDropdown;\nvar ActionsDropdownItem = (function (_super) {\n    __extends(ActionsDropdownItem, _super);\n    function ActionsDropdownItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            if (_this.props.onClick) {\n                _this.props.onClick();\n            }\n        };\n        return _this;\n    }\n    ActionsDropdownItem.prototype.render = function () {\n        var _this = this;\n        var className = classNames(this.props.className, { 'text-danger': this.props.destructive });\n        if (this.props.download && typeof this.props.to === 'string') {\n            return (React.createElement(\"li\", null,\n                React.createElement(\"a\", { className: className, download: this.props.download, href: this.props.to, id: this.props.id }, this.props.children)));\n        }\n        if (this.props.to) {\n            return (React.createElement(\"li\", null,\n                React.createElement(react_router_1.Link, { className: className, id: this.props.id, to: this.props.to }, this.props.children)));\n        }\n        if (this.props.copyValue) {\n            return (React.createElement(clipboard_1.ClipboardBase, null, function (_a) {\n                var setCopyButton = _a.setCopyButton, copySuccess = _a.copySuccess;\n                return (React.createElement(Tooltip_1.default, { overlay: l10n_1.translate('copied_action'), visible: copySuccess },\n                    React.createElement(\"li\", { \"data-clipboard-text\": _this.props.copyValue, ref: setCopyButton },\n                        React.createElement(\"a\", { className: className, href: \"#\", id: _this.props.id, onClick: _this.handleClick }, _this.props.children))));\n            }));\n        }\n        return (React.createElement(\"li\", null,\n            React.createElement(\"a\", { className: className, href: \"#\", id: this.props.id, onClick: this.handleClick }, this.props.children)));\n    };\n    return ActionsDropdownItem;\n}(React.PureComponent));\nexports.ActionsDropdownItem = ActionsDropdownItem;\nfunction ActionsDropdownDivider() {\n    return React.createElement(\"li\", { className: \"divider\" });\n}\nexports.ActionsDropdownDivider = ActionsDropdownDivider;\n//# sourceMappingURL=ActionsDropdown.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction SettingsIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, _c = _a.size, size = _c === void 0 ? 14 : _c, iconProps = __rest(_a, [\"fill\", \"size\"]);\n    return (React.createElement(Icon_1.default, __assign({ size: size, viewBox: \"0 0 14 14\" }, iconProps),\n        React.createElement(\"g\", { transform: \"matrix(0.0364583,0,0,0.0364583,0,-1.16667)\" },\n            React.createElement(\"path\", { d: \"M256,224C256,206.333 249.75,191.25 237.25,178.75C224.75,166.25 209.667,160 192,160C174.333,160 159.25,166.25 146.75,178.75C134.25,191.25 128,206.333 128,224C128,241.667 134.25,256.75 146.75,269.25C159.25,281.75 174.333,288 192,288C209.667,288 224.75,281.75 237.25,269.25C249.75,256.75 256,241.667 256,224ZM384,196.75L384,252.25C384,254.25 383.333,256.167 382,258C380.667,259.833 379,260.917 377,261.25L330.75,268.25C327.583,277.25 324.333,284.833 321,291C326.833,299.333 335.75,310.833 347.75,325.5C349.417,327.5 350.25,329.583 350.25,331.75C350.25,333.917 349.5,335.833 348,337.5C343.5,343.667 335.25,352.667 323.25,364.5C311.25,376.333 303.417,382.25 299.75,382.25C297.75,382.25 295.583,381.5 293.25,380L258.75,353C251.417,356.833 243.833,360 236,362.5C233.333,385.167 230.917,400.667 228.75,409C227.583,413.667 224.583,416 219.75,416L164.25,416C161.917,416 159.875,415.292 158.125,413.875C156.375,412.458 155.417,410.667 155.25,408.5L148.25,362.5C140.083,359.833 132.583,356.75 125.75,353.25L90.5,380C88.833,381.5 86.75,382.25 84.25,382.25C81.917,382.25 79.833,381.333 78,379.5C57,360.5 43.25,346.5 36.75,337.5C35.583,335.833 35,333.917 35,331.75C35,329.75 35.667,327.833 37,326C39.5,322.5 43.75,316.958 49.75,309.375C55.75,301.792 60.25,295.917 63.25,291.75C58.75,283.417 55.333,275.167 53,267L7.25,260.25C5.083,259.917 3.333,258.875 2,257.125C0.667,255.375 0,253.417 0,251.25L0,195.75C0,193.75 0.667,191.833 2,190C3.333,188.167 4.917,187.083 6.75,186.75L53.25,179.75C55.583,172.083 58.833,164.417 63,156.75C56.333,147.25 47.417,135.75 36.25,122.25C34.583,120.25 33.75,118.25 33.75,116.25C33.75,114.583 34.5,112.667 36,110.5C40.333,104.5 48.542,95.542 60.625,83.625C72.708,71.708 80.583,65.75 84.25,65.75C86.417,65.75 88.583,66.583 90.75,68.25L125.25,95C132.583,91.167 140.167,88 148,85.5C150.667,62.833 153.083,47.333 155.25,39C156.417,34.333 159.417,32 164.25,32L219.75,32C222.083,32 224.125,32.708 225.875,34.125C227.625,35.542 228.583,37.333 228.75,39.5L235.75,85.5C243.917,88.167 251.417,91.25 258.25,94.75L293.75,68C295.25,66.5 297.25,65.75 299.75,65.75C301.917,65.75 304,66.583 306,68.25C327.5,88.083 341.25,102.25 347.25,110.75C348.417,112.083 349,113.917 349,116.25C349,118.25 348.333,120.167 347,122C344.5,125.5 340.25,131.042 334.25,138.625C328.25,146.208 323.75,152.083 320.75,156.25C325.083,164.583 328.5,172.75 331,180.75L376.75,187.75C378.917,188.083 380.667,189.125 382,190.875C383.333,192.625 384,194.583 384,196.75Z\", style: { fill: fill } }))));\n}\nexports.default = SettingsIcon;\n//# sourceMappingURL=SettingsIcon.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction DetachIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M12 9.25v2.5A2.25 2.25 0 0 1 9.75 14h-6.5A2.25 2.25 0 0 1 1 11.75v-6.5A2.25 2.25 0 0 1 3.25 3h5.5c.14 0 .25.11.25.25v.5c0 .14-.11.25-.25.25h-5.5C2.562 4 2 4.563 2 5.25v6.5c0 .688.563 1.25 1.25 1.25h6.5c.688 0 1.25-.563 1.25-1.25v-2.5c0-.14.11-.25.25-.25h.5c.14 0 .25.11.25.25zm3-6.75v4c0 .273-.227.5-.5.5a.497.497 0 0 1-.352-.148l-1.375-1.375L7.68 10.57a.27.27 0 0 1-.18.078.27.27 0 0 1-.18-.078l-.89-.89a.27.27 0 0 1-.078-.18.27.27 0 0 1 .078-.18l5.093-5.093-1.375-1.375A.497.497 0 0 1 10 2.5c0-.273.227-.5.5-.5h4c.273 0 .5.227.5.5z\", style: { fill: fill } })));\n}\nexports.default = DetachIcon;\n//# sourceMappingURL=DetachIcon.js.map","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar measures_1 = require(\"../../helpers/measures\");\nrequire(\"./Level.css\");\nfunction Level(props) {\n    var formatted = measures_1.formatMeasure(props.level, 'LEVEL');\n    var className = classNames(props.className, 'level', 'level-' + props.level, {\n        'level-small': props.small,\n        'level-muted': props.muted,\n    });\n    return (React.createElement(\"span\", { \"aria-label\": props['aria-label'], \"aria-labelledby\": props['aria-labelledby'], className: className }, formatted));\n}\nexports.default = Level;\n//# sourceMappingURL=Level.js.map","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  severity: string;\n}\n\nexport default function SeverityHelper({ className, severity }: Props) {\n  if (!severity) {\n    return null;\n  }\n  return (\n    <span className={className}>\n      <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n      {translate('severity', severity)}\n    </span>\n  );\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./RadioToggle.css\");\nvar Tooltip_1 = require(\"./Tooltip\");\nvar RadioToggle = (function (_super) {\n    __extends(RadioToggle, _super);\n    function RadioToggle() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderOption = function (option) {\n            var checked = option.value === _this.props.value;\n            var htmlId = _this.props.name + '__' + option.value;\n            return (React.createElement(\"li\", { key: option.value.toString() },\n                React.createElement(\"input\", { checked: checked, disabled: option.disabled, id: htmlId, name: _this.props.name, onChange: function () { return _this.props.onCheck(option.value); }, type: \"radio\" }),\n                React.createElement(Tooltip_1.default, { overlay: option.tooltip || undefined },\n                    React.createElement(\"label\", { htmlFor: htmlId }, option.label))));\n        };\n        return _this;\n    }\n    RadioToggle.prototype.render = function () {\n        return (React.createElement(\"ul\", { className: classNames('radio-toggle', this.props.className) }, this.props.options.map(this.renderOption)));\n    };\n    RadioToggle.defaultProps = {\n        disabled: false,\n        value: null,\n    };\n    return RadioToggle;\n}(React.PureComponent));\nexports.default = RadioToggle;\n//# sourceMappingURL=RadioToggle.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./Radio.css\");\nvar Radio = (function (_super) {\n    __extends(Radio, _super);\n    function Radio() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(_this.props.value);\n            }\n        };\n        return _this;\n    }\n    Radio.prototype.render = function () {\n        var _a = this.props, className = _a.className, checked = _a.checked, children = _a.children, disabled = _a.disabled;\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('display-inline-flex-center link-radio', className, { disabled: disabled }), href: \"#\", onClick: this.handleClick, role: \"radio\" },\n            React.createElement(\"i\", { className: classNames('icon-radio', 'spacer-right', { 'is-checked': checked }) }),\n            children));\n    };\n    return Radio;\n}(React.PureComponent));\nexports.default = Radio;\n//# sourceMappingURL=Radio.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Radio.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./RadioToggle.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".radio-toggle{font-size:0;white-space:nowrap}.radio-toggle,.radio-toggle>li{display:inline-block;vertical-align:middle}.radio-toggle>li{font-size:12px}.radio-toggle>li:first-child>label{border-top-left-radius:2px;border-bottom-left-radius:2px}.radio-toggle>li:last-child>label{border-top-right-radius:2px;border-bottom-right-radius:2px}.radio-toggle>li+li>label{border-left:none}.radio-toggle>li>label{display:inline-block;padding:0 12px;margin:0;border:1px solid #236a97;color:#236a97;height:22px;line-height:22px;cursor:pointer;font-weight:600}.radio-toggle input[type=radio]{display:none}.radio-toggle input[type=radio]:checked+label{background-color:#236a97;color:#fff}.radio-toggle input[type=radio]:disabled+label{color:#bbb;border-color:#ddd;background:#ebebeb;cursor:not-allowed}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar measures_1 = require(\"../../helpers/measures\");\nrequire(\"./Rating.css\");\nfunction Rating(_a) {\n    var className = _a.className, _b = _a.muted, muted = _b === void 0 ? false : _b, _c = _a.small, small = _c === void 0 ? false : _c, value = _a.value, ariaAttrs = __rest(_a, [\"className\", \"muted\", \"small\", \"value\"]);\n    if (value === undefined) {\n        return (React.createElement(\"span\", __assign({ \"aria-label\": l10n_1.translate('metric.no_rating') }, ariaAttrs), \"\\u2013\"));\n    }\n    var formatted = measures_1.formatMeasure(value, 'RATING');\n    return (React.createElement(\"span\", __assign({ \"aria-label\": l10n_1.translateWithParameters('metric.has_rating_X', formatted), className: classNames('rating', \"rating-\" + formatted, { 'rating-small': small, 'rating-muted': muted }, className) }, ariaAttrs), formatted));\n}\nexports.default = Rating;\n//# sourceMappingURL=Rating.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nimport { sanitize } from 'dompurify';\n\nexport function sanitizeStringRestricted(html: string) {\n  return sanitize(html, {\n    ALLOWED_TAGS: ['b', 'br', 'code', 'i', 'li', 'p', 'strong', 'ul', 'a'],\n    ALLOWED_ATTR: ['target', 'href']\n  });\n}\n\nexport function sanitizeString(html: string) {\n  return sanitize(html, { USE_PROFILES: { html: true } });\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:\\\"\\\";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction TagsIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M4.303 5.36a.94.94 0 0 0-.944-.945.94.94 0 0 0-.944.944c0 .524.42.944.944.944a.94.94 0 0 0 .944-.944zm7.866 4.246a.95.95 0 0 1-.273.663l-3.62 3.627a.95.95 0 0 1-1.334 0L1.671 8.618C1.295 8.249 1 7.534 1 7.01V3.944A.95.95 0 0 1 1.944 3H5.01c.523 0 1.238.295 1.614.67l5.271 5.265a.98.98 0 0 1 .273.67zm2.831 0a.95.95 0 0 1-.273.663l-3.62 3.627a.98.98 0 0 1-.67.273c-.384 0-.575-.177-.826-.435l3.465-3.465a.95.95 0 0 0 0-1.334L7.805 3.67C7.429 3.295 6.714 3 6.19 3h1.651c.524 0 1.239.295 1.615.67l5.271 5.265a.98.98 0 0 1 .273.67z\", style: { fill: fill } })));\n}\nexports.default = TagsIcon;\n//# sourceMappingURL=TagsIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\n\nconst KNOWN_RATINGS = [\n  'sqale_rating',\n  'maintainability_rating', // Needed to provide the label for \"new_maintainability_rating\"\n  'reliability_rating',\n  'security_rating',\n  'security_review_rating'\n];\n\nexport function enhanceMeasure(measure: T.Measure, metrics: T.Dict<T.Metric>): T.MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: T.MeasureIntern | undefined): string | undefined {\n  return measure?.period?.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Level.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".level{display:inline-block;min-width:80px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;letter-spacing:.02em;font-size:13px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.level,.level-small{width:auto;padding-left:9px;padding-right:9px}.level-small{min-width:64px;margin-top:-1px;margin-bottom:-1px;height:20px;line-height:20px;font-size:12px}.level-muted{background-color:#bdbdbd!important}a>.level{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.level:hover{opacity:.8}.level-OK{background-color:#0a0}.level-WARN{background-color:#ed7d20}.level-ERROR{background-color:#d4333f}.level-NONE{background-color:#b4b4b4}.level-NOT_COMPUTED{background-color:#404040}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","(function(module) {\n    'use strict';\n\n    module.exports.is_uri = is_iri;\n    module.exports.is_http_uri = is_http_iri;\n    module.exports.is_https_uri = is_https_iri;\n    module.exports.is_web_uri = is_web_iri;\n    // Create aliases\n    module.exports.isUri = is_iri;\n    module.exports.isHttpUri = is_http_iri;\n    module.exports.isHttpsUri = is_https_iri;\n    module.exports.isWebUri = is_web_iri;\n\n\n    // private function\n    // internal URI spitter method - direct from RFC 3986\n    var splitUri = function(uri) {\n        var splitted = uri.match(/(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/);\n        return splitted;\n    };\n\n    function is_iri(value) {\n        if (!value) {\n            return;\n        }\n\n        // check for illegal characters\n        if (/[^a-z0-9\\:\\/\\?\\#\\[\\]\\@\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=\\.\\-\\_\\~\\%]/i.test(value)) return;\n\n        // check for hex escapes that aren't complete\n        if (/%[^0-9a-f]/i.test(value)) return;\n        if (/%[0-9a-f](:?[^0-9a-f]|$)/i.test(value)) return;\n\n        var splitted = [];\n        var scheme = '';\n        var authority = '';\n        var path = '';\n        var query = '';\n        var fragment = '';\n        var out = '';\n\n        // from RFC 3986\n        splitted = splitUri(value);\n        scheme = splitted[1]; \n        authority = splitted[2];\n        path = splitted[3];\n        query = splitted[4];\n        fragment = splitted[5];\n\n        // scheme and path are required, though the path can be empty\n        if (!(scheme && scheme.length && path.length >= 0)) return;\n\n        // if authority is present, the path must be empty or begin with a /\n        if (authority && authority.length) {\n            if (!(path.length === 0 || /^\\//.test(path))) return;\n        } else {\n            // if authority is not present, the path must not start with //\n            if (/^\\/\\//.test(path)) return;\n        }\n\n        // scheme must begin with a letter, then consist of letters, digits, +, ., or -\n        if (!/^[a-z][a-z0-9\\+\\-\\.]*$/.test(scheme.toLowerCase()))  return;\n\n        // re-assemble the URL per section 5.3 in RFC 3986\n        out += scheme + ':';\n        if (authority && authority.length) {\n            out += '//' + authority;\n        }\n\n        out += path;\n\n        if (query && query.length) {\n            out += '?' + query;\n        }\n\n        if (fragment && fragment.length) {\n            out += '#' + fragment;\n        }\n\n        return out;\n    }\n\n    function is_http_iri(value, allowHttps) {\n        if (!is_iri(value)) {\n            return;\n        }\n\n        var splitted = [];\n        var scheme = '';\n        var authority = '';\n        var path = '';\n        var port = '';\n        var query = '';\n        var fragment = '';\n        var out = '';\n\n        // from RFC 3986\n        splitted = splitUri(value);\n        scheme = splitted[1]; \n        authority = splitted[2];\n        path = splitted[3];\n        query = splitted[4];\n        fragment = splitted[5];\n\n        if (!scheme)  return;\n\n        if(allowHttps) {\n            if (scheme.toLowerCase() != 'https') return;\n        } else {\n            if (scheme.toLowerCase() != 'http') return;\n        }\n\n        // fully-qualified URIs must have an authority section that is\n        // a valid host\n        if (!authority) {\n            return;\n        }\n\n        // enable port component\n        if (/:(\\d+)$/.test(authority)) {\n            port = authority.match(/:(\\d+)$/)[0];\n            authority = authority.replace(/:\\d+$/, '');\n        }\n\n        out += scheme + ':';\n        out += '//' + authority;\n        \n        if (port) {\n            out += port;\n        }\n        \n        out += path;\n        \n        if(query && query.length){\n            out += '?' + query;\n        }\n\n        if(fragment && fragment.length){\n            out += '#' + fragment;\n        }\n        \n        return out;\n    }\n\n    function is_https_iri(value) {\n        return is_http_iri(value, true);\n    }\n\n    function is_web_iri(value) {\n        return (is_http_iri(value) || is_https_iri(value));\n    }\n\n})(module);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport Level from 'sonar-ui-common/components/ui/Level';\nimport Rating from 'sonar-ui-common/components/ui/Rating';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getRatingTooltip } from './utils';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span className={className}>–</span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, {\n      decimals,\n      omitExtraDecimalZeros: metricType === 'PERCENT'\n    });\n    return <span className={className}>{formattedValue != null ? formattedValue : '–'}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CLASS_SIDEBAR_PAGE = 'sidebar-page';\nvar CLASS_WHITE_PAGE = 'white-page';\nvar CLASS_NO_FOOTER_PAGE = 'no-footer-page';\nfunction addSideBarClass() {\n    toggleBodyClass(CLASS_SIDEBAR_PAGE, true);\n}\nexports.addSideBarClass = addSideBarClass;\nfunction addWhitePageClass() {\n    toggleBodyClass(CLASS_WHITE_PAGE, true);\n}\nexports.addWhitePageClass = addWhitePageClass;\nfunction addNoFooterPageClass() {\n    console.warn('DEPRECATED: addNoFooterPageClass() was deprecated.');\n    toggleBodyClass(CLASS_NO_FOOTER_PAGE, true);\n}\nexports.addNoFooterPageClass = addNoFooterPageClass;\nfunction removeSideBarClass() {\n    toggleBodyClass(CLASS_SIDEBAR_PAGE, false);\n}\nexports.removeSideBarClass = removeSideBarClass;\nfunction removeWhitePageClass() {\n    toggleBodyClass(CLASS_WHITE_PAGE, false);\n}\nexports.removeWhitePageClass = removeWhitePageClass;\nfunction removeNoFooterPageClass() {\n    console.warn('DEPRECATED: removeNoFooterPageClass() was deprecated.');\n    toggleBodyClass(CLASS_NO_FOOTER_PAGE, false);\n}\nexports.removeNoFooterPageClass = removeNoFooterPageClass;\nfunction toggleBodyClass(className, force) {\n    document.body.classList.toggle(className, force);\n    if (document.documentElement) {\n        document.documentElement.classList.toggle(className, force);\n    }\n}\n//# sourceMappingURL=pages.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronDownIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\", style: { fill: fill } })));\n}\nexports.default = ChevronDownIcon;\n//# sourceMappingURL=ChevronDownIcon.js.map","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as globalMessages from '../../store/globalMessages';\nimport getStore from './getStore';\n\nexport default function addGlobalSuccessMessage(message: string): void {\n  const store = getStore();\n  store.dispatch(globalMessages.addGlobalSuccessMessage(message));\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar BugIcon_1 = require(\"./BugIcon\");\nvar CodeSmellIcon_1 = require(\"./CodeSmellIcon\");\nvar SecurityHotspotIcon_1 = require(\"./SecurityHotspotIcon\");\nvar VulnerabilityIcon_1 = require(\"./VulnerabilityIcon\");\nfunction IssueIcon(_a) {\n    var type = _a.type, iconProps = __rest(_a, [\"type\"]);\n    switch (type) {\n        case 'BUG':\n            return React.createElement(BugIcon_1.default, __assign({}, iconProps));\n        case 'VULNERABILITY':\n            return React.createElement(VulnerabilityIcon_1.default, __assign({}, iconProps));\n        case 'CODE_SMELL':\n            return React.createElement(CodeSmellIcon_1.default, __assign({}, iconProps));\n        case 'SECURITY_HOTSPOT':\n            return React.createElement(SecurityHotspotIcon_1.default, __assign({}, iconProps));\n        default:\n            return null;\n    }\n}\nexports.default = IssueIcon;\n//# sourceMappingURL=IssueIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nvar severityIcons = {\n    blocker: BlockerSeverityIcon,\n    critical: CriticalSeverityIcon,\n    major: MajorSeverityIcon,\n    minor: MinorSeverityIcon,\n    info: InfoSeverityIcon,\n};\nfunction SeverityIcon(_a) {\n    var severity = _a.severity, iconProps = __rest(_a, [\"severity\"]);\n    if (!severity) {\n        return null;\n    }\n    var Icon = severityIcons[severity.toLowerCase()];\n    return Icon ? React.createElement(Icon, __assign({}, iconProps)) : null;\n}\nexports.default = SeverityIcon;\nfunction BlockerSeverityIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 14c-3.311 0-6-2.689-6-6s2.689-6 6-6 6 2.689 6 6-2.689 6-6 6zM7 9h2V4H7v5zm0 3h2v-2H7v2z\", style: { fill: theme.colors.red, fillRule: 'nonzero' } }));\n    }));\n}\nfunction CriticalSeverityIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm1 10V7.414l1.893 1.893c.13.124.282.216.457.261a1.006 1.006 0 0 0 1.176-.591 1.01 1.01 0 0 0 .01-.729 1.052 1.052 0 0 0-.229-.355c-1.212-1.212-2.394-2.456-3.638-3.636a1.073 1.073 0 0 0-.169-.123 1.05 1.05 0 0 0-.448-.133h-.104a1.053 1.053 0 0 0-.493.16 1.212 1.212 0 0 0-.162.132C6.08 5.505 4.836 6.687 3.656 7.932a.994.994 0 0 0-.051 1.275c.208.271.548.42.888.389.198-.019.378-.098.535-.218.041-.035.04-.034.079-.071L7 7.414V12h2z\", style: { fill: theme.colors.red, fillRule: 'nonzero' } }));\n    }));\n}\nfunction MajorSeverityIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm.08 2.903c.071.008.14.019.208.039.138.042.26.114.37.205 1.244 1.146 2.426 2.357 3.639 3.536.1.103.181.218.234.352a1.01 1.01 0 0 1 .001.728 1.002 1.002 0 0 1-1.169.609 1.042 1.042 0 0 1-.46-.255L8 7.295l-2.903 2.822c-.039.036-.039.036-.08.07a1.002 1.002 0 0 1-1.604-.947c.032-.196.122-.37.253-.519C4.847 7.51 6.09 6.362 7.303 5.183c.052-.048.106-.093.167-.131a1.041 1.041 0 0 1 .61-.149z\", style: { fill: theme.colors.red } }));\n    }));\n}\nfunction MinorSeverityIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm1 6.586V4H7v4.586L5.107 6.693a1.178 1.178 0 0 0-.165-.134 1.041 1.041 0 0 0-.662-.152 1 1 0 0 0-.587 1.7c1.212 1.212 2.394 2.456 3.638 3.636.094.08.195.146.311.191a1.008 1.008 0 0 0 1.065-.227c1.213-1.212 2.457-2.394 3.637-3.639a.994.994 0 0 0 .051-1.275 1.012 1.012 0 0 0-.888-.389 1.041 1.041 0 0 0-.535.218c-.04.034-.04.034-.079.071L9 8.586z\", style: { fill: theme.colors.lightGreen } }));\n    }));\n}\nfunction InfoSeverityIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm1 5H7v5h2V7zm0-3H7v2h2V4z\", style: { fill: theme.colors.blue } }));\n    }));\n}\n//# sourceMappingURL=SeverityIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface MultiSelectOptionProps {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (element: string) => void;\n  onSelectChange: (selected: boolean, element: string) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function MultiSelectOption(props: MultiSelectOptionProps) {\n  const { active, custom, disabled, element, selected } = props;\n  const onHover = () => props.onHover(element);\n  const className = classNames({ active, disabled });\n  const label = props.renderLabel(element);\n\n  return (\n    <li onFocus={onHover} onMouseOver={onHover}>\n      <Checkbox\n        checked={Boolean(selected)}\n        className={className}\n        disabled={disabled}\n        id={element}\n        onCheck={props.onSelectChange}>\n        {custom ? (\n          <span\n            aria-label={`${translate('create_new_element')}: ${label}`}\n            className=\"little-spacer-left\">\n            <span aria-hidden={true} className=\"little-spacer-right\">\n              +\n            </span>\n            {label}\n          </span>\n        ) : (\n          <span className=\"little-spacer-left\">{label}</span>\n        )}\n      </Checkbox>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelectOption from './MultiSelectOption';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (selected: boolean, item: string) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement && selectedElements.length < 1 && unselectedElements.length < 1 && (\n            <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n          )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport DetachIcon from 'sonar-ui-common/components/icons/DetachIcon';\nimport { isWebUri } from 'valid-url';\n\nexport interface DocumentationTooltipProps {\n  children?: React.ReactNode;\n  className?: string;\n  content?: React.ReactNode;\n  links?: Array<{ href: string; label: string; inPlace?: boolean }>;\n  title?: string;\n}\n\nexport default function DocumentationTooltip(props: DocumentationTooltipProps) {\n  const { className, content, links, title } = props;\n\n  return (\n    <HelpTooltip\n      className={className}\n      overlay={\n        <div className=\"big-padded-top big-padded-bottom\">\n          {title && (\n            <div className=\"spacer-bottom\">\n              <strong>{title}</strong>\n            </div>\n          )}\n\n          {content && <p>{content}</p>}\n\n          {links && (\n            <>\n              <hr className=\"big-spacer-top big-spacer-bottom\" />\n\n              {links.map(({ href, label, inPlace }) => (\n                <div className=\"little-spacer-bottom\" key={label}>\n                  {inPlace ? (\n                    <Link to={href}>\n                      <span>{label}</span>\n                    </Link>\n                  ) : (\n                    <a\n                      className=\"display-inline-flex-center link-with-icon\"\n                      href={href}\n                      rel=\"noopener noreferrer\"\n                      target=\"_blank\">\n                      {isWebUri(href) && <DetachIcon size={14} className=\"spacer-right\" />}\n                      <span>{label}</span>\n                    </a>\n                  )}\n                </div>\n              ))}\n            </>\n          )}\n        </div>\n      }>\n      {props.children}\n    </HelpTooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport './TagsList.css';\n\ninterface Props {\n  allowUpdate?: boolean;\n  className?: string;\n  tags: string[];\n}\n\nexport default function TagsList({ allowUpdate = false, className, tags }: Props) {\n  return (\n    <span\n      aria-label={translateWithParameters('tags_list_x', tags.join(', '))}\n      className={classNames('tags-list', className)}>\n      <TagsIcon className=\"text-middle\" />\n      <span aria-hidden={true} className=\"text-ellipsis text-middle\" title={tags.join(', ')}>\n        {tags.join(', ')}\n      </span>\n      {allowUpdate && <DropdownIcon className=\"text-middle\" />}\n    </span>\n  );\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction LinkIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"g\", { transform: \"matrix(0.823497,0,0,0.823497,1.47008,1.4122)\" },\n            React.createElement(\"path\", { d: \"M13.501,11.429C13.501,11.191 13.418,10.989 13.251,10.822L11.394,8.965C11.227,8.798 11.025,8.715 10.787,8.715C10.537,8.715 10.323,8.81 10.144,9.001C10.162,9.019 10.219,9.074 10.314,9.166C10.409,9.258 10.473,9.322 10.506,9.358C10.539,9.394 10.583,9.451 10.64,9.528C10.697,9.605 10.735,9.681 10.756,9.756C10.777,9.831 10.787,9.913 10.787,10.002C10.787,10.24 10.704,10.442 10.537,10.609C10.37,10.776 10.168,10.859 9.93,10.859C9.841,10.859 9.759,10.849 9.684,10.828C9.609,10.807 9.533,10.769 9.456,10.712C9.379,10.655 9.322,10.611 9.286,10.578C9.25,10.545 9.186,10.481 9.094,10.386C9.002,10.291 8.947,10.234 8.929,10.216C8.732,10.401 8.634,10.618 8.634,10.868C8.634,11.106 8.717,11.308 8.884,11.475L10.723,13.323C10.884,13.484 11.086,13.564 11.33,13.564C11.568,13.564 11.77,13.487 11.937,13.332L13.25,12.028C13.417,11.861 13.5,11.662 13.5,11.43L13.501,11.429ZM7.224,5.134C7.224,4.896 7.141,4.694 6.974,4.527L5.135,2.679C4.968,2.512 4.766,2.429 4.528,2.429C4.296,2.429 4.094,2.509 3.921,2.67L2.608,3.974C2.441,4.141 2.358,4.34 2.358,4.572C2.358,4.81 2.441,5.012 2.608,5.179L4.465,7.036C4.626,7.197 4.828,7.277 5.072,7.277C5.322,7.277 5.536,7.185 5.715,7C5.697,6.982 5.64,6.927 5.545,6.835C5.45,6.743 5.386,6.679 5.353,6.643C5.32,6.607 5.276,6.55 5.219,6.473C5.162,6.396 5.124,6.32 5.103,6.245C5.082,6.17 5.072,6.088 5.072,5.999C5.072,5.761 5.155,5.559 5.322,5.392C5.489,5.225 5.691,5.142 5.929,5.142C6.018,5.142 6.1,5.152 6.175,5.173C6.25,5.194 6.326,5.232 6.403,5.289C6.48,5.346 6.537,5.39 6.573,5.423C6.609,5.456 6.673,5.52 6.765,5.615C6.857,5.71 6.912,5.767 6.93,5.785C7.127,5.6 7.225,5.383 7.225,5.133L7.224,5.134ZM15.215,11.429C15.215,12.143 14.962,12.747 14.456,13.242L13.143,14.546C12.649,15.04 12.045,15.287 11.33,15.287C10.61,15.287 10.003,15.034 9.509,14.528L7.67,12.68C7.176,12.186 6.929,11.582 6.929,10.867C6.929,10.135 7.191,9.513 7.715,9.001L6.929,8.215C6.417,8.739 5.798,9.001 5.072,9.001C4.358,9.001 3.751,8.751 3.251,8.251L1.394,6.394C0.894,5.894 0.644,5.287 0.644,4.573C0.644,3.859 0.897,3.255 1.403,2.76L2.716,1.456C3.21,0.962 3.814,0.715 4.529,0.715C5.249,0.715 5.856,0.968 6.35,1.474L8.189,3.322C8.683,3.816 8.93,4.42 8.93,5.135C8.93,5.867 8.668,6.489 8.144,7.001L8.93,7.787C9.442,7.263 10.061,7.001 10.787,7.001C11.501,7.001 12.108,7.251 12.608,7.751L14.465,9.608C14.965,10.108 15.215,10.715 15.215,11.429L15.215,11.429Z\", style: { fill: fill } }))));\n}\nexports.default = LinkIcon;\n//# sourceMappingURL=LinkIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getFormattingHelpUrl } from '../../helpers/urls';\n\ninterface Props {\n  className?: string;\n}\n\nexport default class FormattingTips extends React.PureComponent<Props> {\n  handleClick(evt: React.SyntheticEvent<HTMLAnchorElement>) {\n    evt.preventDefault();\n    window.open(\n      getFormattingHelpUrl(),\n      'Formatting',\n      'height=300,width=600,scrollbars=1,resizable=1'\n    );\n  }\n\n  render() {\n    return (\n      <div className={classNames('markdown-tips', this.props.className)}>\n        <a className=\"little-spacer-right\" href=\"#\" onClick={this.handleClick}>\n          {translate('formatting.helplink')}\n        </a>\n        {':'}\n        <span className=\"spacer-left\">*{translate('bold')}*</span>\n        <span className=\"spacer-left\">\n          ``\n          {translate('code')}\n          ``\n        </span>\n        <span className=\"spacer-left\">* {translate('bulleted_point')}</span>\n      </div>\n    );\n  }\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Rating.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".rating{display:inline-block;width:24px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;font-size:16px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.rating-muted{background-color:#bdbdbd!important;color:#fff!important;text-shadow:0 0 1px rgba(0,0,0,.35)!important}a>.rating{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.rating:hover{opacity:.8}.rating-A{line-height:23px;background-color:#0a0}a>.rating-A{border-bottom-color:#0a0}.rating-B{background-color:#b0d513}a .rating-B{border-bottom-color:#b0d513}.rating-C{background-color:#eabe06}a .rating-C{border-bottom-color:#eabe06}.rating-D{background-color:#ed7d20}a .rating-D{border-bottom-color:#ed7d20}.rating-E{background-color:#d4333f}a .rating-E{border-bottom-color:#d4333f}.rating-small{width:18px;height:18px;line-height:18px;margin-top:-1px;margin-bottom:-1px;font-size:12px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelect from '../common/MultiSelect';\nimport './TagsList.css';\n\ninterface Props {\n  listSize: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  selectedTags: string[];\n  tags: string[];\n}\n\nexport default function TagsSelector(props: Props) {\n  return (\n    <MultiSelect\n      elements={props.tags}\n      listSize={props.listSize}\n      onSearch={props.onSearch}\n      onSelect={props.onSelect}\n      onUnselect={props.onUnselect}\n      placeholder={translate('search.search_for_tags')}\n      selectedElements={props.selectedTags}\n      validateSearchInput={validateTag}\n    />\n  );\n}\n\nexport function validateTag(value: string) {\n  // Allow only a-z, 0-9, '+', '-', '#', '.'\n  return value.toLowerCase().replace(/[^-a-z0-9+#.]/gi, '');\n}\n","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport { colors } from '../../app/theme';\n\nconst DonutChart = lazyLoadComponent(\n  () => import('sonar-ui-common/components/charts/DonutChart'),\n  'DonutChart'\n);\n\nconst SIZE_TO_WIDTH_MAPPING = { small: 16, normal: 24, big: 40, huge: 60 };\n\nconst SIZE_TO_THICKNESS_MAPPING = { small: 2, normal: 3, big: 3, huge: 4 };\n\nexport interface CoverageRatingProps {\n  muted?: boolean;\n  size?: 'small' | 'normal' | 'big' | 'huge';\n  value: number | string | null | undefined;\n}\n\nexport default function CoverageRating({\n  muted = false,\n  size = 'normal',\n  value\n}: CoverageRatingProps) {\n  let data = [{ value: 100, fill: '#ccc ' }];\n  let padAngle = 0;\n\n  if (value != null) {\n    const numberValue = Number(value);\n    data = [\n      { value: numberValue, fill: muted ? colors.gray71 : colors.green },\n      { value: 100 - numberValue, fill: muted ? colors.barBackgroundColor : colors.lineCoverageRed }\n    ];\n    if (numberValue !== 0 && numberValue < 100) {\n      padAngle = 0.1; // Same for all sizes, because it scales automatically\n    }\n  }\n\n  const width = SIZE_TO_WIDTH_MAPPING[size];\n  const thickness = SIZE_TO_THICKNESS_MAPPING[size];\n\n  return (\n    <DonutChart\n      data={data}\n      height={width}\n      padAngle={padAngle}\n      thickness={thickness}\n      width={width}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationIndex.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  leading?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  [x: string]: any;\n}\n\nexport default function LocationIndex(props: Props) {\n  const { children, leading, onClick, selected, ...other } = props;\n  const clickAttributes = onClick ? { onClick, role: 'button', tabIndex: 0 } : {};\n  // put {...others} because Tooltip sets some event handlers\n  return (\n    <div\n      className={classNames('location-index', {\n        'is-leading': leading,\n        selected\n      })}\n      {...clickAttributes}\n      {...other}>\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport StatusIcon from 'sonar-ui-common/components/icons/StatusIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  resolution: string | undefined;\n  status: string;\n}\n\nexport default function StatusHelper(props: Props) {\n  const resolution = props.resolution && ` (${translate('issue.resolution', props.resolution)})`;\n  return (\n    <span className={props.className}>\n      <StatusIcon className=\"little-spacer-right\" status={props.status} />\n      {translate('issue.status', props.status)}\n      {resolution}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Standards } from '../types/security';\n\nexport function getStandards(): Promise<Standards> {\n  return import('./standards.json').then(x => x.default);\n}\n\nexport function renderCWECategory(standards: Standards, category: string): string {\n  const record = standards.cwe[category];\n  if (!record) {\n    return `CWE-${category}`;\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return `CWE-${category} - ${record.title}`;\n  }\n}\n\nexport function renderOwaspTop10Category(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.owaspTop10[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'OWASP', withPrefix);\n  } else {\n    return addPrefix(`${category.toUpperCase()} - ${record.title}`, 'OWASP', withPrefix);\n  }\n}\n\nexport function renderSansTop25Category(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sansTop25[category];\n  return addPrefix(record ? record.title : category, 'SANS', withPrefix);\n}\n\nexport function renderSonarSourceSecurityCategory(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sonarsourceSecurity[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'SONAR', withPrefix);\n  } else if (category === 'others') {\n    return record.title;\n  } else {\n    return addPrefix(record.title, 'SONAR', withPrefix);\n  }\n}\n\nfunction addPrefix(title: string, prefix: string, withPrefix: boolean) {\n  return withPrefix ? `${prefix} ${title}` : title;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { flatten } from 'lodash';\nimport { splitByTokens } from './highlight';\nimport { getLinearLocations } from './issueLocations';\n\nexport function issuesByLine(issues: T.Issue[]) {\n  const index: { [line: number]: T.Issue[] } = {};\n  issues.forEach(issue => {\n    const line = issue.textRange ? issue.textRange.endLine : 0;\n    if (!(line in index)) {\n      index[line] = [];\n    }\n    index[line].push(issue);\n  });\n  return index;\n}\n\nexport function issuesByComponentAndLine(\n  issues: T.Issue[] = []\n): { [component: string]: { [line: number]: T.Issue[] } } {\n  return issues.reduce((mapping: { [component: string]: { [line: number]: T.Issue[] } }, issue) => {\n    mapping[issue.component] = mapping[issue.component] || {};\n    const line = issue.textRange ? issue.textRange.endLine : 0;\n    mapping[issue.component][line] = mapping[issue.component][line] || [];\n    mapping[issue.component][line].push(issue);\n    return mapping;\n  }, {});\n}\n\nexport function locationsByLine(issues: Pick<T.Issue, 'textRange'>[]) {\n  const index: { [line: number]: T.LinearIssueLocation[] } = {};\n  issues.forEach(issue => {\n    getLinearLocations(issue.textRange).forEach(location => {\n      if (!(location.line in index)) {\n        index[location.line] = [];\n      }\n      index[location.line].push(location);\n    });\n  });\n  return index;\n}\n\nexport function duplicationsByLine(duplications: T.Duplication[] | undefined) {\n  if (duplications == null) {\n    return {};\n  }\n\n  const duplicationsByLine: { [line: number]: number[] } = {};\n\n  duplications.forEach(({ blocks }, duplicationIndex) => {\n    blocks.forEach(block => {\n      // eslint-disable-next-line no-underscore-dangle\n      if (block._ref === '1') {\n        for (let line = block.from; line < block.from + block.size; line++) {\n          if (!(line in duplicationsByLine)) {\n            duplicationsByLine[line] = [];\n          }\n          duplicationsByLine[line].push(duplicationIndex);\n        }\n      }\n    });\n  });\n\n  return duplicationsByLine;\n}\n\nexport function symbolsByLine(sources: T.SourceLine[]) {\n  const index: { [line: number]: string[] } = {};\n  sources.forEach(line => {\n    const tokens = splitByTokens(line.code || '');\n    const symbols = flatten(\n      tokens.map(token => {\n        const keys = token.className.match(/sym-\\d+/g);\n        return keys != null ? keys : [];\n      })\n    );\n    index[line.line] = symbols.filter(key => key);\n  });\n  return index;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\n\nexport interface Token {\n  className: string;\n  markers: number[];\n  text: string;\n}\n\nconst ISSUE_LOCATION_CLASS = 'source-line-code-issue';\n\nexport function splitByTokens(code: string, rootClassName = ''): Token[] {\n  const container = document.createElement('div');\n  let tokens: Token[] = [];\n  container.innerHTML = code;\n  [].forEach.call(container.childNodes, (node: Element) => {\n    if (node.nodeType === 1) {\n      // ELEMENT NODE\n      const fullClassName = rootClassName ? rootClassName + ' ' + node.className : node.className;\n      const innerTokens = splitByTokens(node.innerHTML, fullClassName);\n      tokens = tokens.concat(innerTokens);\n    }\n    if (node.nodeType === 3 && node.nodeValue) {\n      // TEXT NODE\n      tokens.push({ className: rootClassName, markers: [], text: node.nodeValue });\n    }\n  });\n  return tokens;\n}\n\nexport function highlightSymbol(tokens: Token[], symbol: string): Token[] {\n  const symbolRegExp = new RegExp(`\\\\b${symbol}\\\\b`);\n  return tokens.map(token =>\n    symbolRegExp.test(token.className)\n      ? { ...token, className: `${token.className} highlighted` }\n      : token\n  );\n}\n\n/**\n * Intersect two ranges\n * @param s1 Start position of the first range\n * @param e1 End position of the first range\n * @param s2 Start position of the second range\n * @param e2 End position of the second range\n */\nfunction intersect(s1: number, e1: number, s2: number, e2: number) {\n  return { from: Math.max(s1, s2), to: Math.min(e1, e2) };\n}\n\n/**\n * Get the substring of a string\n * @param str A string\n * @param from \"From\" offset\n * @param to \"To\" offset\n * @param acc Global offset to eliminate\n */\nfunction part(str: string, from: number, to: number, acc: number): string {\n  // we do not want negative number as the first argument of `substr`\n  return from >= acc ? str.substr(from - acc, to - from) : str.substr(0, to - from);\n}\n\n/**\n * Highlight issue locations in the list of tokens\n */\nexport function highlightIssueLocations(\n  tokens: Token[],\n  issueLocations: T.LinearIssueLocation[],\n  rootClassName: string = ISSUE_LOCATION_CLASS\n): Token[] {\n  issueLocations.forEach(location => {\n    const nextTokens: Token[] = [];\n    let acc = 0;\n    let markerAdded = location.line !== location.startLine;\n    tokens.forEach(token => {\n      const x = intersect(acc, acc + token.text.length, location.from, location.to);\n      const p1 = part(token.text, acc, x.from, acc);\n      const p2 = part(token.text, x.from, x.to, acc);\n      const p3 = part(token.text, x.to, acc + token.text.length, acc);\n      if (p1.length) {\n        nextTokens.push({ ...token, text: p1 });\n      }\n      if (p2.length) {\n        const newClassName =\n          token.className.indexOf(rootClassName) === -1\n            ? `${token.className} ${rootClassName}`\n            : token.className;\n        nextTokens.push({\n          className: newClassName,\n          markers:\n            !markerAdded && location.index != null\n              ? uniq([...token.markers, location.index])\n              : token.markers,\n          text: p2\n        });\n        markerAdded = true;\n      }\n      if (p3.length) {\n        nextTokens.push({ ...token, text: p3 });\n      }\n      acc += token.text.length;\n    });\n    tokens = nextTokens.slice();\n  });\n  return tokens;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getLinearLocations(textRange: T.TextRange | undefined): T.LinearIssueLocation[] {\n  if (!textRange) {\n    return [];\n  }\n  const locations = [];\n\n  // go through all lines of the `textRange`\n  for (let line = textRange.startLine; line <= textRange.endLine; line++) {\n    // TODO fix 999999\n    const from = line === textRange.startLine ? textRange.startOffset : 0;\n    const to = line === textRange.endLine ? textRange.endOffset : 999999;\n    locations.push({ line, from, to });\n  }\n  return locations;\n}\n\nexport function getSecondaryIssueLocationsForLine(\n  line: T.SourceLine,\n  highlightedLocations: (T.FlowLocation | undefined)[] | undefined\n): T.LinearIssueLocation[] {\n  if (!highlightedLocations) {\n    return [];\n  }\n  return highlightedLocations.reduce((locations, location) => {\n    const linearLocations: T.LinearIssueLocation[] = location\n      ? getLinearLocations(location.textRange)\n          .filter(l => l.line === line.line)\n          .map(l => ({\n            ...l,\n            startLine: location.textRange.startLine,\n            index: location.index,\n            text: location.msg\n          }))\n      : [];\n    return [...locations, ...linearLocations];\n  }, []);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike } from '../../types/branch-like';\n\ninterface SourceViewerContextShape {\n  branchLike?: BranchLike;\n  file: T.SourceViewerFile;\n}\n\nexport const SourceViewerContext = React.createContext<SourceViewerContextShape>({\n  branchLike: {} as BranchLike,\n  file: {} as T.SourceViewerFile\n});\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction FilterIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M13.957 2.333a.536.536 0 0 1-.12.596l-4.2 4.202v6.323a.552.552 0 0 1-.333.503.632.632 0 0 1-.213.043.51.51 0 0 1-.384-.162l-2.181-2.182a.542.542 0 0 1-.162-.383V7.13L2.162 2.929a.536.536 0 0 1-.12-.596A.552.552 0 0 1 2.547 2h10.908c.222 0 .418.137.503.333z\", style: { fill: fill } })));\n}\nexports.default = FilterIcon;\n//# sourceMappingURL=FilterIcon.js.map","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ExpandSnippetIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"g\", { fill: \"none\", fillRule: \"evenodd\" },\n            React.createElement(\"path\", { d: \"M8 1v4H4\", stroke: fill, strokeWidth: \"2\", transform: \"scale(-.83333 -.84583) rotate(45 7.66 -19.75)\" }),\n            React.createElement(\"path\", { d: \"M3 5.78h10v1.7H3z\", fill: fill }),\n            React.createElement(\"path\", { d: \"M7.17 2.4h1.66v5.07H7.17z\", fill: fill }),\n            React.createElement(\"g\", null,\n                React.createElement(\"path\", { d: \"M8.16 1.81V6.1H3.9\", stroke: fill, strokeWidth: \"2\", transform: \"scale(.83333 .84583) rotate(45 -4.2 13.2)\" }),\n                React.createElement(\"path\", { d: \"M13 10.01H3v-1.7h10z\", fill: fill }),\n                React.createElement(\"path\", { d: \"M8.83 13.4H7.17V9.15h1.66z\", fill: fill })))));\n}\nexports.default = ExpandSnippetIcon;\n//# sourceMappingURL=ExpandSnippetIcon.js.map","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar theme_1 = require(\"../theme\");\nvar TabContainer = theme_1.styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: row;\\n\"], [\"\\n  display: flex;\\n  flex-direction: row;\\n\"])));\nvar baseBorder = function (_a) {\n    var theme = _a.theme;\n    return \"1px solid \" + theme.colors.barBorderColor;\n};\nvar highlightHoverMixin = function (_a) {\n    var theme = _a.theme;\n    return \"\\n  &:hover {\\n    background-color: \" + theme.colors.barBackgroundColorHighlight + \";\\n  }\\n\";\n};\nvar StyledTab = theme_1.styled.button(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  position: relative;\\n  background-color: \", \";\\n  border-top: \", \";\\n  border-left: \", \";\\n  border-right: none;\\n  border-bottom: none;\\n  margin-bottom: -1px;\\n  min-width: 128px;\\n  min-height: 56px;\\n  \", \"\\n  outline: 0;\\n  padding: calc(2 * \", \");\\n\\n  \", \"\\n\\n  &:last-child {\\n    border-right: \", \";\\n  }\\n\"], [\"\\n  position: relative;\\n  background-color: \", \";\\n  border-top: \", \";\\n  border-left: \", \";\\n  border-right: none;\\n  border-bottom: none;\\n  margin-bottom: -1px;\\n  min-width: 128px;\\n  min-height: 56px;\\n  \", \"\\n  outline: 0;\\n  padding: calc(2 * \", \");\\n\\n  \", \"\\n\\n  &:last-child {\\n    border-right: \", \";\\n  }\\n\"])), function (props) { return (props.active ? 'white' : props.theme.colors.barBackgroundColor); }, baseBorder, baseBorder, function (props) { return !props.active && 'cursor: pointer;'; }, theme_1.themeSize('gridSize'), function (props) { return (!props.active ? highlightHoverMixin : null); }, baseBorder);\nvar ActiveBorder = theme_1.styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  display: \", \";\\n  background-color: \", \";\\n  height: 3px;\\n  width: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: -1px;\\n\"], [\"\\n  display: \", \";\\n  background-color: \", \";\\n  height: 3px;\\n  width: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: -1px;\\n\"])), function (props) { return (props.active ? 'block' : 'none'); }, theme_1.themeColor('blue'));\nfunction BoxedTabs(props) {\n    var className = props.className, tabs = props.tabs, selected = props.selected;\n    return (React.createElement(TabContainer, { className: className }, tabs.map(function (_a, i) {\n        var key = _a.key, label = _a.label;\n        return (React.createElement(StyledTab, { active: selected === key, key: i, onClick: function () { return selected !== key && props.onSelect(key); }, type: \"button\" },\n            React.createElement(ActiveBorder, { active: selected === key }),\n            label));\n    })));\n}\nexports.default = BoxedTabs;\nvar templateObject_1, templateObject_2, templateObject_3;\n//# sourceMappingURL=BoxedTabs.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../../app/utils/throwGlobalError';\nimport { parseIssueFromResponse } from '../../helpers/issues';\nimport { IssueResponse } from '../../types/issues';\n\nexport const updateIssue = (\n  onChange: (issue: T.Issue) => void,\n  resultPromise: Promise<IssueResponse>,\n  oldIssue?: T.Issue,\n  newIssue?: T.Issue\n) => {\n  const optimisticUpdate = oldIssue !== undefined && newIssue !== undefined;\n  if (optimisticUpdate) {\n    onChange(newIssue!);\n  }\n\n  resultPromise.then(\n    response => {\n      if (!optimisticUpdate) {\n        const issue = parseIssueFromResponse(\n          response.issue,\n          response.components,\n          response.users,\n          response.rules\n        );\n        onChange(issue);\n      }\n    },\n    param => {\n      if (optimisticUpdate) {\n        onChange(oldIssue!);\n      }\n      throwGlobalError(param);\n    }\n  );\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\n\ninterface Props {\n  active?: string;\n  className?: string;\n  item: string;\n  onHover?: (item: string) => void;\n  onSelect?: (item: string) => void;\n  title?: React.ReactNode;\n}\n\nexport default class SelectListItem extends React.PureComponent<Props> {\n  handleSelect = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    if (this.props.onSelect) {\n      this.props.onSelect(this.props.item);\n    }\n  };\n\n  handleHover = () => {\n    if (this.props.onHover) {\n      this.props.onHover(this.props.item);\n    }\n  };\n\n  renderLink() {\n    const children = this.props.children || this.props.item;\n    return (\n      <li>\n        <a\n          className={classNames(\n            { active: this.props.active === this.props.item },\n            this.props.className\n          )}\n          href=\"#\"\n          onClick={this.handleSelect}\n          onFocus={this.handleHover}\n          onMouseOver={this.handleHover}>\n          {children}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <Tooltip overlay={this.props.title || undefined} placement=\"right\">\n        {this.renderLink()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as key from 'keymaster';\nimport { uniqueId } from 'lodash';\nimport * as React from 'react';\nimport SelectListItem from './SelectListItem';\n\ninterface Props {\n  className?: string;\n  items: string[];\n  currentItem: string;\n  onSelect: (item: string) => void;\n}\n\ninterface State {\n  active: string;\n}\n\nexport default class SelectList extends React.PureComponent<Props, State> {\n  currentKeyScope?: string;\n  previousFilter?: (event: any) => void;\n  previousKeyScope?: string;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      active: props.currentItem\n    };\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.currentItem !== this.props.currentItem &&\n      !this.props.items.includes(this.state.active)\n    ) {\n      this.setState({ active: this.props.currentItem });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    this.previousKeyScope = key.getScope();\n    this.previousFilter = key.filter;\n    this.currentKeyScope = uniqueId('key-scope');\n    key.setScope(this.currentKeyScope);\n\n    // sometimes there is a *focused* search field next to the SelectList component\n    // we need to allow shortcuts in this case, but only for the used keys\n    (key as any).filter = (event: KeyboardEvent & { target: HTMLElement }) => {\n      const { tagName } = event.target || event.srcElement;\n      const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n      return [13, 38, 40].includes(event.keyCode) || !isInput;\n    };\n\n    key('down', this.currentKeyScope, () => {\n      this.setState(this.selectNextElement);\n      return false;\n    });\n\n    key('up', this.currentKeyScope, () => {\n      this.setState(this.selectPreviousElement);\n      return false;\n    });\n\n    key('return', this.currentKeyScope, () => {\n      if (this.state.active != null) {\n        this.handleSelect(this.state.active);\n      }\n      return false;\n    });\n  };\n\n  detachShortcuts = () => {\n    if (this.previousKeyScope) {\n      key.setScope(this.previousKeyScope);\n    }\n    if (this.currentKeyScope) {\n      key.deleteScope(this.currentKeyScope);\n    }\n    (key as any).filter = this.previousFilter;\n  };\n\n  handleSelect = (item: string) => {\n    this.props.onSelect(item);\n  };\n\n  handleHover = (item: string) => {\n    this.setState({ active: item });\n  };\n\n  selectNextElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx < 0) {\n      return { active: props.items[0] };\n    }\n    return { active: props.items[(idx + 1) % props.items.length] };\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx <= 0) {\n      return { active: props.items[props.items.length - 1] };\n    }\n    return { active: props.items[idx - 1] };\n  };\n\n  renderChild = (child: any) => {\n    if (child == null) {\n      return null;\n    }\n    // do not pass extra props to children like `<li className=\"divider\" />`\n    if (child.type !== SelectListItem) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      active: this.state.active,\n      onHover: this.handleHover,\n      onSelect: this.handleSelect\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const hasChildren = React.Children.count(children) > 0;\n    return (\n      <ul className={classNames('menu', this.props.className)}>\n        {hasChildren && React.Children.map(children, this.renderChild)}\n        {!hasChildren &&\n          this.props.items.map(item => (\n            <SelectListItem\n              active={this.state.active}\n              item={item}\n              key={item}\n              onHover={this.handleHover}\n              onSelect={this.handleSelect}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { searchUsers } from '../../../api/users';\nimport { isLoggedIn, isUserActive } from '../../../helpers/users';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { withCurrentUser } from '../../hoc/withCurrentUser';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  onSelect: (login: string) => void;\n}\n\ninterface State {\n  currentUser: string;\n  query: string;\n  users: T.UserActive[];\n}\n\nconst LIST_SIZE = 10;\n\nexport class SetAssigneePopup extends React.PureComponent<Props, State> {\n  defaultUsersArray: T.UserActive[];\n\n  constructor(props: Props) {\n    super(props);\n    this.defaultUsersArray = [{ login: '', name: translate('unassigned') }];\n\n    if (isLoggedIn(props.currentUser)) {\n      this.defaultUsersArray = [props.currentUser, ...this.defaultUsersArray];\n    }\n\n    this.state = {\n      query: '',\n      users: this.defaultUsersArray,\n      currentUser: this.defaultUsersArray.length > 0 ? this.defaultUsersArray[0].login : ''\n    };\n  }\n\n  searchUsers = (query: string) => {\n    searchUsers({ q: query, ps: LIST_SIZE }).then(this.handleSearchResult, () => {});\n  };\n\n  handleSearchResult = ({ users }: { users: T.UserBase[] }) => {\n    const activeUsers = users.filter(isUserActive);\n    this.setState({\n      users: activeUsers,\n      currentUser: activeUsers.length > 0 ? activeUsers[0].login : ''\n    });\n  };\n\n  handleSearchChange = (query: string) => {\n    if (query.length === 0) {\n      this.setState({\n        query,\n        users: this.defaultUsersArray,\n        currentUser: this.defaultUsersArray[0].login\n      });\n    } else {\n      this.setState({ query });\n      this.searchUsers(query);\n    }\n  };\n\n  render() {\n    return (\n      <DropdownOverlay noPadding={true}>\n        <div className=\"multi-select\">\n          <div className=\"menu-search\">\n            <SearchBox\n              autoFocus={true}\n              className=\"little-spacer-top\"\n              minLength={2}\n              onChange={this.handleSearchChange}\n              placeholder={translate('search.search_for_users')}\n              value={this.state.query}\n            />\n          </div>\n          <SelectList\n            currentItem={this.state.currentUser}\n            items={map(this.state.users, 'login')}\n            onSelect={this.props.onSelect}>\n            {this.state.users.map(user => (\n              <SelectListItem item={user.login} key={user.login}>\n                {!!user.login && (\n                  <Avatar className=\"spacer-right\" hash={user.avatar} name={user.name} size={16} />\n                )}\n                <span className=\"text-middle\" style={{ marginLeft: user.login ? 24 : undefined }}>\n                  {user.name}\n                </span>\n              </SelectListItem>\n            ))}\n          </SelectList>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n\nexport default withCurrentUser(SetAssigneePopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport SetAssigneePopup from '../popups/SetAssigneePopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  canAssign: boolean;\n  onAssign: (login: string) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueAssign extends React.PureComponent<Props> {\n  toggleAssign = (open?: boolean) => {\n    this.props.togglePopup('assign', open);\n  };\n\n  handleClose = () => {\n    this.toggleAssign(false);\n  };\n\n  renderAssignee() {\n    const { issue } = this.props;\n    const assigneeName = issue.assigneeName || issue.assignee;\n\n    if (assigneeName) {\n      return (\n        <>\n          <span className=\"text-top\">\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={issue.assigneeAvatar}\n              name={assigneeName}\n              size={16}\n            />\n          </span>\n          <span className=\"issue-meta-label\">\n            {issue.assigneeActive === false\n              ? translateWithParameters('user.x_deleted', assigneeName)\n              : assigneeName}\n          </span>\n        </>\n      );\n    }\n\n    return <span className=\"issue-meta-label\">{translate('unassigned')}</span>;\n  }\n\n  render() {\n    const { canAssign, isOpen, issue } = this.props;\n    const assigneeName = issue.assigneeName || issue.assignee;\n\n    if (canAssign) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            closeOnEscape={true}\n            onRequestClose={this.handleClose}\n            open={isOpen}\n            overlay={<SetAssigneePopup onSelect={this.props.onAssign} />}>\n            <ButtonLink\n              aria-expanded={isOpen}\n              aria-label={\n                assigneeName\n                  ? translateWithParameters(\n                      'issue.assign.assigned_to_x_click_to_change',\n                      assigneeName\n                    )\n                  : translate('issue.assign.unassigned_click_to_assign')\n              }\n              className=\"issue-action issue-action-with-options js-issue-assign\"\n              onClick={this.toggleAssign}>\n              {this.renderAssignee()}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return this.renderAssignee();\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FormattingTips from '../../common/FormattingTips';\n\ninterface Props {\n  comment?: Pick<T.IssueComment, 'markdown'>;\n  onComment: (text: string) => void;\n  toggleComment: (visible: boolean) => void;\n  placeholder: string;\n  placement?: PopupPlacement;\n  autoTriggered?: boolean;\n}\n\ninterface State {\n  textComment: string;\n}\n\nexport default class CommentPopup extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      textComment: props.comment ? props.comment.markdown : ''\n    };\n  }\n\n  handleCommentChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({ textComment: event.target.value });\n  };\n\n  handleCommentClick = () => {\n    if (this.state.textComment.trim().length > 0) {\n      this.props.onComment(this.state.textComment);\n    }\n  };\n\n  handleCancelClick = () => {\n    this.props.toggleComment(false);\n  };\n\n  handleKeyboard = (event: React.KeyboardEvent) => {\n    if (event.keyCode === 13 && (event.metaKey || event.ctrlKey)) {\n      // Ctrl + Enter\n      this.handleCommentClick();\n    } else if ([37, 38, 39, 40].includes(event.keyCode)) {\n      // Arrow keys\n      event.stopPropagation();\n    }\n  };\n\n  render() {\n    const { comment, autoTriggered } = this.props;\n    return (\n      <DropdownOverlay placement={this.props.placement}>\n        <div className=\"issue-comment-bubble-popup\">\n          <div className=\"issue-comment-form-text\">\n            <textarea\n              autoFocus={true}\n              onChange={this.handleCommentChange}\n              onKeyDown={this.handleKeyboard}\n              placeholder={this.props.placeholder}\n              rows={2}\n              value={this.state.textComment}\n            />\n          </div>\n          <div className=\"issue-comment-form-footer\">\n            <div className=\"issue-comment-form-actions\">\n              <Button\n                className=\"js-issue-comment-submit little-spacer-right\"\n                disabled={this.state.textComment.trim().length < 1}\n                onClick={this.handleCommentClick}>\n                {comment && translate('save')}\n                {!comment && translate('issue.comment.submit')}\n              </Button>\n              <ResetButtonLink className=\"js-issue-comment-cancel\" onClick={this.handleCancelClick}>\n                {autoTriggered ? translate('skip') : translate('cancel')}\n              </ResetButtonLink>\n            </div>\n            <div className=\"issue-comment-form-tips\">\n              <FormattingTips />\n            </div>\n          </div>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { addIssueComment } from '../../../api/issues';\nimport { updateIssue } from '../actions';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  commentAutoTriggered?: boolean;\n  commentPlaceholder: string;\n  currentPopup?: string;\n  issueKey: string;\n  onChange: (issue: T.Issue) => void;\n  toggleComment: (open?: boolean, placeholder?: string, autoTriggered?: boolean) => void;\n}\n\nexport default class IssueCommentAction extends React.PureComponent<Props> {\n  addComment = (text: string) => {\n    updateIssue(this.props.onChange, addIssueComment({ issue: this.props.issueKey, text }));\n    this.props.toggleComment(false);\n  };\n\n  handleCommentClick = () => {\n    this.props.toggleComment();\n  };\n\n  handleClose = () => {\n    this.props.toggleComment(false);\n  };\n\n  render() {\n    return (\n      <li className=\"issue-meta dropdown\">\n        <Toggler\n          closeOnClickOutside={false}\n          onRequestClose={this.handleClose}\n          open={this.props.currentPopup === 'comment'}\n          overlay={\n            <CommentPopup\n              autoTriggered={this.props.commentAutoTriggered}\n              onComment={this.addComment}\n              placeholder={this.props.commentPlaceholder}\n              toggleComment={this.props.toggleComment}\n            />\n          }>\n          <ButtonLink\n            aria-expanded={this.props.currentPopup === 'comment'}\n            aria-label={translate('issue.comment.add_comment')}\n            className=\"issue-action js-issue-comment\"\n            onClick={this.handleCommentClick}>\n            <span className=\"issue-meta-label\">{translate('issue.comment.formlink')}</span>\n          </ButtonLink>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ntype Props = {\n  issue: Pick<T.Issue, 'severity'>;\n  onSelect: (severity: string) => void;\n};\n\nconst SEVERITY = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\nexport default function SetSeverityPopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.severity} items={SEVERITY} onSelect={onSelect}>\n        {SEVERITY.map(severity => (\n          <SelectListItem className=\"display-flex-center\" item={severity} key={severity}>\n            <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n            {translate('severity', severity)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { setIssueSeverity } from '../../../api/issues';\nimport { IssueResponse } from '../../../types/issues';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport SetSeverityPopup from '../popups/SetSeverityPopup';\n\ninterface Props {\n  canSetSeverity: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'severity'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueSeverity extends React.PureComponent<Props> {\n  toggleSetSeverity = (open?: boolean) => {\n    this.props.togglePopup('set-severity', open);\n  };\n\n  setSeverity = (severity: string) => {\n    this.props.setIssueProperty('severity', 'set-severity', setIssueSeverity, severity);\n  };\n\n  handleClose = () => {\n    this.toggleSetSeverity(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetSeverity) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetSeverity}\n            overlay={<SetSeverityPopup issue={issue} onSelect={this.setSeverity} />}>\n            <ButtonLink\n              aria-label={translateWithParameters(\n                'issue.severity.severity_x_click_to_change',\n                translate('severity', issue.severity)\n              )}\n              aria-expanded={this.props.isOpen}\n              className=\"issue-action issue-action-with-options js-issue-set-severity\"\n              onClick={this.toggleSetSeverity}>\n              <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { difference, without } from 'lodash';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { searchIssueTags } from '../../../api/issues';\nimport TagsSelector from '../../tags/TagsSelector';\n\ninterface Props {\n  selectedTags: string[];\n  setTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\nconst MAX_LIST_SIZE = 100;\n\nexport default class SetIssueTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchIssueTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, MAX_LIST_SIZE)\n    }).then(\n      (tags: string[]) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <TagsSelector\n          listSize={LIST_SIZE}\n          onSearch={this.onSearch}\n          onSelect={this.onSelect}\n          onUnselect={this.onUnselect}\n          selectedTags={this.props.selectedTags}\n          tags={availableTags}\n        />\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { setIssueTags } from '../../../api/issues';\nimport TagsList from '../../tags/TagsList';\nimport { updateIssue } from '../actions';\nimport SetIssueTagsPopup from '../popups/SetIssueTagsPopup';\n\ninterface Props {\n  canSetTags: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'key' | 'tags'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTags extends React.PureComponent<Props> {\n  toggleSetTags = (open?: boolean) => {\n    this.props.togglePopup('edit-tags', open);\n  };\n\n  setTags = (tags: string[]) => {\n    const { issue } = this.props;\n    const newIssue = { ...issue, tags };\n    updateIssue(\n      this.props.onChange,\n      setIssueTags({ issue: issue.key, tags: tags.join(',') }),\n      issue as T.Issue,\n      newIssue as T.Issue\n    );\n  };\n\n  handleClose = () => {\n    this.toggleSetTags(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    const { tags = [] } = issue;\n\n    if (this.props.canSetTags) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen}\n            overlay={<SetIssueTagsPopup selectedTags={tags} setTags={this.setTags} />}>\n            <ButtonLink\n              aria-expanded={this.props.isOpen}\n              className=\"issue-action issue-action-with-options js-issue-edit-tags\"\n              onClick={this.toggleSetTags}>\n              <TagsList\n                allowUpdate={this.props.canSetTags}\n                tags={\n                  issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]\n                }\n              />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return (\n      <TagsList\n        allowUpdate={this.props.canSetTags}\n        className=\"note\"\n        tags={issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\nexport interface Props {\n  fromHotspot: boolean;\n  onSelect: (transition: string) => void;\n  transitions: string[];\n  type: T.IssueType;\n}\n\nexport default function SetTransitionPopup({ fromHotspot, onSelect, transitions, type }: Props) {\n  const isManualVulnerability = fromHotspot && type === 'VULNERABILITY';\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={transitions[0]} items={transitions} onSelect={onSelect}>\n        {transitions.map(transition => {\n          const [name, description] = translateTransition(transition, isManualVulnerability);\n          return (\n            <SelectListItem item={transition} key={transition} title={description}>\n              {name}\n            </SelectListItem>\n          );\n        })}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n\nfunction translateTransition(transition: string, isManualVulnerability: boolean) {\n  return isManualVulnerability && hasMessage('vulnerability.transition', transition)\n    ? [\n        translate('vulnerability.transition', transition),\n        translate('vulnerability.transition', transition, 'description')\n      ]\n    : [\n        translate('issue.transition', transition),\n        <FormattedMessage\n          key=\"description\"\n          defaultMessage={translate('issue.transition', transition, 'description')}\n          id={`issue.transition.${transition}.description`}\n          values={{\n            community_plug_link: (\n              <a\n                href=\"https://community.sonarsource.com/\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                {translate('issue.transition.community_plug_link')}\n              </a>\n            )\n          }}\n        />\n      ];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { setIssueTransition } from '../../../api/issues';\nimport StatusHelper from '../../shared/StatusHelper';\nimport { updateIssue } from '../actions';\nimport SetTransitionPopup from '../popups/SetTransitionPopup';\n\ninterface Props {\n  hasTransitions: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'fromHotspot' | 'key' | 'resolution' | 'status' | 'transitions' | 'type'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTransition extends React.PureComponent<Props> {\n  setTransition = (transition: string) => {\n    updateIssue(\n      this.props.onChange,\n      setIssueTransition({ issue: this.props.issue.key, transition })\n    );\n    this.toggleSetTransition();\n  };\n\n  toggleSetTransition = (open?: boolean) => {\n    this.props.togglePopup('transition', open);\n  };\n\n  handleClose = () => {\n    this.toggleSetTransition(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    if (this.props.hasTransitions) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.hasTransitions}\n            overlay={\n              <SetTransitionPopup\n                fromHotspot={issue.fromHotspot}\n                onSelect={this.setTransition}\n                transitions={issue.transitions}\n                type={issue.type}\n              />\n            }>\n            <ButtonLink\n              aria-label={translateWithParameters(\n                'issue.transition.status_x_click_to_change',\n                translate('issue.status', issue.status)\n              )}\n              aria-expanded={this.props.isOpen}\n              className=\"issue-action issue-action-with-options js-issue-transition\"\n              onClick={this.toggleSetTransition}>\n              <StatusHelper\n                className=\"issue-meta-label\"\n                resolution={issue.resolution}\n                status={issue.status}\n              />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return (\n      <StatusHelper\n        className=\"issue-meta-label\"\n        resolution={issue.resolution}\n        status={issue.status}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ninterface Props {\n  issue: Pick<T.Issue, 'type'>;\n  onSelect: (type: T.IssueType) => void;\n}\n\nconst TYPES = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n\nexport default function SetTypePopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.type} items={TYPES} onSelect={onSelect}>\n        {TYPES.map(type => (\n          <SelectListItem className=\"display-flex-center\" item={type} key={type}>\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n            {translate('issue.type', type)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { setIssueType } from '../../../api/issues';\nimport { colors } from '../../../app/theme';\nimport { IssueResponse } from '../../../types/issues';\nimport SetTypePopup from '../popups/SetTypePopup';\n\ninterface Props {\n  canSetType: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'type'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueType extends React.PureComponent<Props> {\n  toggleSetType = (open?: boolean) => {\n    this.props.togglePopup('set-type', open);\n  };\n\n  setType = (type: string) => {\n    this.props.setIssueProperty('type', 'set-type', setIssueType, type);\n  };\n\n  handleClose = () => {\n    this.toggleSetType(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetType) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetType}\n            overlay={<SetTypePopup issue={issue} onSelect={this.setType} />}>\n            <ButtonLink\n              aria-label={translateWithParameters(\n                'issue.type.type_x_click_to_change',\n                translate('issue.type', issue.type)\n              )}\n              aria-expanded={this.props.isOpen}\n              className=\"issue-action issue-action-with-options js-issue-set-type\"\n              onClick={this.toggleSetType}>\n              <IssueTypeIcon\n                className=\"little-spacer-right\"\n                fill={colors.baseFontColor}\n                query={issue.type}\n              />\n              {translate('issue.type', issue.type)}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return (\n      <span>\n        <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n        {translate('issue.type', issue.type)}\n      </span>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { IssueResponse } from '../../../types/issues';\nimport { updateIssue } from '../actions';\nimport IssueAssign from './IssueAssign';\nimport IssueCommentAction from './IssueCommentAction';\nimport IssueSeverity from './IssueSeverity';\nimport IssueTags from './IssueTags';\nimport IssueTransition from './IssueTransition';\nimport IssueType from './IssueType';\n\ninterface Props {\n  issue: T.Issue;\n  currentPopup?: string;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\ninterface State {\n  commentAutoTriggered: boolean;\n  commentPlaceholder: string;\n}\n\nexport default class IssueActionsBar extends React.PureComponent<Props, State> {\n  state: State = {\n    commentAutoTriggered: false,\n    commentPlaceholder: ''\n  };\n\n  setIssueProperty = (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => {\n    const { issue } = this.props;\n    if (issue[property] !== value) {\n      const newIssue = { ...issue, [property]: value };\n      updateIssue(\n        this.props.onChange,\n        apiCall({ issue: issue.key, [property]: value }),\n        issue,\n        newIssue\n      );\n    }\n    this.props.togglePopup(popup, false);\n  };\n\n  toggleComment = (open: boolean | undefined, placeholder = '', autoTriggered = false) => {\n    this.setState({\n      commentPlaceholder: placeholder,\n      commentAutoTriggered: autoTriggered\n    });\n    this.props.togglePopup('comment', open);\n  };\n\n  handleTransition = (issue: T.Issue) => {\n    this.props.onChange(issue);\n    if (\n      issue.resolution === 'FALSE-POSITIVE' ||\n      (issue.resolution === 'WONTFIX' && issue.type !== 'SECURITY_HOTSPOT')\n    ) {\n      this.toggleComment(true, translate('issue.comment.explain_why'), true);\n    }\n  };\n\n  render() {\n    const { issue } = this.props;\n    const canAssign = issue.actions.includes('assign');\n    const canComment = issue.actions.includes('comment');\n    const canSetSeverity = issue.actions.includes('set_severity');\n    const canSetType = issue.actions.includes('set_type');\n    const canSetTags = issue.actions.includes('set_tags');\n    const hasTransitions = issue.transitions && issue.transitions.length > 0;\n    const isSecurityHotspot = issue.type === 'SECURITY_HOTSPOT';\n\n    return (\n      <div className=\"issue-actions\">\n        <div className=\"issue-meta-list\">\n          <div className=\"issue-meta\">\n            <IssueType\n              canSetType={canSetType}\n              isOpen={this.props.currentPopup === 'set-type' && canSetType}\n              issue={issue}\n              setIssueProperty={this.setIssueProperty}\n              togglePopup={this.props.togglePopup}\n            />\n          </div>\n          {!isSecurityHotspot && (\n            <div className=\"issue-meta\">\n              <IssueSeverity\n                canSetSeverity={canSetSeverity}\n                isOpen={this.props.currentPopup === 'set-severity' && canSetSeverity}\n                issue={issue}\n                setIssueProperty={this.setIssueProperty}\n                togglePopup={this.props.togglePopup}\n              />\n            </div>\n          )}\n          <div className=\"issue-meta\">\n            <IssueTransition\n              hasTransitions={hasTransitions}\n              isOpen={this.props.currentPopup === 'transition' && hasTransitions}\n              issue={issue}\n              onChange={this.handleTransition}\n              togglePopup={this.props.togglePopup}\n            />\n          </div>\n          <div className=\"issue-meta\">\n            <IssueAssign\n              canAssign={canAssign}\n              isOpen={this.props.currentPopup === 'assign' && canAssign}\n              issue={issue}\n              onAssign={this.props.onAssign}\n              togglePopup={this.props.togglePopup}\n            />\n          </div>\n          {!isSecurityHotspot && issue.effort && (\n            <div className=\"issue-meta\">\n              <span className=\"issue-meta-label\">\n                {translateWithParameters('issue.x_effort', issue.effort)}\n              </span>\n            </div>\n          )}\n          {canComment && (\n            <IssueCommentAction\n              commentAutoTriggered={this.state.commentAutoTriggered}\n              commentPlaceholder={this.state.commentPlaceholder}\n              currentPopup={this.props.currentPopup}\n              issueKey={issue.key}\n              onChange={this.props.onChange}\n              toggleComment={this.toggleComment}\n            />\n          )}\n        </div>\n        <div className=\"list-inline\">\n          <div className=\"issue-meta js-issue-tags\">\n            <IssueTags\n              canSetTags={canSetTags}\n              isOpen={this.props.currentPopup === 'edit-tags' && canSetTags}\n              issue={issue}\n              onChange={this.props.onChange}\n              togglePopup={this.props.togglePopup}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  onDelete: () => void;\n}\n\nexport default function CommentDeletePopup({ onDelete }: Props) {\n  return (\n    <DropdownOverlay placement={PopupPlacement.BottomRight}>\n      <div className=\"menu is-container\">\n        <div className=\"spacer-bottom\">{translate('issue.comment.delete_confirm_message')}</div>\n        <Button className=\"button-red\" onClick={onDelete}>\n          {translate('delete')}\n        </Button>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DeleteButton, EditButton } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { sanitizeString } from '../../../helpers/sanitize';\nimport Avatar from '../../ui/Avatar';\nimport CommentDeletePopup from '../popups/CommentDeletePopup';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  comment: T.IssueComment;\n  onDelete: (comment: string) => void;\n  onEdit: (comment: string, text: string) => void;\n}\n\ninterface State {\n  openPopup: string;\n}\n\nexport default class IssueCommentLine extends React.PureComponent<Props, State> {\n  state: State = {\n    openPopup: ''\n  };\n\n  handleEdit = (text: string) => {\n    this.props.onEdit(this.props.comment.key, text);\n    this.toggleEditPopup(false);\n  };\n\n  handleDelete = () => {\n    this.props.onDelete(this.props.comment.key);\n    this.toggleDeletePopup(false);\n  };\n\n  togglePopup = (popupName: string, force?: boolean) => {\n    this.setState(prevState => {\n      if (prevState.openPopup !== popupName && force !== false) {\n        return { openPopup: popupName };\n      } else if (prevState.openPopup === popupName && force !== true) {\n        return { openPopup: '' };\n      }\n      return prevState;\n    });\n  };\n\n  toggleDeletePopup = (force?: boolean) => {\n    this.togglePopup('delete', force);\n  };\n\n  toggleEditPopup = (force?: boolean) => {\n    this.togglePopup('edit', force);\n  };\n\n  closePopups = () => {\n    this.setState({ openPopup: '' });\n  };\n\n  render() {\n    const { comment } = this.props;\n    const author = comment.authorName || comment.author;\n    const displayName =\n      comment.authorActive === false && author\n        ? translateWithParameters('user.x_deleted', author)\n        : author;\n    return (\n      <div className=\"issue-comment\">\n        <div className=\"issue-comment-author\" title={displayName}>\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={comment.authorAvatar}\n            name={author}\n            size={16}\n          />\n          {displayName}\n        </div>\n        <div\n          className=\"issue-comment-text markdown\"\n          // eslint-disable-next-line react/no-danger\n          dangerouslySetInnerHTML={{ __html: sanitizeString(comment.htmlText) }}\n        />\n        <div className=\"issue-comment-age\">\n          <span className=\"a11y-hidden\">{translate('issue.comment.posted_on')}</span>\n          <DateFromNow date={comment.createdAt} />\n        </div>\n        <div className=\"issue-comment-actions\">\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                closeOnClickOutside={false}\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'edit'}\n                overlay={\n                  <CommentPopup\n                    comment={comment}\n                    onComment={this.handleEdit}\n                    placeholder=\"\"\n                    placement={PopupPlacement.BottomRight}\n                    toggleComment={this.toggleEditPopup}\n                  />\n                }>\n                <EditButton\n                  aria-label={translate('issue.comment.edit')}\n                  className=\"js-issue-comment-edit button-small\"\n                  onClick={this.toggleEditPopup}\n                />\n              </Toggler>\n            </div>\n          )}\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'delete'}\n                overlay={<CommentDeletePopup onDelete={this.handleDelete} />}>\n                <DeleteButton\n                  aria-label={translate('issue.comment.delete')}\n                  className=\"js-issue-comment-delete button-small\"\n                  onClick={this.toggleDeletePopup}\n                />\n              </Toggler>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum RuleStatus {\n  Ready = 'READY',\n  Beta = 'BETA',\n  Deprecated = 'DEPRECATED',\n  Removed = 'REMOVED'\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getIssueChangelog } from '../../../api/issues';\nimport Avatar from '../../ui/Avatar';\nimport IssueChangelogDiff from '../components/IssueChangelogDiff';\n\ninterface Props {\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n}\n\ninterface State {\n  changelog: T.IssueChangelog[];\n}\n\nexport default class ChangelogPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { changelog: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadChangelog();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadChangelog() {\n    getIssueChangelog(this.props.issue.key).then(\n      ({ changelog }) => {\n        if (this.mounted) {\n          this.setState({ changelog });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const { issue } = this.props;\n    const { author } = issue;\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <div className=\"menu is-container issue-changelog\">\n          <table className=\"spaced\">\n            <tbody>\n              <tr>\n                <td className=\"thin text-left text-top nowrap\">\n                  <DateTimeFormatter date={issue.creationDate} />\n                </td>\n                <td className=\"text-left text-top\">\n                  {author ? `${translate('created_by')} ${author}` : translate('created')}\n                </td>\n              </tr>\n\n              {this.state.changelog.map((item, idx) => {\n                const userName = item.userName || item.user;\n\n                return (\n                  <tr key={idx}>\n                    <td className=\"thin text-left text-top nowrap\">\n                      <DateTimeFormatter date={item.creationDate} />\n                    </td>\n                    <td className=\"text-left text-top\">\n                      {userName && (\n                        <p>\n                          <Avatar\n                            className=\"little-spacer-right\"\n                            hash={item.avatar}\n                            name={userName}\n                            size={16}\n                          />\n                          {item.isUserActive\n                            ? userName\n                            : translateWithParameters('user.x_deleted', userName)}\n                        </p>\n                      )}\n                      {item.diffs.map(diff => (\n                        <IssueChangelogDiff diff={diff} key={diff.key} />\n                      ))}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport ChangelogPopup from '../popups/ChangelogPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n  creationDate: string;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueChangelog extends React.PureComponent<Props> {\n  toggleChangelog = (open?: boolean) => {\n    this.props.togglePopup('changelog', open);\n  };\n\n  handleClick = () => {\n    this.toggleChangelog();\n  };\n\n  handleClose = () => {\n    this.toggleChangelog(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<ChangelogPopup issue={this.props.issue} />}>\n          <ButtonLink\n            aria-expanded={this.props.isOpen}\n            className=\"issue-action issue-action-with-options js-issue-show-changelog\"\n            onClick={this.handleClick}>\n            <span className=\"issue-meta-label\">\n              <DateFromNow date={this.props.creationDate} />\n            </span>\n            <DropdownIcon className=\"little-spacer-left\" />\n          </ButtonLink>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { RuleStatus } from '../../../types/rules';\nimport DocumentationTooltip from '../../common/DocumentationTooltip';\nimport { WorkspaceContextShape } from '../../workspace/context';\n\nexport interface IssueMessageProps {\n  engine?: string;\n  engineName?: string;\n  manualVulnerability: boolean;\n  message: string;\n  onOpenRule: WorkspaceContextShape['openRule'];\n  ruleKey: string;\n  ruleStatus?: RuleStatus;\n}\n\nexport default function IssueMessage(props: IssueMessageProps) {\n  const { engine, engineName, manualVulnerability, message, ruleKey, ruleStatus } = props;\n  const ruleEngine = engineName ? engineName : engine;\n\n  return (\n    <div className=\"issue-message break-word\">\n      <span className=\"spacer-right\">{message}</span>\n      <ButtonLink\n        aria-label={translate('issue.why_this_issue.long')}\n        className=\"issue-see-rule spacer-right text-baseline\"\n        onClick={() =>\n          props.onOpenRule({\n            key: ruleKey\n          })\n        }>\n        {translate('issue.why_this_issue')}\n      </ButtonLink>\n\n      {ruleStatus && (ruleStatus === RuleStatus.Deprecated || ruleStatus === RuleStatus.Removed) && (\n        <DocumentationTooltip\n          className=\"spacer-left\"\n          content={translate('rules.status', ruleStatus, 'help')}\n          links={[\n            {\n              href: '/documentation/user-guide/rules/',\n              label: translateWithParameters('see_x', translate('rules'))\n            }\n          ]}>\n          <span className=\"spacer-right badge badge-error\">\n            {translate('rules.status', ruleStatus)}\n          </span>\n        </DocumentationTooltip>\n      )}\n\n      {ruleEngine && (\n        <Tooltip overlay={translateWithParameters('issue.from_external_rule_engine', ruleEngine)}>\n          <div className=\"badge spacer-right text-baseline\">{ruleEngine}</div>\n        </Tooltip>\n      )}\n      {manualVulnerability && (\n        <Tooltip overlay={translate('issue.manual_vulnerability.description')}>\n          <div className=\"badge spacer-right text-baseline\">\n            {translate('issue.manual_vulnerability')}\n          </div>\n        </Tooltip>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { fileFromPath, limitComponentName } from 'sonar-ui-common/helpers/path';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport StatusHelper from '../../shared/StatusHelper';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  issue: T.Issue;\n  onFilter: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesPopup extends React.PureComponent<Props> {\n  handleSelect = (property: string) => {\n    this.props.onFilter(property, this.props.issue);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const items = [\n      'type',\n      'severity',\n      'status',\n      'resolution',\n      'assignee',\n      'rule',\n      ...(issue.tags || []).map(tag => `tag###${tag}`),\n      'project',\n      issue.subProject ? 'module' : undefined,\n      'file'\n    ].filter(item => item) as string[];\n\n    const assignee = issue.assigneeName || issue.assignee;\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        <header className=\"menu-search\">\n          <h6>{translate('issue.filter_similar_issues')}</h6>\n        </header>\n\n        <SelectList\n          className=\"issues-similar-issues-menu\"\n          currentItem={items[0]}\n          items={items}\n          onSelect={this.handleSelect}>\n          <SelectListItem className=\"display-flex-center\" item=\"type\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n            {translate('issue.type', issue.type)}\n          </SelectListItem>\n\n          <SelectListItem item=\"severity\">\n            <SeverityHelper className=\"display-flex-center\" severity={issue.severity} />\n          </SelectListItem>\n\n          <SelectListItem item=\"status\">\n            <StatusHelper\n              className=\"display-flex-center\"\n              resolution={undefined}\n              status={issue.status}\n            />\n          </SelectListItem>\n\n          <SelectListItem item=\"resolution\">\n            {issue.resolution != null\n              ? translate('issue.resolution', issue.resolution)\n              : translate('unresolved')}\n          </SelectListItem>\n\n          <SelectListItem item=\"assignee\">\n            {assignee ? (\n              <span>\n                {translate('assigned_to')}\n                <Avatar\n                  className=\"little-spacer-left little-spacer-right\"\n                  hash={issue.assigneeAvatar}\n                  name={assignee}\n                  size={16}\n                />\n                {issue.assigneeActive === false\n                  ? translateWithParameters('user.x_deleted', assignee)\n                  : assignee}\n              </span>\n            ) : (\n              translate('unassigned')\n            )}\n          </SelectListItem>\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"rule\">{limitComponentName(issue.ruleName)}</SelectListItem>\n\n          {issue.tags != null &&\n            issue.tags.map(tag => (\n              <SelectListItem item={`tag###${tag}`} key={`tag###${tag}`}>\n                <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                <span className=\"text-middle\">{tag}</span>\n              </SelectListItem>\n            ))}\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"project\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n            {issue.projectName}\n          </SelectListItem>\n\n          {issue.subProject != null && (\n            <SelectListItem item=\"module\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n              {issue.subProjectName}\n            </SelectListItem>\n          )}\n\n          <SelectListItem item=\"file\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier={issue.componentQualifier} />\n            {fileFromPath(issue.componentLongName)}\n          </SelectListItem>\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport FilterIcon from 'sonar-ui-common/components/icons/FilterIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SimilarIssuesPopup from '../popups/SimilarIssuesPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  togglePopup: (popup: string, show?: boolean) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesFilter extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    this.togglePopup(false);\n    if (this.props.onFilter) {\n      this.props.onFilter(property, issue);\n    }\n  };\n\n  togglePopup = (open?: boolean) => {\n    this.props.togglePopup('similarIssues', open);\n  };\n\n  handleClose = () => {\n    this.togglePopup(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<SimilarIssuesPopup issue={this.props.issue} onFilter={this.handleFilter} />}>\n          <ButtonLink\n            aria-label={translate('issue.filter_similar_issues')}\n            aria-expanded={this.props.isOpen}\n            className=\"issue-action issue-action-with-options js-issue-filter\"\n            onClick={this.togglePopup}\n            title={translate('issue.filter_similar_issues')}>\n            <FilterIcon className=\"icon-half-transparent\" />\n            <DropdownIcon className=\"icon-half-transparent\" />\n          </ButtonLink>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport LinkIcon from 'sonar-ui-common/components/icons/LinkIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { getComponentIssuesUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { RuleStatus } from '../../../types/rules';\nimport LocationIndex from '../../common/LocationIndex';\nimport { WorkspaceContext } from '../../workspace/context';\nimport IssueChangelog from './IssueChangelog';\nimport IssueMessage from './IssueMessage';\nimport SimilarIssuesFilter from './SimilarIssuesFilter';\n\nexport interface IssueTitleBarProps {\n  branchLike?: BranchLike;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default function IssueTitleBar(props: IssueTitleBarProps) {\n  const { issue } = props;\n  const hasSimilarIssuesFilter = props.onFilter != null;\n\n  const locationsCount =\n    issue.secondaryLocations.length +\n    issue.flows.reduce((sum, locations) => sum + locations.length, 0);\n\n  const locationsBadge = (\n    <Tooltip\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(locationsCount, 'INT')\n      )}>\n      <LocationIndex>{locationsCount}</LocationIndex>\n    </Tooltip>\n  );\n\n  const displayLocations = props.displayLocationsCount && locationsCount > 0;\n\n  const issueUrl = getComponentIssuesUrl(issue.project, {\n    ...getBranchLikeQuery(props.branchLike),\n    issues: issue.key,\n    open: issue.key,\n    types: issue.type === 'SECURITY_HOTSPOT' ? issue.type : undefined\n  });\n\n  return (\n    <div className=\"issue-row\">\n      <WorkspaceContext.Consumer>\n        {({ externalRulesRepoNames, openRule }) => (\n          <IssueMessage\n            engine={issue.externalRuleEngine}\n            engineName={\n              issue.externalRuleEngine &&\n              externalRulesRepoNames &&\n              externalRulesRepoNames[issue.externalRuleEngine]\n            }\n            manualVulnerability={issue.fromHotspot && issue.type === 'VULNERABILITY'}\n            message={issue.message}\n            onOpenRule={openRule}\n            ruleKey={issue.rule}\n            ruleStatus={issue.ruleStatus as RuleStatus | undefined}\n          />\n        )}\n      </WorkspaceContext.Consumer>\n\n      <div className=\"issue-row-meta\">\n        <div className=\"issue-meta-list\">\n          <div className=\"issue-meta\">\n            <IssueChangelog\n              creationDate={issue.creationDate}\n              isOpen={props.currentPopup === 'changelog'}\n              issue={issue}\n              togglePopup={props.togglePopup}\n            />\n          </div>\n          {issue.textRange != null && (\n            <div className=\"issue-meta\">\n              <span className=\"issue-meta-label\" title={translate('line_number')}>\n                L{issue.textRange.endLine}\n              </span>\n            </div>\n          )}\n          {displayLocations && (\n            <div className=\"issue-meta\">\n              {props.displayLocationsLink ? (\n                <Link target=\"_blank\" to={issueUrl}>\n                  {locationsBadge}\n                </Link>\n              ) : (\n                locationsBadge\n              )}\n            </div>\n          )}\n          <div className=\"issue-meta\">\n            <Link\n              className=\"js-issue-permalink link-no-underline\"\n              target=\"_blank\"\n              title={translate('permalink')}\n              to={issueUrl}>\n              <LinkIcon />\n            </Link>\n          </div>\n          {hasSimilarIssuesFilter && (\n            <div className=\"issue-meta\">\n              <SimilarIssuesFilter\n                isOpen={props.currentPopup === 'similarIssues'}\n                issue={issue}\n                onFilter={props.onFilter}\n                togglePopup={props.togglePopup}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { deleteIssueComment, editIssueComment } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport IssueActionsBar from './components/IssueActionsBar';\nimport IssueCommentLine from './components/IssueCommentLine';\nimport IssueTitleBar from './components/IssueTitleBar';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  selected: boolean;\n  togglePopup: (popup: string, show: boolean | void) => void;\n}\n\nexport default class IssueView extends React.PureComponent<Props> {\n  handleCheck = () => {\n    if (this.props.onCheck) {\n      this.props.onCheck(this.props.issue.key);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (!isClickable(event.target as HTMLElement) && this.props.onClick) {\n      event.preventDefault();\n      this.props.onClick(this.props.issue.key);\n    }\n  };\n\n  editComment = (comment: string, text: string) => {\n    updateIssue(this.props.onChange, editIssueComment({ comment, text }));\n  };\n\n  deleteComment = (comment: string) => {\n    updateIssue(this.props.onChange, deleteIssueComment({ comment }));\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const hasCheckbox = this.props.onCheck != null;\n\n    const issueClass = classNames('issue', {\n      hotspot: issue.type === 'SECURITY_HOTSPOT',\n      'issue-with-checkbox': hasCheckbox,\n      selected: this.props.selected\n    });\n\n    return (\n      <div className={issueClass} data-issue={issue.key} onClick={this.handleClick} role=\"group\">\n        <IssueTitleBar\n          branchLike={this.props.branchLike}\n          currentPopup={this.props.currentPopup}\n          displayLocationsCount={this.props.displayLocationsCount}\n          displayLocationsLink={this.props.displayLocationsLink}\n          issue={issue}\n          onFilter={this.props.onFilter}\n          togglePopup={this.props.togglePopup}\n        />\n        <IssueActionsBar\n          currentPopup={this.props.currentPopup}\n          issue={issue}\n          onAssign={this.props.onAssign}\n          onChange={this.props.onChange}\n          togglePopup={this.props.togglePopup}\n        />\n        {issue.comments && issue.comments.length > 0 && (\n          <div className=\"issue-comments\">\n            {issue.comments.map(comment => (\n              <IssueCommentLine\n                comment={comment}\n                key={comment.key}\n                onDelete={this.deleteComment}\n                onEdit={this.editComment}\n              />\n            ))}\n          </div>\n        )}\n        {hasCheckbox && (\n          <>\n            <Checkbox\n              checked={this.props.checked || false}\n              className=\"issue-checkbox-container\"\n              onCheck={this.handleCheck}\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction isClickable(node: HTMLElement | undefined | null): boolean {\n  if (!node) {\n    return false;\n  }\n  const clickableTags = ['A', 'BUTTON', 'INPUT', 'TEXTAREA'];\n  const tagName = (node.tagName || '').toUpperCase();\n  return clickableTags.includes(tagName) || isClickable(node.parentElement);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport * as React from 'react';\nimport { setIssueAssignee } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport './Issue.css';\nimport IssueView from './IssueView';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup?: string;\n  selected: boolean;\n}\n\nexport default class Issue extends React.PureComponent<Props> {\n  static defaultProps = {\n    selected: false\n  };\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUpdate(nextProps: Props) {\n    if (!nextProps.selected && this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.selected && this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  bindShortcuts() {\n    key('f', 'issues', () => {\n      this.togglePopup('transition');\n      return false;\n    });\n    key('a', 'issues', () => {\n      this.togglePopup('assign');\n      return false;\n    });\n    key('m', 'issues', () => {\n      if (this.props.issue.actions.includes('assign')) {\n        this.handleAssignement('_me');\n      }\n      return false;\n    });\n    key('i', 'issues', () => {\n      this.togglePopup('set-severity');\n      return false;\n    });\n    key('c', 'issues', () => {\n      this.togglePopup('comment');\n      return false;\n    });\n    key('t', 'issues', () => {\n      this.togglePopup('edit-tags');\n      return false;\n    });\n    key('space', 'issues', () => {\n      if (this.props.onCheck) {\n        this.props.onCheck(this.props.issue.key);\n        return false;\n      }\n      return undefined;\n    });\n  }\n\n  unbindShortcuts() {\n    key.unbind('f', 'issues');\n    key.unbind('a', 'issues');\n    key.unbind('m', 'issues');\n    key.unbind('i', 'issues');\n    key.unbind('c', 'issues');\n    key.unbind('space', 'issues');\n    key.unbind('t', 'issues');\n  }\n\n  togglePopup = (popupName: string, open?: boolean) => {\n    this.props.onPopupToggle(this.props.issue.key, popupName, open);\n  };\n\n  handleAssignement = (login: string) => {\n    const { issue } = this.props;\n    if (issue.assignee !== login) {\n      updateIssue(this.props.onChange, setIssueAssignee({ issue: issue.key, assignee: login }));\n    }\n    this.togglePopup('assign', false);\n  };\n\n  render() {\n    return (\n      <IssueView\n        branchLike={this.props.branchLike}\n        checked={this.props.checked}\n        currentPopup={this.props.openPopup}\n        displayLocationsCount={this.props.displayLocationsCount}\n        displayLocationsLink={this.props.displayLocationsLink}\n        issue={this.props.issue}\n        onAssign={this.handleAssignement}\n        onChange={this.props.onChange}\n        onCheck={this.props.onCheck}\n        onClick={this.props.onClick}\n        onFilter={this.props.onFilter}\n        selected={this.props.selected}\n        togglePopup={this.togglePopup}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  diff: T.IssueChangelogDiff;\n}\n\nexport default function IssueChangelogDiff({ diff }: Props) {\n  if (diff.key === 'file') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.file_move',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (['from_long_branch', 'from_branch'].includes(diff.key)) {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'from_short_branch') {\n    // Applies to both legacy short lived branch and pull request\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_non_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'line') {\n    return <p>{translateWithParameters('issue.changelog.line_removed_X', diff.oldValue || '')}</p>;\n  }\n\n  let message;\n  if (diff.newValue != null) {\n    let { newValue } = diff;\n    if (diff.key === 'effort') {\n      newValue = formatMeasure(diff.newValue, 'WORK_DUR');\n    }\n    message = translateWithParameters(\n      'issue.changelog.changed_to',\n      translate('issue.changelog.field', diff.key),\n      newValue\n    );\n  } else {\n    message = translateWithParameters(\n      'issue.changelog.removed',\n      translate('issue.changelog.field', diff.key)\n    );\n  }\n\n  if (diff.oldValue != null) {\n    let { oldValue } = diff;\n    if (diff.key === 'effort') {\n      oldValue = formatMeasure(diff.oldValue, 'WORK_DUR');\n    }\n    message += ` (${translateWithParameters('issue.changelog.was', oldValue)})`;\n  }\n  return <p>{message}</p>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationMessage.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  selected: boolean;\n}\n\nexport default function LocationMessage(props: Props) {\n  return (\n    <div className={classNames('location-message', { selected: props.selected })}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { ButtonIcon } from 'sonar-ui-common/components/controls/buttons';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport ExpandSnippetIcon from 'sonar-ui-common/components/icons/ExpandSnippetIcon';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { collapsedDirFromPath, fileFromPath } from 'sonar-ui-common/helpers/path';\nimport { getPathUrlAsString } from 'sonar-ui-common/helpers/urls';\nimport { getBranchLikeQuery } from '../../helpers/branch-like';\nimport { getBranchLikeUrl, getComponentIssuesUrl } from '../../helpers/urls';\nimport { BranchLike } from '../../types/branch-like';\nimport { ComponentQualifier } from '../../types/component';\nimport './SourceViewerHeaderSlim.css';\n\nexport interface Props {\n  branchLike: BranchLike | undefined;\n  expandable?: boolean;\n  displayProjectName?: boolean;\n  linkToProject?: boolean;\n  loading?: boolean;\n  onExpand?: () => void;\n  sourceViewerFile: T.SourceViewerFile;\n}\n\nexport default function SourceViewerHeaderSlim(props: Props) {\n  const {\n    branchLike,\n    expandable,\n    displayProjectName = true,\n    linkToProject = true,\n    loading,\n    onExpand,\n    sourceViewerFile\n  } = props;\n  const { measures, path, project, projectName, q, subProject, subProjectName } = sourceViewerFile;\n\n  const projectNameLabel = (\n    <>\n      <QualifierIcon qualifier={ComponentQualifier.Project} /> <span>{projectName}</span>\n    </>\n  );\n\n  return (\n    <div className=\"source-viewer-header-slim display-flex-row display-flex-space-between\">\n      <div className=\"display-flex-center flex-1\">\n        {displayProjectName && (\n          <div className=\"spacer-right\">\n            {linkToProject ? (\n              <a\n                className=\"link-with-icon\"\n                href={getPathUrlAsString(getBranchLikeUrl(project, branchLike))}>\n                {projectNameLabel}\n              </a>\n            ) : (\n              projectNameLabel\n            )}\n          </div>\n        )}\n\n        {subProject !== undefined && (\n          <>\n            <QualifierIcon qualifier={ComponentQualifier.SubProject} />{' '}\n            <span className=\"spacer-right\">{subProjectName}</span>\n          </>\n        )}\n\n        <div className=\"spacer-right\">\n          <QualifierIcon qualifier={q} /> <span>{collapsedDirFromPath(path)}</span>\n          <span className=\"component-name-file\">{fileFromPath(path)}</span>\n        </div>\n\n        <div className=\"spacer-right\">\n          <ClipboardIconButton className=\"button-link link-no-underline\" copyValue={path} />\n        </div>\n      </div>\n\n      {measures.issues !== undefined && (\n        <div\n          className={classNames('flex-0 big-spacer-left', {\n            'little-spacer-right': !expandable || loading\n          })}>\n          <Link\n            to={getComponentIssuesUrl(project, {\n              ...getBranchLikeQuery(branchLike),\n              files: path,\n              resolved: 'false'\n            })}>\n            {translate('source_viewer.view_all_issues')}\n          </Link>\n        </div>\n      )}\n\n      {expandable && (\n        <DeferredSpinner className=\"little-spacer-right\" loading={loading}>\n          <div className=\"flex-0 big-spacer-left\">\n            <ButtonIcon className=\"js-actions\" onClick={onExpand}>\n              <ExpandSnippetIcon />\n            </ButtonIcon>\n          </div>\n        </DeferredSpinner>\n      )}\n    </div>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./SourceViewerHeaderSlim.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".source-viewer-header-slim{padding:4px 10px;border-bottom:1px solid #cdcdcd;background-color:#f3f3f3;align-items:center;min-height:25px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Line.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".source-line:hover .source-line-coverage,.source-line:hover .source-line-duplications,.source-line:hover .source-line-duplications-extra,.source-line:hover .source-line-issues,.source-line:hover .source-line-number,.source-line:hover .source-line-scm{border-color:#e9e9e9;background-color:#e9e9e9}.source-line:hover .source-line-code{background-color:#f5f5f5}.source-line [role=button]{cursor:pointer}.source-line-highlighted .source-line-coverage,.source-line-highlighted .source-line-duplications,.source-line-highlighted .source-line-duplications-extra,.source-line-highlighted .source-line-issues,.source-line-highlighted .source-line-number,.source-line-highlighted .source-line-scm,.source-line-highlighted:hover .source-line-coverage,.source-line-highlighted:hover .source-line-duplications,.source-line-highlighted:hover .source-line-duplications-extra,.source-line-highlighted:hover .source-line-issues,.source-line-highlighted:hover .source-line-number,.source-line-highlighted:hover .source-line-scm{border-color:#c4dfec!important;background-color:#c4dfec}.source-line-highlighted .source-line-code,.source-line-highlighted:hover .source-line-code{background-color:#d9edf7}.source-line-filtered .source-line-code{background-color:#fbf3d5!important}.source-line-filtered.source-line-highlighted .source-line-code,.source-line-filtered.source-line-highlighted:hover .source-line-code{background-color:#cdd9c4!important}.source-line-filtered.source-line-filtered-dark .source-line-code{background-color:#f9ebb7!important}.source-line-filtered.source-line-filtered-dark:hover .source-line-code,.source-line-filtered:hover .source-line-code{background-color:#f1e8cb!important}.source-line-last .source-line-code{padding-bottom:160px}.source-line-number,.source-line-scm,.source-viewer pre{line-height:18px;font-family:Consolas,Ubuntu Mono,Liberation Mono,Menlo,Courier,monospace;font-size:12px}.source-line-code{position:relative;padding:0 10px}.source-line-code pre{float:left;word-wrap:break-word;white-space:pre-wrap}.source-line-code .issue-list{margin-left:-10px;margin-right:-10px}.source-line-code-inner{min-height:18px}.source-line-code-inner:after,.source-line-code-inner:before{display:table;content:\\\"\\\";line-height:0}.source-line-code-inner:after{clear:both}.source-line-code-inner pre{-moz-tab-size:4;tab-size:4}.source-line-code-issue{display:inline-block;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAGCAYAAAAPDoR2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1M0M2Rjk4M0M3QUYxMUUzODkzRUREMUM5OTNDMjY4QSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1M0M2Rjk4NEM3QUYxMUUzODkzRUREMUM5OTNDMjY4QSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjUzQzZGOTgxQzdBRjExRTM4OTNFREQxQzk5M0MyNjhBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjUzQzZGOTgyQzdBRjExRTM4OTNFREQxQzk5M0MyNjhBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bcqJtQAAAEhJREFUeNpi+G+swwDGDAwgbAWlwZiJAQFCgfgwEIfDRaC67ID4NRDnQ2kQnwFZwgFqnANMAQOUYY9sF0wBiCGH5CBkrAgQYACuWi4sSGW8yAAAAABJRU5ErkJggg==);background-repeat:repeat-x;background-size:4px;background-position:bottom}.source-meta{position:relative;vertical-align:top;width:1px;background-clip:padding-box;-webkit-user-select:none;-ms-user-select:none;user-select:none}.source-meta:focus{outline:none}.source-line-number{min-width:18px;padding:0 10px;background-color:#f3f3f3;color:#666;text-align:right}.source-line-issues{position:relative;padding:0 2px;background-color:#f3f3f3;white-space:nowrap}.source-line-with-issues svg{padding-right:2px;vertical-align:middle}.source-line-issues-counter{position:absolute;left:17px;line-height:8px;font-size:8px;z-index:900}.source-line-coverage,.source-line-duplications,.source-line-duplications-extra{background-color:#f3f3f3}.source-line-duplications-extra{display:none}.source-line-scm{padding:0 5px;background-color:#f3f3f3}.source-line-scm .dropdown{display:block}.source-line-scm [role=button]{height:18px}.source-line-scm-inner{max-width:40px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.source-line-bar{width:5px;height:18px}.source-line-bar:focus{outline:none}.source-line-covered{background-color:#b4dd78!important}.source-line-partially-covered,.source-line-uncovered{background-color:#a4030f!important}.source-line-partially-covered{background-image:repeating-linear-gradient(45deg,hsla(0,0%,100%,.5) 4px,transparent 0,transparent 8px,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,.5) 12px,transparent 0,transparent 16px,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,.5) 20px)!important}.source-line-duplicated{background-color:#797979!important}.source-viewer-bubble-popup a{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:13px;text-align:left;-webkit-user-select:text;-ms-user-select:text;user-select:text;border-bottom:none;transition:none;color:unset}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".location-index{position:relative;display:inline-block;vertical-align:top;line-height:16px;padding-left:6px;padding-right:6px;border-radius:2px;background-color:#d18582;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;transition:background-color .3s ease;-webkit-user-select:none;-ms-user-select:none;user-select:none}.location-index.selected{background-color:#a4030f}.location-index.muted{background-color:#cdcdcd}.location-index.is-leading:first-child{margin-left:0}.location-index.is-leading:not(:first-child){margin-left:-22px}.location-index[tabindex]{cursor:pointer}.location-index[tabindex]:hover,a:hover>.location-index{background-color:#a4030f}.location-index[tabindex]:focus{outline:none}.source-line-code-inner .location-index{line-height:16px;margin:1px 4px}.source-line-code-inner .location-index+.location-index{margin-left:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".location-message{display:inline-block;vertical-align:top;line-height:16px;padding:0 6px;border-radius:2px;background-color:#9e9e9e;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;text-overflow:ellipsis;overflow:hidden;transition:background-color .3s ease}.location-message.selected{background-color:#475760}.location-index+.location-message{margin-left:4px}.location-index>.location-message{display:none;position:absolute;bottom:calc(100% + 4px);left:0}.location-index:hover>.location-message{display:block}.location-index>.location-message:after{position:absolute;bottom:-5px;left:4px;width:0;height:0;border-top:5px solid #475760;border-left:5px solid transparent;border-right:5px solid transparent;content:\\\"\\\"}.source-line-code .location-message{padding-top:2px;padding-bottom:2px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".issue{position:relative;padding-top:8px;padding-bottom:8px;background-color:#f2dede;transition:all .3s ease,border 0s ease}.issue.hotspot{background-color:#eeeff4}.issue.selected{box-shadow:none;outline:none;border:2px solid #4b9fd5!important}.issue+.issue,.issue-container+.issue-container{margin-top:5px}.issue.selected+.issue{border-top-color:transparent}.issue-row{display:flex;margin-bottom:5px}.issue-row-meta{flex-grow:0;padding-right:5px;white-space:nowrap}.issue-message{flex-grow:1;padding-left:8px;padding-right:8px;line-height:18px;font-size:13px;font-weight:600;text-overflow:ellipsis}.issue-actions{justify-content:space-between;flex-wrap:wrap;padding-left:8px}.issue-actions,.issue-meta-list{display:flex;align-items:center}.issue-meta{line-height:16px;font-size:12px}.issue-meta+.issue-meta{margin-left:8px}.issue-meta-label{display:inline-block;vertical-align:top;max-width:180px;line-height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.issue-see-rule{border-bottom:none;font-size:12px}.issue-changelog{width:450px;max-height:320px;overflow:auto;white-space:normal}.issue-comments{margin-top:5px;padding-left:8px;font-size:12px}.issue-comment{display:flex}.issue-comment+.issue-comment{margin-top:4px}.issue-comment-author{max-width:130px;font-weight:600;overflow:hidden;text-overflow:ellipsis}.issue-comment-age,.issue-comment-author{flex-shrink:0;line-height:18px;color:#666;white-space:nowrap}.issue-comment-text{flex:1;min-width:0;margin-left:5px;margin-right:5px;line-height:18px;line-height:1.5;overflow:hidden;outline:none}.issue-comment-text.markdown pre{float:none;height:auto;margin:0;padding:8px;background-color:#e6e6e6;border:none;border-radius:3px}.issue-comment-text.markdown br~pre{margin-top:8px}.issue-comment-actions{flex-shrink:0;padding-left:5px;line-height:18px;white-space:nowrap}.issue-comment-bubble-popup{width:440px;font-size:12px}.issue-comment-form-text textarea{width:100%;max-width:100%}.issue-comment-form-footer{margin-top:5px;line-height:22px}.issue-comment-form-footer:after,.issue-comment-form-footer:before{display:table;content:\\\"\\\";line-height:0}.issue-comment-form-footer:after{clear:both}.issue-comment-form-actions{float:right}.issue-comment-form-tips{float:left}.issue-with-checkbox{padding-left:24px}.issue-with-checkbox .issue-checkbox-container{display:flex;justify-content:center;align-items:center}.issue-checkbox-container{display:none;position:absolute;width:28px;top:0;bottom:0;left:0;border:none}.issue-checkbox-container:hover{background-color:rgba(0,0,0,.05)}.issue:not(.selected) .location-index{background-color:#999}.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog){max-height:120px;overflow:auto}.issue .badge-error{background-color:#eec8c8}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nvar statusIcons = {\n    open: OpenStatusIcon,\n    confirmed: ConfirmedStatusIcon,\n    reopened: ReopenedStatusIcon,\n    resolved: ResolvedStatusIcon,\n    closed: ClosedStatusIcon,\n    to_review: OpenStatusIcon,\n    in_review: ConfirmedStatusIcon,\n    reviewed: ResolvedStatusIcon,\n};\nfunction StatusIcon(_a) {\n    var status = _a.status, iconProps = __rest(_a, [\"status\"]);\n    var Icon = statusIcons[status.toLowerCase()];\n    return Icon ? React.createElement(Icon, __assign({}, iconProps)) : null;\n}\nexports.default = StatusIcon;\nfunction OpenStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.blue } }));\n    }));\n}\nfunction ConfirmedStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M10 8c0 .552-.195 1.023-.586 1.414-.39.39-.862.586-1.414.586a1.926 1.926 0 0 1-1.414-.586A1.928 1.928 0 0 1 6 8c0-.552.195-1.023.586-1.414C6.976 6.196 7.448 6 8 6c.552 0 1.023.195 1.414.586.39.39.586.862.586 1.414zM8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.blue } }));\n    }));\n}\nfunction ReopenedStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 12.25v-8.5c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.blue } }));\n    }));\n}\nfunction ResolvedStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M12.03 6.734a.49.49 0 0 0-.14-.36l-.71-.702a.48.48 0 0 0-.352-.15.474.474 0 0 0-.35.15l-3.19 3.18-1.765-1.766a.479.479 0 0 0-.35-.15.479.479 0 0 0-.353.15l-.71.703a.482.482 0 0 0-.14.358c0 .14.046.258.14.352l2.828 2.828c.098.1.216.15.35.15.142 0 .26-.05.36-.15l4.243-4.242a.475.475 0 0 0 .14-.352l-.001.001zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.baseFontColor } }));\n    }));\n}\nfunction ClosedStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.baseFontColor } }));\n    }));\n}\n//# sourceMappingURL=StatusIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { intersection } from 'lodash';\n\nexport function optimizeHighlightedSymbols(\n  symbolsForLine: string[] = [],\n  highlightedSymbols: string[] = []\n): string[] | undefined {\n  const symbols = intersection(symbolsForLine, highlightedSymbols);\n\n  return symbols.length ? symbols : undefined;\n}\n\nexport function optimizeLocationMessage(\n  highlightedLocationMessage: { index: number; text: string | undefined } | undefined,\n  optimizedSecondaryIssueLocations: T.LinearIssueLocation[]\n) {\n  return highlightedLocationMessage != null &&\n    optimizedSecondaryIssueLocations.some(\n      location => location.index === highlightedLocationMessage.index\n    )\n    ? highlightedLocationMessage\n    : undefined;\n}\n\nexport function optimizeSelectedIssue(selectedIssue: string | undefined, issuesForLine: T.Issue[]) {\n  return selectedIssue !== undefined && issuesForLine.find(issue => issue.key === selectedIssue)\n    ? selectedIssue\n    : undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nconst LINES_ABOVE = 5;\nconst LINES_BELOW = 5;\nexport const MERGE_DISTANCE = 11; // Merge if snippets are eleven lines away (separated by 10 lines) or fewer\nexport const LINES_BELOW_ISSUE = 9;\nexport const EXPAND_BY_LINES = 50;\n\nfunction unknownComponent(key: string): T.SnippetsByComponent {\n  return {\n    component: {\n      key,\n      measures: {},\n      path: '',\n      project: '',\n      projectName: '',\n      q: 'FIL',\n      uuid: ''\n    },\n    sources: []\n  };\n}\n\nfunction collision([startA, endA]: number[], [startB, endB]: number[]) {\n  return !(startA > endB + MERGE_DISTANCE || endA < startB - MERGE_DISTANCE);\n}\n\nexport function getPrimaryLocation(issue: T.Issue): T.FlowLocation {\n  return {\n    component: issue.component,\n    textRange: issue.textRange || {\n      endLine: 0,\n      endOffset: 0,\n      startLine: 0,\n      startOffset: 0\n    }\n  };\n}\n\nfunction addLinesBellow(params: { issue: T.Issue; locationEnd: number }) {\n  const { issue, locationEnd } = params;\n  const issueEndLine = (issue.textRange && issue.textRange.endLine) || 0;\n\n  if (!issueEndLine || issueEndLine === locationEnd) {\n    return locationEnd + LINES_BELOW_ISSUE;\n  }\n\n  return locationEnd + LINES_BELOW;\n}\n\nexport function createSnippets(params: {\n  component: string;\n  issue: T.Issue;\n  locations: T.FlowLocation[];\n}): T.Snippet[] {\n  const { component, issue, locations } = params;\n\n  const hasSecondaryLocations = issue.secondaryLocations.length > 0;\n  const addIssueLocation =\n    hasSecondaryLocations && issue.component === component && issue.textRange !== undefined;\n\n  // For each location: compute its range, and then compare with other ranges\n  // to merge snippets that collide.\n  const ranges = (addIssueLocation ? [getPrimaryLocation(issue), ...locations] : locations).reduce(\n    (snippets: T.Snippet[], loc, index) => {\n      const startIndex = Math.max(1, loc.textRange.startLine - LINES_ABOVE);\n      const endIndex = addLinesBellow({ issue, locationEnd: loc.textRange.endLine });\n\n      let firstCollision: { start: number; end: number } | undefined;\n\n      // Remove ranges that collide into the first collision\n      snippets = snippets.filter(snippet => {\n        if (collision([snippet.start, snippet.end], [startIndex, endIndex])) {\n          let keep = false;\n          // Check if we've already collided\n          if (!firstCollision) {\n            firstCollision = snippet;\n            keep = true;\n          }\n          // Merge with first collision:\n          firstCollision.start = Math.min(startIndex, snippet.start, firstCollision.start);\n          firstCollision.end = Math.max(endIndex, snippet.end, firstCollision.end);\n\n          // remove the range if it was not the first collision\n          return keep;\n        }\n        return true;\n      });\n\n      if (firstCollision === undefined) {\n        snippets.push({\n          start: startIndex,\n          end: endIndex,\n          index\n        });\n      }\n\n      return snippets;\n    },\n    []\n  );\n\n  // Sort snippets by line number in the case of secondary locations\n  // Preserve location order for flows!\n  return hasSecondaryLocations ? ranges.sort((a, b) => a.start - b.start) : ranges;\n}\n\nexport function linesForSnippets(snippets: T.Snippet[], componentLines: T.LineMap) {\n  return snippets\n    .map(snippet => {\n      const lines = [];\n      for (let i = snippet.start; i <= snippet.end; i++) {\n        if (componentLines[i]) {\n          lines.push(componentLines[i]);\n        }\n      }\n      return lines;\n    })\n    .filter(snippet => snippet.length > 0);\n}\n\nexport function groupLocationsByComponent(\n  issue: T.Issue,\n  locations: T.FlowLocation[],\n  components: { [key: string]: T.SnippetsByComponent }\n) {\n  let currentComponent = '';\n  let currentGroup: T.SnippetGroup;\n  const groups: T.SnippetGroup[] = [];\n\n  const addGroup = (componentKey: string) => {\n    currentGroup = {\n      ...(components[componentKey] || unknownComponent(componentKey)),\n      locations: []\n    };\n    groups.push(currentGroup);\n    currentComponent = componentKey;\n  };\n\n  if (\n    issue.secondaryLocations.length > 0 &&\n    locations.every(loc => loc.component !== issue.component)\n  ) {\n    addGroup(issue.component);\n  }\n\n  locations.forEach((loc, index) => {\n    if (loc.component !== currentComponent) {\n      addGroup(loc.component);\n    }\n    loc.index = index;\n    currentGroup.locations.push(loc);\n  });\n\n  return groups;\n}\n\nexport function expandSnippet({\n  direction,\n  snippetIndex,\n  snippets\n}: {\n  direction: T.ExpandDirection;\n  snippetIndex: number;\n  snippets: T.Snippet[];\n}) {\n  const snippetToExpand = snippets.find(s => s.index === snippetIndex);\n  if (!snippetToExpand) {\n    throw new Error(`Snippet ${snippetIndex} not found`);\n  }\n\n  snippetToExpand.start = Math.max(\n    0,\n    snippetToExpand.start - (direction === 'up' ? EXPAND_BY_LINES : 0)\n  );\n  snippetToExpand.end += direction === 'down' ? EXPAND_BY_LINES : 0;\n\n  return snippets.map(snippet => {\n    if (snippet.index === snippetIndex) {\n      return snippetToExpand;\n    }\n    if (collision([snippet.start, snippet.end], [snippetToExpand.start, snippetToExpand.end])) {\n      // Merge with expanded snippet\n      snippetToExpand.start = Math.min(snippet.start, snippetToExpand.start);\n      snippetToExpand.end = Math.max(snippet.end, snippetToExpand.end);\n      snippet.toDelete = true;\n    }\n    return snippet;\n  });\n}\n\nexport function inSnippet(line: number, snippet: T.SourceLine[]) {\n  return line >= snippet[0].line && line <= snippet[snippet.length - 1].line;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport Issue from '../../issue/Issue';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: T.Issue[];\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueClick: (issueKey: string) => void;\n  onIssuePopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  selectedIssue: string | undefined;\n}\n\nexport default function LineIssuesList(props: Props) {\n  const { issuePopup } = props;\n\n  return (\n    <div className=\"issue-list\">\n      {props.issues.map(issue => (\n        <Issue\n          branchLike={props.branchLike}\n          displayLocationsCount={props.displayIssueLocationsCount}\n          displayLocationsLink={props.displayIssueLocationsLink}\n          issue={issue}\n          key={issue.key}\n          onChange={props.onIssueChange}\n          onClick={props.onIssueClick}\n          onPopupToggle={props.onIssuePopupToggle}\n          openPopup={issuePopup && issuePopup.issue === issue.key ? issuePopup.name : undefined}\n          selected={props.selectedIssue === issue.key}\n        />\n      ))}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport LocationIndex from '../../common/LocationIndex';\nimport LocationMessage from '../../common/LocationMessage';\nimport {\n  highlightIssueLocations,\n  highlightSymbol,\n  splitByTokens,\n  Token\n} from '../helpers/highlight';\nimport LineIssuesList from './LineIssuesList';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  displayLocationMarkers?: boolean;\n  highlightedLocationMessage: { index: number; text: string | undefined } | undefined;\n  highlightedSymbols: string[] | undefined;\n  issueLocations: T.LinearIssueLocation[];\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: T.Issue[];\n  line: T.SourceLine;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssuePopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: ((index: number) => void) | undefined;\n  onSymbolClick: (symbols: Array<string>) => void;\n  padding?: number;\n  scroll?: (element: HTMLElement) => void;\n  secondaryIssueLocations: T.LinearIssueLocation[];\n  selectedIssue: string | undefined;\n  showIssues?: boolean;\n}\n\ninterface State {\n  tokens: Token[];\n}\n\nexport default class LineCode extends React.PureComponent<Props, State> {\n  activeMarkerNode?: HTMLElement | null;\n  codeNode?: HTMLElement | null;\n  symbols?: NodeListOf<HTMLElement>;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      tokens: splitByTokens(props.line.code || '')\n    };\n  }\n\n  componentDidMount() {\n    this.attachEvents();\n    if (this.props.highlightedLocationMessage && this.activeMarkerNode && this.props.scroll) {\n      this.props.scroll(this.activeMarkerNode);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.line.code !== this.props.line.code) {\n      this.setState({\n        tokens: splitByTokens(nextProps.line.code || '')\n      });\n    }\n  }\n\n  componentWillUpdate() {\n    this.detachEvents();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    this.attachEvents();\n    if (\n      this.props.highlightedLocationMessage &&\n      (!prevProps.highlightedLocationMessage ||\n        prevProps.highlightedLocationMessage.index !==\n          this.props.highlightedLocationMessage.index) &&\n      this.activeMarkerNode &&\n      this.props.scroll\n    ) {\n      this.props.scroll(this.activeMarkerNode);\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachEvents();\n  }\n\n  attachEvents() {\n    if (this.codeNode) {\n      this.symbols = this.codeNode.querySelectorAll('.sym');\n      if (this.symbols) {\n        for (let i = 0; i < this.symbols.length; i++) {\n          const symbol = this.symbols[i];\n          symbol.addEventListener('click', this.handleSymbolClick);\n        }\n      }\n    }\n  }\n\n  detachEvents() {\n    if (this.symbols) {\n      for (let i = 0; i < this.symbols.length; i++) {\n        const symbol = this.symbols[i];\n        symbol.addEventListener('click', this.handleSymbolClick);\n      }\n    }\n  }\n\n  handleSymbolClick = (event: MouseEvent) => {\n    event.preventDefault();\n    const keys = (event.currentTarget as HTMLElement).className.match(/sym-\\d+/g);\n    if (keys && keys.length > 0) {\n      this.props.onSymbolClick(keys);\n    }\n  };\n\n  renderMarker(index: number, message: string | undefined, selected: boolean, leading: boolean) {\n    const { onLocationSelect } = this.props;\n    const onClick = onLocationSelect ? () => onLocationSelect(index) : undefined;\n    const ref = selected ? (node: HTMLElement | null) => (this.activeMarkerNode = node) : undefined;\n    return (\n      <LocationIndex\n        key={`marker-${index}`}\n        leading={leading}\n        onClick={onClick}\n        selected={selected}>\n        <span ref={ref}>{index + 1}</span>\n        {message && <LocationMessage selected={true}>{message}</LocationMessage>}\n      </LocationIndex>\n    );\n  }\n\n  render() {\n    const {\n      highlightedLocationMessage,\n      highlightedSymbols,\n      issues,\n      issueLocations,\n      line,\n      onIssueSelect,\n      padding,\n      secondaryIssueLocations,\n      selectedIssue,\n      showIssues\n    } = this.props;\n\n    let tokens = [...this.state.tokens];\n\n    if (highlightedSymbols) {\n      highlightedSymbols.forEach(symbol => {\n        tokens = highlightSymbol(tokens, symbol);\n      });\n    }\n\n    if (issueLocations.length > 0) {\n      tokens = highlightIssueLocations(tokens, issueLocations);\n    }\n\n    if (secondaryIssueLocations) {\n      tokens = highlightIssueLocations(tokens, secondaryIssueLocations, 'issue-location');\n\n      if (highlightedLocationMessage) {\n        const location = secondaryIssueLocations.find(\n          location => location.index === highlightedLocationMessage.index\n        );\n        if (location) {\n          tokens = highlightIssueLocations(tokens, [location], 'selected');\n        }\n      }\n    }\n\n    const className = classNames('source-line-code', 'code', {\n      'has-issues': issues.length > 0\n    });\n\n    const renderedTokens: React.ReactNode[] = [];\n\n    // track if the first marker is displayed before the source code\n    // set `false` for the first token in a row\n    let leadingMarker = false;\n\n    tokens.forEach((token, index) => {\n      if (this.props.displayLocationMarkers && token.markers.length > 0) {\n        token.markers.forEach(marker => {\n          const selected =\n            highlightedLocationMessage !== undefined && highlightedLocationMessage.index === marker;\n          const loc = secondaryIssueLocations.find(loc => loc.index === marker);\n          const message = loc && loc.text;\n          renderedTokens.push(this.renderMarker(marker, message, selected, leadingMarker));\n        });\n      }\n      renderedTokens.push(\n        <span className={token.className} key={index}>\n          {token.text}\n        </span>\n      );\n\n      // keep leadingMarker truthy if previous token has only whitespaces\n      leadingMarker = (index === 0 ? true : leadingMarker) && !token.text.trim().length;\n    });\n\n    const style = padding ? { paddingBottom: `${padding}px` } : undefined;\n    const filteredSelectedIssues = issues.filter(i => i.key === selectedIssue);\n\n    return (\n      <td className={className} data-line-number={line.line} style={style}>\n        <div className=\"source-line-code-inner\">\n          <pre ref={node => (this.codeNode = node)}>{renderedTokens}</pre>\n        </div>\n        {showIssues && issues.length > 0 && (\n          <LineIssuesList\n            branchLike={this.props.branchLike}\n            displayIssueLocationsCount={this.props.displayIssueLocationsCount}\n            displayIssueLocationsLink={this.props.displayIssueLocationsLink}\n            issuePopup={this.props.issuePopup}\n            issues={issues}\n            onIssueChange={this.props.onIssueChange}\n            onIssueClick={onIssueSelect}\n            onIssuePopupToggle={this.props.onIssuePopupToggle}\n            selectedIssue={selectedIssue}\n          />\n        )}\n        {selectedIssue && !showIssues && (\n          <LineIssuesList\n            branchLike={this.props.branchLike}\n            issuePopup={this.props.issuePopup}\n            issues={filteredSelectedIssues}\n            onIssueChange={this.props.onIssueChange}\n            onIssueClick={onIssueSelect}\n            onIssuePopupToggle={this.props.onIssuePopupToggle}\n            selectedIssue={selectedIssue}\n          />\n        )}\n      </td>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\nexport interface LineCoverageProps {\n  line: T.SourceLine;\n  scroll?: (element: HTMLElement) => void;\n  scrollToUncoveredLine?: boolean;\n}\n\nexport function LineCoverage({ line, scroll, scrollToUncoveredLine }: LineCoverageProps) {\n  const coverageMarker = React.useRef<HTMLTableDataCellElement>(null);\n  React.useEffect(() => {\n    if (scrollToUncoveredLine && scroll && coverageMarker.current) {\n      scroll(coverageMarker.current);\n    }\n  }, [scrollToUncoveredLine, scroll, coverageMarker]);\n\n  const className =\n    'source-meta source-line-coverage' +\n    (line.coverageStatus != null ? ` source-line-${line.coverageStatus}` : '');\n  const status = getStatusTooltip(line);\n\n  return (\n    <td className={className} data-line-number={line.line} ref={coverageMarker}>\n      <Tooltip overlay={status} placement=\"bottom\">\n        <div aria-label={status} className=\"source-line-bar\" />\n      </Tooltip>\n    </td>\n  );\n}\n\nfunction getStatusTooltip(line: T.SourceLine) {\n  if (line.coverageStatus === 'uncovered') {\n    if (line.conditions) {\n      return translateWithParameters('source_viewer.tooltip.uncovered.conditions', line.conditions);\n    } else {\n      return translate('source_viewer.tooltip.uncovered');\n    }\n  } else if (line.coverageStatus === 'covered') {\n    if (line.conditions) {\n      return translateWithParameters('source_viewer.tooltip.covered.conditions', line.conditions);\n    } else {\n      return translate('source_viewer.tooltip.covered');\n    }\n  } else if (line.coverageStatus === 'partially-covered') {\n    if (line.conditions) {\n      return translateWithParameters(\n        'source_viewer.tooltip.partially-covered.conditions',\n        line.coveredConditions || 0,\n        line.conditions\n      );\n    } else {\n      return translate('source_viewer.tooltip.partially-covered');\n    }\n  }\n  return undefined;\n}\n\nexport default React.memo(LineCoverage);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface LineDuplicationBlockProps {\n  blocksLoaded: boolean;\n  duplicated: boolean;\n  index: number;\n  line: T.SourceLine;\n  onClick?: (line: T.SourceLine) => void;\n  renderDuplicationPopup: (index: number, line: number) => React.ReactNode;\n}\n\nexport function LineDuplicationBlock(props: LineDuplicationBlockProps) {\n  const { blocksLoaded, duplicated, index, line } = props;\n  const [dropdownOpen, setDropdownOpen] = React.useState(false);\n\n  const className = classNames('source-meta', 'source-line-duplications', {\n    'source-line-duplicated': duplicated\n  });\n\n  return duplicated ? (\n    <td className={className} data-index={index} data-line-number={line.line}>\n      <Tooltip\n        overlay={dropdownOpen ? undefined : translate('source_viewer.tooltip.duplicated_block')}\n        placement=\"right\">\n        <div>\n          <Toggler\n            onRequestClose={() => setDropdownOpen(false)}\n            open={dropdownOpen}\n            overlay={\n              <DropdownOverlay placement={PopupPlacement.RightTop}>\n                {props.renderDuplicationPopup(index, line.line)}\n              </DropdownOverlay>\n            }>\n            <div\n              aria-label={translate('source_viewer.tooltip.duplicated_block')}\n              className=\"source-line-bar\"\n              onClick={() => {\n                setDropdownOpen(true);\n                if (!blocksLoaded && line.duplicated && props.onClick) {\n                  props.onClick(line);\n                }\n              }}\n              role=\"button\"\n              tabIndex={0}\n            />\n          </Toggler>\n        </div>\n      </Tooltip>\n    </td>\n  ) : (\n    <td className={className} data-index={index} data-line-number={line.line}>\n      <div className=\"source-line-bar\" />\n    </td>\n  );\n}\n\nexport default React.memo(LineDuplicationBlock);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { uniq } from 'lodash';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport IssueIcon from 'sonar-ui-common/components/icons/IssueIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { sortByType } from '../../../helpers/issues';\n\nexport interface LineIssuesIndicatorProps {\n  issues: T.Issue[];\n  issuesOpen?: boolean;\n  line: T.SourceLine;\n  onClick: () => void;\n}\n\nexport function LineIssuesIndicator(props: LineIssuesIndicatorProps) {\n  const { issues, issuesOpen, line } = props;\n  const hasIssues = issues.length > 0;\n  const className = classNames('source-meta', 'source-line-issues', {\n    'source-line-with-issues': hasIssues\n  });\n\n  if (!hasIssues) {\n    return <td className={className} data-line-number={line.line} />;\n  }\n\n  const mostImportantIssue = sortByType(issues)[0];\n  const issueTypes = uniq(issues.map(i => i.type));\n\n  let tooltipContent;\n  if (issueTypes.length > 1) {\n    tooltipContent = translate('source_viewer.issues_on_line.multiple_issues');\n  } else if (issues.length === 1) {\n    tooltipContent = translateWithParameters(\n      'source_viewer.issues_on_line.issue_of_type_X',\n      translate('issue.type', mostImportantIssue.type)\n    );\n  } else {\n    tooltipContent = translateWithParameters(\n      'source_viewer.issues_on_line.X_issues_of_type_Y',\n      issues.length,\n      translate('issue.type', mostImportantIssue.type, 'plural')\n    );\n  }\n\n  return (\n    <td className={className} data-line-number={line.line}>\n      <span\n        aria-label={translate('source_viewer.issues_on_line', issuesOpen ? 'hide' : 'show')}\n        onClick={(e: React.MouseEvent<HTMLElement>) => {\n          e.preventDefault();\n          e.currentTarget.blur();\n          props.onClick();\n        }}\n        role=\"button\"\n        tabIndex={0}>\n        <Tooltip overlay={tooltipContent}>\n          <IssueIcon type={mostImportantIssue.type} />\n        </Tooltip>\n        {issues.length > 1 && <span className=\"source-line-issues-counter\">{issues.length}</span>}\n      </span>\n    </td>\n  );\n}\n\nexport default React.memo(LineIssuesIndicator);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ActionsDropdownItem } from 'sonar-ui-common/components/controls/ActionsDropdown';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getPathUrlAsString } from 'sonar-ui-common/helpers/urls';\nimport { getCodeUrl } from '../../../helpers/urls';\nimport { SourceViewerContext } from '../SourceViewerContext';\n\nexport interface LineOptionsPopupProps {\n  firstLineNumber: number;\n  line: T.SourceLine;\n}\n\nexport function LineOptionsPopup({ firstLineNumber, line }: LineOptionsPopupProps) {\n  return (\n    <SourceViewerContext.Consumer>\n      {({ branchLike, file }) => {\n        const codeLocation = getCodeUrl(file.project, branchLike, file.key, line.line);\n        const codeUrl = getPathUrlAsString(codeLocation, false);\n        const isAtTop = line.line - 4 < firstLineNumber;\n        return (\n          <DropdownOverlay\n            className=\"big-spacer-left\"\n            noPadding={true}\n            placement={isAtTop ? PopupPlacement.BottomLeft : PopupPlacement.TopLeft}>\n            <ul className=\"padded source-viewer-bubble-popup nowrap\">\n              <ActionsDropdownItem copyValue={codeUrl}>\n                {translate('component_viewer.copy_permalink')}\n              </ActionsDropdownItem>\n            </ul>\n          </DropdownOverlay>\n        );\n      }}\n    </SourceViewerContext.Consumer>\n  );\n}\n\nexport default React.memo(LineOptionsPopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport LineOptionsPopup from './LineOptionsPopup';\n\nexport interface LineNumberProps {\n  firstLineNumber: number;\n  line: T.SourceLine;\n}\n\nexport function LineNumber({ firstLineNumber, line }: LineNumberProps) {\n  const [isOpen, setOpen] = React.useState<boolean>(false);\n  const { line: lineNumber } = line;\n  const hasLineNumber = !!lineNumber;\n\n  return hasLineNumber ? (\n    <td className=\"source-meta source-line-number\" data-line-number={lineNumber}>\n      <Toggler\n        closeOnClickOutside={true}\n        onRequestClose={() => setOpen(false)}\n        open={isOpen}\n        overlay={<LineOptionsPopup firstLineNumber={firstLineNumber} line={line} />}>\n        <span\n          aria-expanded={isOpen}\n          aria-haspopup={true}\n          aria-label={translateWithParameters('source_viewer.line_X', lineNumber)}\n          onClick={() => setOpen(true)}\n          role=\"button\"\n          tabIndex={0}>\n          {lineNumber}\n        </span>\n      </Toggler>\n    </td>\n  ) : (\n    <td className=\"source-meta source-line-number\" />\n  );\n}\n\nexport default React.memo(LineNumber);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport DateFormatter from 'sonar-ui-common/components/intl/DateFormatter';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface SCMPopupProps {\n  line: T.SourceLine;\n}\n\nexport function SCMPopup({ line }: SCMPopupProps) {\n  const hasAuthor = line.scmAuthor !== undefined && line.scmAuthor !== '';\n  const hasDate = line.scmDate !== undefined;\n  return (\n    <div className=\"source-viewer-bubble-popup abs-width-400\">\n      {hasAuthor && (\n        <div>\n          <h4>{translate('author')}</h4>\n          {line.scmAuthor}\n        </div>\n      )}\n      {hasDate && (\n        <div className={classNames({ 'spacer-top': hasAuthor })}>\n          <h4>{translate('source_viewer.tooltip.scm.commited_on')}</h4>\n          <DateFormatter date={line.scmDate!} />\n        </div>\n      )}\n      {line.scmRevision && (\n        <div className={classNames({ 'spacer-top': hasAuthor || hasDate })}>\n          <h4>{translate('source_viewer.tooltip.scm.revision')}</h4>\n          {line.scmRevision}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default React.memo(SCMPopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport SCMPopup from './SCMPopup';\n\nexport interface LineSCMProps {\n  line: T.SourceLine;\n  previousLine: T.SourceLine | undefined;\n}\n\nexport function LineSCM({ line, previousLine }: LineSCMProps) {\n  const hasPopup = !!line.line;\n  const cell = (\n    <div className=\"source-line-scm-inner\">\n      {isSCMChanged(line, previousLine) ? line.scmAuthor || '…' : ' '}\n    </div>\n  );\n\n  if (hasPopup) {\n    let ariaLabel = translate('source_viewer.click_for_scm_info');\n    if (line.scmAuthor) {\n      ariaLabel = `${translateWithParameters(\n        'source_viewer.author_X',\n        line.scmAuthor\n      )}, ${ariaLabel}`;\n    }\n\n    return (\n      <td className=\"source-meta source-line-scm\" data-line-number={line.line}>\n        <Dropdown overlay={<SCMPopup line={line} />} overlayPlacement={PopupPlacement.RightTop}>\n          <div aria-label={ariaLabel} role=\"button\">\n            {cell}\n          </div>\n        </Dropdown>\n      </td>\n    );\n  } else {\n    return (\n      <td className=\"source-meta source-line-scm\" data-line-number={line.line}>\n        {cell}\n      </td>\n    );\n  }\n}\n\nfunction isSCMChanged(s: T.SourceLine, p: T.SourceLine | undefined) {\n  let changed = true;\n  if (p != null && s.scmRevision != null && p.scmRevision != null) {\n    changed = s.scmRevision !== p.scmRevision || s.scmDate !== p.scmDate;\n  }\n  return changed;\n}\n\nexport default React.memo(LineSCM);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { times } from 'lodash';\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport './Line.css';\nimport LineCode from './LineCode';\nimport LineCoverage from './LineCoverage';\nimport LineDuplicationBlock from './LineDuplicationBlock';\nimport LineIssuesIndicator from './LineIssuesIndicator';\nimport LineNumber from './LineNumber';\nimport LineSCM from './LineSCM';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  displayAllIssues?: boolean;\n  displayCoverage: boolean;\n  displayDuplications: boolean;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  displayIssues: boolean;\n  displayLocationMarkers?: boolean;\n  displaySCM?: boolean;\n  duplications: number[];\n  duplicationsCount: number;\n  firstLineNumber: number;\n  highlighted: boolean;\n  highlightedLocationMessage: { index: number; text: string | undefined } | undefined;\n  highlightedSymbols: string[] | undefined;\n  issueLocations: T.LinearIssueLocation[];\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: T.Issue[];\n  last: boolean;\n  line: T.SourceLine;\n  loadDuplications: (line: T.SourceLine) => void;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssuePopupToggle: (issueKey: string, popupName: string, open?: boolean) => void;\n  onIssuesClose: (line: T.SourceLine) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onIssuesOpen: (line: T.SourceLine) => void;\n  onIssueUnselect: () => void;\n  onLocationSelect: ((x: number) => void) | undefined;\n  onSymbolClick: (symbols: string[]) => void;\n  openIssues: boolean;\n  previousLine: T.SourceLine | undefined;\n  renderDuplicationPopup: (index: number, line: number) => React.ReactNode;\n  scroll?: (element: HTMLElement) => void;\n  scrollToUncoveredLine?: boolean;\n  secondaryIssueLocations: T.LinearIssueLocation[];\n  selectedIssue: string | undefined;\n  verticalBuffer?: number;\n}\n\nconst LINE_HEIGHT = 18;\n\nexport default class Line extends React.PureComponent<Props> {\n  handleIssuesIndicatorClick = () => {\n    if (this.props.openIssues) {\n      this.props.onIssuesClose(this.props.line);\n      this.props.onIssueUnselect();\n    } else {\n      this.props.onIssuesOpen(this.props.line);\n\n      const { issues } = this.props;\n      if (issues.length > 0) {\n        this.props.onIssueSelect(issues[0].key);\n      }\n    }\n  };\n\n  render() {\n    const {\n      branchLike,\n      displayAllIssues,\n      displayCoverage,\n      displayDuplications,\n      displayIssueLocationsCount,\n      displayIssueLocationsLink,\n      displayLocationMarkers,\n      highlightedLocationMessage,\n      displayIssues,\n      displaySCM = true,\n      duplications,\n      duplicationsCount,\n      firstLineNumber,\n      highlighted,\n      highlightedSymbols,\n      issueLocations,\n      issuePopup,\n      issues,\n      last,\n      line,\n      openIssues,\n      previousLine,\n      scrollToUncoveredLine,\n      secondaryIssueLocations,\n      selectedIssue,\n      verticalBuffer\n    } = this.props;\n\n    const className = classNames('source-line', {\n      'source-line-highlighted': highlighted,\n      'source-line-filtered': line.isNew,\n      'source-line-filtered-dark':\n        displayCoverage &&\n        (line.coverageStatus === 'uncovered' || line.coverageStatus === 'partially-covered'),\n      'source-line-last': last === true\n    });\n\n    const bottomPadding = verticalBuffer ? verticalBuffer * LINE_HEIGHT : undefined;\n\n    return (\n      <tr className={className} data-line-number={line.line}>\n        <LineNumber firstLineNumber={firstLineNumber} line={line} />\n\n        {displaySCM && <LineSCM line={line} previousLine={previousLine} />}\n        {displayIssues && !displayAllIssues ? (\n          <LineIssuesIndicator\n            issues={issues}\n            issuesOpen={openIssues}\n            line={line}\n            onClick={this.handleIssuesIndicatorClick}\n          />\n        ) : (\n          <td className=\"source-meta source-line-issues\" />\n        )}\n\n        {displayDuplications && (\n          <LineDuplicationBlock\n            blocksLoaded={duplicationsCount > 0}\n            duplicated={Boolean(line.duplicated)}\n            index={0}\n            key={0}\n            line={this.props.line}\n            onClick={this.props.loadDuplications}\n            renderDuplicationPopup={this.props.renderDuplicationPopup}\n          />\n        )}\n\n        {duplicationsCount > 1 &&\n          times(duplicationsCount - 1, index => (\n            <LineDuplicationBlock\n              blocksLoaded={true}\n              duplicated={duplications.includes(index + 1)}\n              index={index + 1}\n              key={index + 1}\n              line={this.props.line}\n              renderDuplicationPopup={this.props.renderDuplicationPopup}\n            />\n          ))}\n\n        {displayCoverage && (\n          <LineCoverage\n            line={line}\n            scroll={this.props.scroll}\n            scrollToUncoveredLine={scrollToUncoveredLine}\n          />\n        )}\n\n        <LineCode\n          branchLike={branchLike}\n          displayIssueLocationsCount={displayIssueLocationsCount}\n          displayIssueLocationsLink={displayIssueLocationsLink}\n          displayLocationMarkers={displayLocationMarkers}\n          highlightedLocationMessage={highlightedLocationMessage}\n          highlightedSymbols={highlightedSymbols}\n          issueLocations={issueLocations}\n          issuePopup={issuePopup}\n          issues={issues}\n          line={line}\n          onIssueChange={this.props.onIssueChange}\n          onIssuePopupToggle={this.props.onIssuePopupToggle}\n          onIssueSelect={this.props.onIssueSelect}\n          onLocationSelect={this.props.onLocationSelect}\n          onSymbolClick={this.props.onSymbolClick}\n          padding={bottomPadding}\n          scroll={this.props.scroll}\n          secondaryIssueLocations={secondaryIssueLocations}\n          selectedIssue={selectedIssue}\n          showIssues={openIssues || displayAllIssues}\n        />\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport ExpandSnippetIcon from 'sonar-ui-common/components/icons/ExpandSnippetIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { scrollHorizontally } from 'sonar-ui-common/helpers/scrolling';\nimport Line from '../../../components/SourceViewer/components/Line';\nimport { symbolsByLine } from '../../../components/SourceViewer/helpers/indexing';\nimport { getSecondaryIssueLocationsForLine } from '../../../components/SourceViewer/helpers/issueLocations';\nimport {\n  optimizeHighlightedSymbols,\n  optimizeLocationMessage,\n  optimizeSelectedIssue\n} from '../../../components/SourceViewer/helpers/lines';\nimport { BranchLike } from '../../../types/branch-like';\nimport './SnippetViewer.css';\nimport { inSnippet, LINES_BELOW_ISSUE } from './utils';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  component: T.SourceViewerFile;\n  displaySCM?: boolean;\n  duplications?: T.Duplication[];\n  duplicationsByLine?: { [line: number]: number[] };\n  expandBlock: (snippetIndex: number, direction: T.ExpandDirection) => Promise<void>;\n  handleCloseIssues: (line: T.SourceLine) => void;\n  handleOpenIssues: (line: T.SourceLine) => void;\n  handleSymbolClick: (symbols: string[]) => void;\n  highlightedLocationMessage: { index: number; text: string | undefined } | undefined;\n  highlightedSymbols: string[];\n  index: number;\n  issue: Pick<T.Issue, 'key' | 'textRange' | 'line'>;\n  issuePopup?: { issue: string; name: string };\n  issuesByLine: T.IssuesByLine;\n  lastSnippetOfLastGroup: boolean;\n  loadDuplications?: (line: T.SourceLine) => void;\n  locations: T.FlowLocation[];\n  locationsByLine: { [line: number]: T.LinearIssueLocation[] };\n  onIssueChange: (issue: T.Issue) => void;\n  onIssuePopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  onLocationSelect: (index: number) => void;\n  openIssuesByLine: T.Dict<boolean>;\n  renderDuplicationPopup: (index: number, line: number) => React.ReactNode;\n  scroll?: (element: HTMLElement, offset?: number) => void;\n  snippet: T.SourceLine[];\n}\n\nexport default class SnippetViewer extends React.PureComponent<Props> {\n  snippetNodeRef: React.RefObject<HTMLDivElement>;\n\n  constructor(props: Props) {\n    super(props);\n    this.snippetNodeRef = React.createRef();\n  }\n\n  doScroll = (element: HTMLElement) => {\n    if (this.props.scroll) {\n      this.props.scroll(element);\n    }\n    const parent = this.snippetNodeRef.current as Element;\n\n    if (parent) {\n      const offset = parent.getBoundingClientRect().width / 2;\n\n      scrollHorizontally(element, {\n        leftOffset: offset,\n        rightOffset: offset,\n        parent\n      });\n    }\n  };\n\n  scrollToLastExpandedRow = () => {\n    if (this.props.scroll) {\n      const snippetNode = this.snippetNodeRef.current as Element;\n      if (!snippetNode) {\n        return;\n      }\n      const rows = snippetNode.querySelectorAll('tr');\n      const lastRow = rows[rows.length - 1];\n      this.props.scroll(lastRow, 100);\n    }\n  };\n\n  expandBlock = (direction: T.ExpandDirection) => () =>\n    this.props.expandBlock(this.props.index, direction).then(() => {\n      if (direction === 'down') {\n        this.scrollToLastExpandedRow();\n      }\n    });\n\n  renderLine({\n    displayDuplications,\n    displaySCM,\n    index,\n    issuesForLine,\n    issueLocations,\n    line,\n    snippet,\n    symbols,\n    verticalBuffer\n  }: {\n    displayDuplications: boolean;\n    displaySCM?: boolean;\n    index: number;\n    issuesForLine: T.Issue[];\n    issueLocations: T.LinearIssueLocation[];\n    line: T.SourceLine;\n    snippet: T.SourceLine[];\n    symbols: string[];\n    verticalBuffer: number;\n  }) {\n    const secondaryIssueLocations = getSecondaryIssueLocationsForLine(line, this.props.locations);\n\n    const { duplications, duplicationsByLine } = this.props;\n    const duplicationsCount = duplications ? duplications.length : 0;\n    const lineDuplications =\n      (duplicationsCount && duplicationsByLine && duplicationsByLine[line.line]) || [];\n\n    const isSinkLine = issuesForLine.some(i => i.key === this.props.issue.key);\n    const firstLineNumber = snippet && snippet.length ? snippet[0].line : 0;\n    const noop = () => {};\n\n    return (\n      <Line\n        branchLike={this.props.branchLike}\n        displayAllIssues={false}\n        displayCoverage={true}\n        displayDuplications={displayDuplications}\n        displayIssues={!isSinkLine || issuesForLine.length > 1}\n        displayLocationMarkers={true}\n        displaySCM={displaySCM}\n        duplications={lineDuplications}\n        duplicationsCount={duplicationsCount}\n        firstLineNumber={firstLineNumber}\n        highlighted={false}\n        highlightedLocationMessage={optimizeLocationMessage(\n          this.props.highlightedLocationMessage,\n          secondaryIssueLocations\n        )}\n        highlightedSymbols={optimizeHighlightedSymbols(symbols, this.props.highlightedSymbols)}\n        issueLocations={issueLocations}\n        issuePopup={this.props.issuePopup}\n        issues={issuesForLine}\n        key={line.line}\n        last={false}\n        line={line}\n        loadDuplications={this.props.loadDuplications || noop}\n        onIssueChange={this.props.onIssueChange}\n        onIssuePopupToggle={this.props.onIssuePopupToggle}\n        onIssueSelect={noop}\n        onIssueUnselect={noop}\n        onIssuesClose={this.props.handleCloseIssues}\n        onIssuesOpen={this.props.handleOpenIssues}\n        onLocationSelect={this.props.onLocationSelect}\n        onSymbolClick={this.props.handleSymbolClick}\n        openIssues={this.props.openIssuesByLine[line.line]}\n        previousLine={index > 0 ? snippet[index - 1] : undefined}\n        renderDuplicationPopup={this.props.renderDuplicationPopup}\n        scroll={this.doScroll}\n        secondaryIssueLocations={secondaryIssueLocations}\n        selectedIssue={optimizeSelectedIssue(this.props.issue.key, issuesForLine)}\n        verticalBuffer={verticalBuffer}\n      />\n    );\n  }\n\n  render() {\n    const {\n      component,\n      displaySCM,\n      issue,\n      issuesByLine = {},\n      lastSnippetOfLastGroup,\n      locationsByLine,\n      openIssuesByLine,\n      snippet\n    } = this.props;\n    const lastLine =\n      component.measures && component.measures.lines && parseInt(component.measures.lines, 10);\n\n    const symbols = symbolsByLine(snippet);\n\n    const bottomLine = snippet[snippet.length - 1].line;\n    const issueLine = issue.textRange ? issue.textRange.endLine : issue.line;\n    const lowestVisibleIssue = Math.max(\n      ...Object.keys(issuesByLine)\n        .map(k => parseInt(k, 10))\n        .filter(l => inSnippet(l, snippet) && (l === issueLine || openIssuesByLine[l]))\n    );\n    const verticalBuffer = lastSnippetOfLastGroup\n      ? Math.max(0, LINES_BELOW_ISSUE - (bottomLine - lowestVisibleIssue))\n      : 0;\n\n    const displayDuplications =\n      Boolean(this.props.loadDuplications) && snippet.some(s => !!s.duplicated);\n\n    return (\n      <div className=\"source-viewer-code snippet\" ref={this.snippetNodeRef}>\n        <div>\n          {snippet[0].line > 1 && (\n            <div className=\"expand-block expand-block-above\">\n              <button\n                aria-label={translate('source_viewer.expand_above')}\n                onClick={this.expandBlock('up')}\n                type=\"button\">\n                <ExpandSnippetIcon />\n              </button>\n            </div>\n          )}\n          <table\n            className={classNames('source-table', {\n              'expand-up': snippet[0].line > 1,\n              'expand-down': !lastLine || snippet[snippet.length - 1].line < lastLine\n            })}>\n            <tbody>\n              {snippet.map((line, index) =>\n                this.renderLine({\n                  displayDuplications,\n                  displaySCM,\n                  index,\n                  issuesForLine: issuesByLine[line.line] || [],\n                  issueLocations: locationsByLine[line.line] || [],\n                  line,\n                  snippet,\n                  symbols: symbols[line.line],\n                  verticalBuffer: index === snippet.length - 1 ? verticalBuffer : 0\n                })\n              )}\n            </tbody>\n          </table>\n          {(!lastLine || snippet[snippet.length - 1].line < lastLine) && (\n            <div className=\"expand-block expand-block-below\">\n              <button\n                aria-label={translate('source_viewer.expand_below')}\n                onClick={this.expandBlock('down')}\n                type=\"button\">\n                <ExpandSnippetIcon />\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./SnippetViewer.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".snippet{margin:8px;border:1px solid #cdcdcd;overflow-x:auto;overflow-y:hidden;transition:max-height .2s}.snippet>div{display:table;width:100%;position:relative;transition:margin-top .2s}.snippet table{width:100%}.expand-block{position:absolute;z-index:2;width:100%}.expand-block>button{background:transparent;box-sizing:border-box;color:#666;height:20px;width:100%;padding:2px;border:0;text-align:left;cursor:pointer}.expand-block>button:active,.expand-block>button:focus,.expand-block>button:hover{color:#236a97;outline:none}.expand-block-above{background:url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAAXNSR0IArs4c6QAAADdJREFUCB1dzMEKADAIAlBd1v9/bcc2YgRjHh8qq2qTxCQzsX4wM6y30RARF3sy0Es1SIK7Y64OpCES1W69JS4AAAAASUVORK5CYII=\\\");top:0}.expand-block-below{background:url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wQQBjQEQVd5jwAAADhJREFUCNddyTEKADEMA8GVA/7/Z+PGwUp1cGTaYe/tv5lxrLWoKj6SiMzkjZDEG7JtANt0N+ccLrB/KZxXTt7fAAAAAElFTkSuQmCC\\\");bottom:0}.source-table.expand-up{margin-top:20px}.source-table.expand-down{margin-bottom:20px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}